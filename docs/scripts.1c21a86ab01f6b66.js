!function(V,ht){"object"==typeof exports&&typeof module<"u"?module.exports=ht():"function"==typeof define&&define.amd?define(ht):(V=typeof globalThis<"u"?globalThis:V||self).ApexCharts=ht()}(this,function(){"use strict";function V(A,t){(null==t||t>A.length)&&(t=A.length);for(var e=0,i=Array(t);e<t;e++)i[e]=A[e];return i}function ht(A){if(void 0===A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function q(A,t){if(!(A instanceof t))throw new TypeError("Cannot call a class as a function")}function ei(A,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(A,ai(i.key),i)}}function W(A,t,e){return t&&ei(A.prototype,t),e&&ei(A,e),Object.defineProperty(A,"prototype",{writable:!1}),A}function ze(A,t){var e=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(!e){if(Array.isArray(A)||(e=Ee(A))||t&&A&&"number"==typeof A.length){e&&(A=e);var i=0,a=function(){};return{s:a,n:function(){return i>=A.length?{done:!0}:{done:!1,value:A[i++]}},e:function(h){throw h},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,r=!1;return{s:function(){e=e.call(A)},n:function(){var h=e.next();return o=h.done,h},e:function(h){r=!0,n=h},f:function(){try{o||null==e.return||e.return()}finally{if(r)throw n}}}}function ct(A){var t=Kt();return function(){var e,i=se(A);if(t){var a=se(this).constructor;e=Reflect.construct(i,arguments,a)}else e=i.apply(this,arguments);return function(n,o){if(o&&("object"==typeof o||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return ht(n)}(this,e)}}function Ie(A,t,e){return(t=ai(t))in A?Object.defineProperty(A,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):A[t]=e,A}function se(A){return(se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(A)}function kt(A,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(t&&t.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),t&&_t(A,t)}function Kt(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kt=function(){return!!A})()}function Ne(A,t){var e=Object.keys(A);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(A);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(A,a).enumerable})),e.push.apply(e,i)}return e}function Z(A){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(e),!0).forEach(function(i){Ie(A,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(e)):Ne(Object(e)).forEach(function(i){Object.defineProperty(A,i,Object.getOwnPropertyDescriptor(e,i))})}return A}function _t(A,t){return(_t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,i){return e.__proto__=i,e})(A,t)}function ii(A,t){return function(e){if(Array.isArray(e))return e}(A)||function(e,i){var a=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var n,o,r,h,d=[],p=!0,g=!1;try{if(r=(a=a.call(e)).next,0===i){if(Object(a)!==a)return;p=!1}else for(;!(p=(n=r.call(a)).done)&&(d.push(n.value),d.length!==i);p=!0);}catch(f){g=!0,o=f}finally{try{if(!p&&null!=a.return&&(h=a.return(),Object(h)!==h))return}finally{if(g)throw o}}return d}}(A,t)||Ee(A,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(A){return function(t){if(Array.isArray(t))return V(t)}(A)||function(t){if(typeof Symbol<"u"&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(A)||Ee(A)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ai(A){var t=function(e,i){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(A);return"symbol"==typeof t?t:t+""}function vt(A){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(A)}function Ee(A,t){if(A){if("string"==typeof A)return V(A,t);var e={}.toString.call(A).slice(8,-1);return"Object"===e&&A.constructor&&(e=A.constructor.name),"Map"===e||"Set"===e?Array.from(A):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?V(A,t):void 0}}var R=function(){function A(){q(this,A)}return W(A,[{key:"shadeRGBColor",value:function(t,e){var i=e.split(","),a=t<0?0:255,n=t<0?-1*t:t,o=parseInt(i[0].slice(4),10),r=parseInt(i[1],10),h=parseInt(i[2],10);return"rgb("+(Math.round((a-o)*n)+o)+","+(Math.round((a-r)*n)+r)+","+(Math.round((a-h)*n)+h)+")"}},{key:"shadeHexColor",value:function(t,e){var i=parseInt(e.slice(1),16),a=t<0?0:255,n=t<0?-1*t:t,o=i>>16,r=i>>8&255,h=255&i;return"#"+(16777216+65536*(Math.round((a-o)*n)+o)+256*(Math.round((a-r)*n)+r)+(Math.round((a-h)*n)+h)).toString(16).slice(1)}},{key:"shadeColor",value:function(t,e){return A.isColorHex(e)?this.shadeHexColor(t,e):this.shadeRGBColor(t,e)}}],[{key:"bind",value:function(t,e){return function(){return t.apply(e,arguments)}}},{key:"isObject",value:function(t){return t&&"object"===vt(t)&&!Array.isArray(t)&&null!=t}},{key:"is",value:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"}},{key:"listToArray",value:function(t){var e,i=[];for(e=0;e<t.length;e++)i[e]=t[e];return i}},{key:"extend",value:function(t,e){var i=this;"function"!=typeof Object.assign&&(Object.assign=function(n){if(null==n)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),r=1;r<arguments.length;r++){var h=arguments[r];if(null!=h)for(var d in h)h.hasOwnProperty(d)&&(o[d]=h[d])}return o});var a=Object.assign({},t);return this.isObject(t)&&this.isObject(e)&&Object.keys(e).forEach(function(n){i.isObject(e[n])&&n in t?a[n]=i.extend(t[n],e[n]):Object.assign(a,Ie({},n,e[n]))}),a}},{key:"extendArray",value:function(t,e){var i=[];return t.map(function(a){i.push(A.extend(e,a))}),i}},{key:"monthMod",value:function(t){return t%12}},{key:"clone",value:function(t){if(A.is("Array",t)){for(var e=[],i=0;i<t.length;i++)e[i]=this.clone(t[i]);return e}if(A.is("Null",t))return null;if(A.is("Date",t))return t;if("object"===vt(t)){var a={};for(var n in t)t.hasOwnProperty(n)&&(a[n]=this.clone(t[n]));return a}return t}},{key:"log10",value:function(t){return Math.log(t)/Math.LN10}},{key:"roundToBase10",value:function(t){return Math.pow(10,Math.floor(Math.log10(t)))}},{key:"roundToBase",value:function(t,e){return Math.pow(e,Math.floor(Math.log(t)/Math.log(e)))}},{key:"parseNumber",value:function(t){return null===t?t:parseFloat(t)}},{key:"stripNumber",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number.isInteger(t)?t:parseFloat(t.toPrecision(e))}},{key:"randomId",value:function(){return(Math.random()+1).toString(36).substring(4)}},{key:"noExponents",value:function(t){var e=String(t).split(/[eE]/);if(1===e.length)return e[0];var i="",a=t<0?"-":"",n=e[0].replace(".",""),o=Number(e[1])+1;if(o<0){for(i=a+"0.";o++;)i+="0";return i+n.replace(/^-/,"")}for(o-=n.length;o--;)i+="0";return n+i}},{key:"getDimensions",value:function(t){var e=getComputedStyle(t,null),i=t.clientHeight,a=t.clientWidth;return i-=parseFloat(e.paddingTop)+parseFloat(e.paddingBottom),[a-=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),i]}},{key:"getBoundingClientRect",value:function(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:t.clientWidth,height:t.clientHeight,x:e.left,y:e.top}}},{key:"getLargestStringFromArr",value:function(t){return t.reduce(function(e,i){return Array.isArray(i)&&(i=i.reduce(function(a,n){return a.length>n.length?a:n})),e.length>i.length?e:i},0)}},{key:"hexToRgba",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#999999",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;"#"!==t.substring(0,1)&&(t="#999999");var i=t.replace("#","");i=i.match(new RegExp("(.{"+i.length/3+"})","g"));for(var a=0;a<i.length;a++)i[a]=parseInt(1===i[a].length?i[a]+i[a]:i[a],16);return void 0!==e&&i.push(e),"rgba("+i.join(",")+")"}},{key:"getOpacityFromRGBA",value:function(t){return parseFloat(t.replace(/^.*,(.+)\)/,"$1"))}},{key:"rgb2hex",value:function(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}},{key:"isColorHex",value:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)|(^#[0-9A-F]{8}$)/i.test(t)}},{key:"getPolygonPos",value:function(t,e){for(var i=[],a=2*Math.PI/e,n=0;n<e;n++){var o={};o.x=t*Math.sin(n*a),o.y=-t*Math.cos(n*a),i.push(o)}return i}},{key:"polarToCartesian",value:function(t,e,i,a){var n=(a-90)*Math.PI/180;return{x:t+i*Math.cos(n),y:e+i*Math.sin(n)}}},{key:"escapeString",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";return t.toString().slice().replace(/[` ~!@#$%^&*()|+\=?;:'",.<>{}[\]\\/]/gi,e)}},{key:"negToZero",value:function(t){return t<0?0:t}},{key:"moveIndexInArray",value:function(t,e,i){if(i>=t.length)for(var a=i-t.length+1;a--;)t.push(void 0);return t.splice(i,0,t.splice(e,1)[0]),t}},{key:"extractNumber",value:function(t){return parseFloat(t.replace(/[^\d.]*/g,""))}},{key:"findAncestor",value:function(t,e){for(;(t=t.parentElement)&&!t.classList.contains(e););return t}},{key:"setELstyles",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.style.key=e[i])}},{key:"preciseAddition",value:function(t,e){var i=(String(t).split(".")[1]||"").length,a=(String(e).split(".")[1]||"").length,n=Math.pow(10,Math.max(i,a));return(Math.round(t*n)+Math.round(e*n))/n}},{key:"isNumber",value:function(t){return!isNaN(t)&&parseFloat(Number(t))===t&&!isNaN(parseInt(t,10))}},{key:"isFloat",value:function(t){return Number(t)===t&&t%1!=0}},{key:"isSafari",value:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}},{key:"isFirefox",value:function(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}},{key:"isMsEdge",value:function(){var t=window.navigator.userAgent,e=t.indexOf("Edge/");return e>0&&parseInt(t.substring(e+5,t.indexOf(".",e)),10)}},{key:"getGCD",value:function(t,e){var a=Math.pow(10,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:7)-Math.floor(Math.log10(Math.max(t,e))));for(t=Math.round(Math.abs(t)*a),e=Math.round(Math.abs(e)*a);e;){var n=e;e=t%e,t=n}return t/a}},{key:"getPrimeFactors",value:function(t){for(var e=[],i=2;t>=2;)t%i==0?(e.push(i),t/=i):i++;return e}},{key:"mod",value:function(t,e){var a=Math.pow(10,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:7)-Math.floor(Math.log10(Math.max(t,e))));return(t=Math.round(Math.abs(t)*a))%(e=Math.round(Math.abs(e)*a))/a}}]),A}(),ne=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w,this.setEasingFunctions()}return W(A,[{key:"setEasingFunctions",value:function(){var t;if(!this.w.globals.easing){switch(this.w.config.chart.animations.easing){case"linear":t="-";break;case"easein":t="<";break;case"easeout":t=">";break;case"easeinout":default:t="<>";break;case"swing":t=function(e){var i=1.70158;return(e-=1)*e*((i+1)*e+i)+1};break;case"bounce":t=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375};break;case"elastic":t=function(e){return e===!!e?e:Math.pow(2,-10*e)*Math.sin((e-.075)*(2*Math.PI)/.3)+1}}this.w.globals.easing=t}}},{key:"animateLine",value:function(t,e,i,a){t.attr(e).animate(a).attr(i)}},{key:"animateMarker",value:function(t,e,i,a){t.attr({opacity:0}).animate(e,i).attr({opacity:1}).afterAll(function(){a()})}},{key:"animateRect",value:function(t,e,i,a,n){t.attr(e).animate(a).attr(i).afterAll(function(){return n()})}},{key:"animatePathsGradually",value:function(t){var p=this.w,g=0;p.config.chart.animations.animateGradually.enabled&&(g=p.config.chart.animations.animateGradually.delay),p.config.chart.animations.dynamicAnimation.enabled&&p.globals.dataChanged&&"bar"!==p.config.chart.type&&(g=0),this.morphSVG(t.el,t.realIndex,t.j,"line"!==p.config.chart.type||p.globals.comboCharts?t.fill:"stroke",t.pathFrom,t.pathTo,t.speed,t.delay*g)}},{key:"showDelayedElements",value:function(){this.w.globals.delayedElements.forEach(function(t){var e=t.el;e.classList.remove("apexcharts-element-hidden"),e.classList.add("apexcharts-hidden-element-shown")})}},{key:"animationCompleted",value:function(t){var e=this.w;e.globals.animationEnded||(e.globals.animationEnded=!0,this.showDelayedElements(),"function"==typeof e.config.chart.events.animationEnd&&e.config.chart.events.animationEnd(this.ctx,{el:t,w:e}))}},{key:"morphSVG",value:function(t,e,i,a,n,o,r,h){var d=this,p=this.w;n||(n=t.attr("pathFrom")),o||(o=t.attr("pathTo"));var g=function(f){return"radar"===p.config.chart.type&&(r=1),"M 0 ".concat(p.globals.gridHeight)};(!n||n.indexOf("undefined")>-1||n.indexOf("NaN")>-1)&&(n=g()),(!o||o.indexOf("undefined")>-1||o.indexOf("NaN")>-1)&&(o=g()),p.globals.shouldAnimate||(r=1),t.plot(n).animate(1,p.globals.easing,h).plot(n).animate(r,p.globals.easing,h).plot(o).afterAll(function(){R.isNumber(i)?i===p.globals.series[p.globals.maxValsInArrayIndex].length-2&&p.globals.shouldAnimate&&d.animationCompleted(t):"none"!==a&&p.globals.shouldAnimate&&(!p.globals.comboCharts&&e===p.globals.series.length-1||p.globals.comboCharts)&&d.animationCompleted(t),d.showDelayedElements()})}}]),A}(),Dt=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w}return W(A,[{key:"getDefaultFilter",value:function(t,e){var i=this.w;t.unfilter(!0),(new window.SVG.Filter).size("120%","180%","-5%","-40%"),"none"!==i.config.states.normal.filter?this.applyFilter(t,e,i.config.states.normal.filter.type,i.config.states.normal.filter.value):i.config.chart.dropShadow.enabled&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addNormalFilter",value:function(t,e){var i=this.w;i.config.chart.dropShadow.enabled&&!t.node.classList.contains("apexcharts-marker")&&this.dropShadow(t,i.config.chart.dropShadow,e)}},{key:"addLightenFilter",value:function(t,e,i){var a=this,n=this.w,o=i.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter(function(r){var h=n.config.chart.dropShadow;(h.enabled?a.addShadow(r,e,h):r).componentTransfer({rgb:{type:"linear",slope:1.5,intercept:o}})}),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"addDarkenFilter",value:function(t,e,i){var a=this,n=this.w,o=i.intensity;t.unfilter(!0),new window.SVG.Filter,t.filter(function(r){var h=n.config.chart.dropShadow;(h.enabled?a.addShadow(r,e,h):r).componentTransfer({rgb:{type:"linear",slope:o}})}),t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)}},{key:"applyFilter",value:function(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;switch(i){case"none":this.addNormalFilter(t,e);break;case"lighten":this.addLightenFilter(t,e,{intensity:a});break;case"darken":this.addDarkenFilter(t,e,{intensity:a})}}},{key:"addShadow",value:function(t,e,i){var a,n=this.w,o=i.blur,r=i.top,h=i.left,d=i.color,p=i.opacity;if((null===(a=n.config.chart.dropShadow.enabledOnSeries)||void 0===a?void 0:a.length)>0&&-1===n.config.chart.dropShadow.enabledOnSeries.indexOf(e))return t;var g=t.flood(Array.isArray(d)?d[e]:d,p).composite(t.sourceAlpha,"in").offset(h,r).gaussianBlur(o).merge(t.source);return t.blend(t.source,g)}},{key:"dropShadow",value:function(t,e){var i,a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=e.top,r=e.left,h=e.blur,d=e.color,p=e.opacity,g=e.noUserSpaceOnUse,f=this.w;return t.unfilter(!0),R.isMsEdge()&&"radialBar"===f.config.chart.type||(null===(i=f.config.chart.dropShadow.enabledOnSeries)||void 0===i?void 0:i.length)>0&&-1===(null===(a=f.config.chart.dropShadow.enabledOnSeries)||void 0===a?void 0:a.indexOf(n))||(d=Array.isArray(d)?d[n]:d,t.filter(function(x){var y;y=R.isSafari()||R.isFirefox()||R.isMsEdge()?x.flood(d,p).composite(x.sourceAlpha,"in").offset(r,o).gaussianBlur(h):x.flood(d,p).composite(x.sourceAlpha,"in").offset(r,o).gaussianBlur(h).merge(x.source),x.blend(x.source,y)}),g||t.filterer.node.setAttribute("filterUnits","userSpaceOnUse"),this._scaleFilterSize(t.filterer.node)),t}},{key:"setSelectionFilter",value:function(t,e,i){var a=this.w;if(void 0!==a.globals.selectedDataPoints[e]&&a.globals.selectedDataPoints[e].indexOf(i)>-1){t.node.setAttribute("selected",!0);var n=a.config.states.active.filter;"none"!==n&&this.applyFilter(t,e,n.type,n.value)}}},{key:"_scaleFilterSize",value:function(t){!function(e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}({width:"200%",height:"200%",x:"-50%",y:"-50%"})}}]),A}(),H=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w}return W(A,[{key:"roundPathCorners",value:function(t,e){function i(M,I,E){var X=I.x-M.x,F=I.y-M.y,D=Math.sqrt(X*X+F*F);return a(M,I,Math.min(1,E/D))}function a(M,I,E){return{x:M.x+(I.x-M.x)*E,y:M.y+(I.y-M.y)*E}}function n(M,I){M.length>2&&(M[M.length-2]=I.x,M[M.length-1]=I.y)}function o(M){return{x:parseFloat(M[M.length-2]),y:parseFloat(M[M.length-1])}}t.indexOf("NaN")>-1&&(t="");var r=t.split(/[,\s]/).reduce(function(M,I){var E=I.match("([a-zA-Z])(.+)");return E?(M.push(E[1]),M.push(E[2])):M.push(I),M},[]).reduce(function(M,I){return parseFloat(I)==I&&M.length?M[M.length-1].push(I):M.push([I]),M},[]),h=[];if(r.length>1){var d=o(r[0]),p=null;"Z"==r[r.length-1][0]&&r[0].length>2&&(r[r.length-1]=p=["L",d.x,d.y]),h.push(r[0]);for(var g=1;g<r.length;g++){var f=h[h.length-1],x=r[g],y=x==p?r[1]:r[g+1];if(y&&f&&f.length>2&&"L"==x[0]&&y.length>2&&"L"==y[0]){var b,k,S=o(f),C=o(x),c=o(y);b=i(C,S,e),k=i(C,c,e),n(x,b),x.origPoint=C,h.push(x);var m=a(b,C,.5),w=a(C,k,.5),T=["C",m.x,m.y,w.x,w.y,k.x,k.y];T.origPoint=C,h.push(T)}else h.push(x)}if(p){var P=o(h[h.length-1]);h.push(["Z"]),n(h[0],P)}}else h=r;return h.reduce(function(M,I){return M+I.join(" ")+" "},"")}},{key:"drawLine",value:function(t,e,i,a){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"#a8a8a8",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"butt";return this.w.globals.dom.Paper.line().attr({x1:t,y1:e,x2:i,y2:a,stroke:n,"stroke-dasharray":o,"stroke-width":r,"stroke-linecap":h})}},{key:"drawRect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"#fefefe",r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,p=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,g=this.w.globals.dom.Paper.rect();return g.attr({x:t,y:e,width:i>0?i:0,height:a>0?a:0,rx:n,ry:n,opacity:r,"stroke-width":null!==h?h:0,stroke:null!==d?d:"none","stroke-dasharray":p}),g.node.setAttribute("fill",o),g}},{key:"drawPolygon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#e1e1e1",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";return this.w.globals.dom.Paper.polygon(t).attr({fill:a,stroke:e,"stroke-width":i})}},{key:"drawCircle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t<0&&(t=0);var i=this.w.globals.dom.Paper.circle(2*t);return null!==e&&i.attr(e),i}},{key:"drawPath",value:function(t){var e=t.d,i=void 0===e?"":e,a=t.stroke,n=void 0===a?"#a8a8a8":a,o=t.strokeWidth,r=void 0===o?1:o,h=t.fill,d=t.fillOpacity,p=void 0===d?1:d,g=t.strokeOpacity,f=void 0===g?1:g,x=t.classes,y=t.strokeLinecap,b=void 0===y?null:y,k=t.strokeDashArray,S=void 0===k?0:k,C=this.w;return null===b&&(b=C.config.stroke.lineCap),(i.indexOf("undefined")>-1||i.indexOf("NaN")>-1)&&(i="M 0 ".concat(C.globals.gridHeight)),C.globals.dom.Paper.path(i).attr({fill:h,"fill-opacity":p,stroke:n,"stroke-opacity":f,"stroke-linecap":b,"stroke-width":r,"stroke-dasharray":S,class:x})}},{key:"group",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w.globals.dom.Paper.group();return null!==t&&e.attr(t),e}},{key:"move",value:function(t,e){return["M",t,e].join(" ")}},{key:"line",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=null;return null===i?a=[" L",t,e].join(" "):"H"===i?a=[" H",t].join(" "):"V"===i&&(a=[" V",e].join(" ")),a}},{key:"curve",value:function(t,e,i,a,n,o){return["C",t,e,i,a,n,o].join(" ")}},{key:"quadraticCurve",value:function(t,e,i,a){return["Q",t,e,i,a].join(" ")}},{key:"arc",value:function(t,e,i,a,n,o,r){var h="A";return arguments.length>7&&void 0!==arguments[7]&&arguments[7]&&(h="a"),[h,t,e,i,a,n,o,r].join(" ")}},{key:"renderPaths",value:function(t){var e,i=t.j,a=t.realIndex,n=t.pathFrom,o=t.pathTo,r=t.stroke,h=t.strokeWidth,d=t.strokeLinecap,p=t.fill,g=t.animationDelay,f=t.initialSpeed,x=t.dataChangeSpeed,y=t.className,b=t.chartType,k=t.shouldClipToGrid,S=void 0===k||k,C=t.bindEventsOnPaths,c=void 0===C||C,m=t.drawShadow,w=void 0===m||m,T=this.w,P=new Dt(this.ctx),M=new ne(this.ctx),I=this.w.config.chart.animations.enabled,E=I&&this.w.config.chart.animations.dynamicAnimation.enabled,X=!!(I&&!T.globals.resized||E&&T.globals.dataChanged&&T.globals.shouldAnimate);X?e=n:(e=o,T.globals.animationEnded=!0);var D,F=T.config.stroke.dashArray;D=Array.isArray(F)?F[a]:T.config.stroke.dashArray;var Y=this.drawPath({d:e,stroke:r,strokeWidth:h,fill:p,fillOpacity:1,classes:y,strokeLinecap:d,strokeDashArray:D});Y.attr("index",a),S&&Y.attr("bar"===b&&!T.globals.isHorizontal||T.globals.comboCharts?{"clip-path":"url(#gridRectBarMask".concat(T.globals.cuid,")")}:{"clip-path":"url(#gridRectMask".concat(T.globals.cuid,")")}),"none"!==T.config.states.normal.filter.type?P.getDefaultFilter(Y,a):T.config.chart.dropShadow.enabled&&w&&P.dropShadow(Y,T.config.chart.dropShadow,a),c&&(Y.node.addEventListener("mouseenter",this.pathMouseEnter.bind(this,Y)),Y.node.addEventListener("mouseleave",this.pathMouseLeave.bind(this,Y)),Y.node.addEventListener("mousedown",this.pathMouseDown.bind(this,Y))),Y.attr({pathTo:o,pathFrom:n});var $={el:Y,j:i,realIndex:a,pathFrom:n,pathTo:o,fill:p,strokeWidth:h,delay:g};return!I||T.globals.resized||T.globals.dataChanged?!T.globals.resized&&T.globals.dataChanged||M.showDelayedElements():M.animatePathsGradually(Z(Z({},$),{},{speed:f})),T.globals.dataChanged&&E&&X&&M.animatePathsGradually(Z(Z({},$),{},{speed:x})),Y}},{key:"drawPattern",value:function(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#a8a8a8",n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return this.w.globals.dom.Paper.pattern(e,i,function(o){"horizontalLines"===t?o.line(0,0,i,0).stroke({color:a,width:n+1}):"verticalLines"===t?o.line(0,0,0,e).stroke({color:a,width:n+1}):"slantedLines"===t?o.line(0,0,e,i).stroke({color:a,width:n}):"squares"===t?o.rect(e,i).fill("none").stroke({color:a,width:n}):"circles"===t&&o.circle(e).fill("none").stroke({color:a,width:n})})}},{key:"drawGradient",value:function(t,e,i,a,n){var o,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,h=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,g=this.w;e.length<9&&0===e.indexOf("#")&&(e=R.hexToRgba(e,a)),i.length<9&&0===i.indexOf("#")&&(i=R.hexToRgba(i,n));var f=0,x=1,y=1,b=null;null!==h&&(f=void 0!==h[0]?h[0]/100:0,x=void 0!==h[1]?h[1]/100:1,y=void 0!==h[2]?h[2]/100:1,b=void 0!==h[3]?h[3]/100:null);var k=!("donut"!==g.config.chart.type&&"pie"!==g.config.chart.type&&"polarArea"!==g.config.chart.type&&"bubble"!==g.config.chart.type);return o=g.globals.dom.Paper.gradient(k?"radial":"linear",null===d||0===d.length?function(c){c.at(f,e,a),c.at(x,i,n),c.at(y,i,n),null!==b&&c.at(b,e,a)}:function(c){(Array.isArray(d[p])?d[p]:d).forEach(function(m){c.at(m.offset/100,m.color,m.opacity)})}),k?o.attr("bubble"!==g.config.chart.type?{gradientUnits:"userSpaceOnUse",cx:g.globals.gridWidth/2,cy:g.globals.gridHeight/2,r}:{cx:.5,cy:.5,r:.8,fx:.2,fy:.2}):"vertical"===t?o.from(0,0).to(0,1):"diagonal"===t?o.from(0,0).to(1,1):"horizontal"===t?o.from(0,1).to(1,1):"diagonal2"===t&&o.from(1,0).to(0,1),o}},{key:"getTextBasedOnMaxWidth",value:function(t){var e=t.text,i=t.maxWidth,o=this.getTextRects(e,t.fontSize,t.fontFamily),h=Math.floor(i/(o.width/e.length));return i<o.width?e.slice(0,h-3)+"...":e}},{key:"drawText",value:function(t){var e=this,i=t.x,a=t.y,n=t.text,o=t.textAnchor,r=t.fontSize,h=t.fontFamily,d=t.fontWeight,p=t.foreColor,g=t.opacity,f=t.maxWidth,x=t.cssClass,y=void 0===x?"":x,b=t.isPlainText,k=void 0===b||b,S=t.dominantBaseline,C=void 0===S?"auto":S,c=this.w;void 0===n&&(n="");var m=n;o||(o="start"),p&&p.length||(p=c.config.chart.foreColor),d=d||"regular";var w,T={maxWidth:f,fontSize:r=r||"11px",fontFamily:h=h||c.config.chart.fontFamily};return Array.isArray(n)?w=c.globals.dom.Paper.text(function(P){for(var M=0;M<n.length;M++)m=n[M],f&&(m=e.getTextBasedOnMaxWidth(Z({text:n[M]},T))),0===M?P.tspan(m):P.tspan(m).newLine()}):(f&&(m=this.getTextBasedOnMaxWidth(Z({text:n},T))),w=k?c.globals.dom.Paper.plain(n):c.globals.dom.Paper.text(function(P){return P.tspan(m)})),w.attr({x:i,y:a,"text-anchor":o,"dominant-baseline":C,"font-size":r,"font-family":h,"font-weight":d,fill:p,class:"apexcharts-text "+y}),w.node.style.fontFamily=h,w.node.style.opacity=g,w}},{key:"getMarkerPath",value:function(t,e,i,a){var n="";switch(i){case"cross":n="M ".concat(t-(a/=1.4)," ").concat(e-a," L ").concat(t+a," ").concat(e+a,"  M ").concat(t-a," ").concat(e+a," L ").concat(t+a," ").concat(e-a);break;case"plus":n="M ".concat(t-(a/=1.12)," ").concat(e," L ").concat(t+a," ").concat(e,"  M ").concat(t," ").concat(e-a," L ").concat(t," ").concat(e+a);break;case"star":case"sparkle":var o=5;a*=1.15,"sparkle"===i&&(a/=1.1,o=4);for(var r=Math.PI/o,h=0;h<=2*o;h++){var d=h*r,p=h%2==0?a:a/2;n+=(0===h?"M":"L")+(t+p*Math.sin(d))+","+(e-p*Math.cos(d))}n+="Z";break;case"triangle":n="M ".concat(t," ").concat(e-a," \n             L ").concat(t+a," ").concat(e+a," \n             L ").concat(t-a," ").concat(e+a," \n             Z");break;case"square":case"rect":n="M ".concat(t-(a/=1.125)," ").concat(e-a," \n           L ").concat(t+a," ").concat(e-a," \n           L ").concat(t+a," ").concat(e+a," \n           L ").concat(t-a," ").concat(e+a," \n           Z");break;case"diamond":a*=1.05,n="M ".concat(t," ").concat(e-a," \n             L ").concat(t+a," ").concat(e," \n             L ").concat(t," ").concat(e+a," \n             L ").concat(t-a," ").concat(e," \n            Z");break;case"line":n="M ".concat(t-(a/=1.1)," ").concat(e," \n           L ").concat(t+a," ").concat(e);break;default:a*=2,n="M ".concat(t,", ").concat(e," \n           m -").concat(a/2,", 0 \n           a ").concat(a/2,",").concat(a/2," 0 1,0 ").concat(a,",0 \n           a ").concat(a/2,",").concat(a/2," 0 1,0 -").concat(a,",0")}return n}},{key:"drawMarkerShape",value:function(t,e,i,a,n){var o=this.drawPath({d:this.getMarkerPath(t,e,i,a,n),stroke:n.pointStrokeColor,strokeDashArray:n.pointStrokeDashArray,strokeWidth:n.pointStrokeWidth,fill:n.pointFillColor,fillOpacity:n.pointFillOpacity,strokeOpacity:n.pointStrokeOpacity});return o.attr({cx:t,cy:e,shape:n.shape,class:n.class?n.class:""}),o}},{key:"drawMarker",value:function(t,e,i){t=t||0;var a=i.pSize||0;return R.isNumber(e)||(a=0,e=0),this.drawMarkerShape(t,e,i?.shape,a,Z(Z({},i),"line"===i.shape||"plus"===i.shape||"cross"===i.shape?{pointStrokeColor:i.pointFillColor,pointStrokeOpacity:i.pointFillOpacity}:{}))}},{key:"pathMouseEnter",value:function(t,e){var i=this.w,a=new Dt(this.ctx),n=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10);if("function"==typeof i.config.chart.events.dataPointMouseEnter&&i.config.chart.events.dataPointMouseEnter(e,this.ctx,{seriesIndex:n,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("dataPointMouseEnter",[e,this.ctx,{seriesIndex:n,dataPointIndex:o,w:i}]),("none"===i.config.states.active.filter.type||"true"!==t.node.getAttribute("selected"))&&"none"!==i.config.states.hover.filter.type&&!i.globals.isTouchDevice){var r=i.config.states.hover.filter;a.applyFilter(t,n,r.type,r.value)}}},{key:"pathMouseLeave",value:function(t,e){var i=this.w,a=new Dt(this.ctx),n=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10);"function"==typeof i.config.chart.events.dataPointMouseLeave&&i.config.chart.events.dataPointMouseLeave(e,this.ctx,{seriesIndex:n,dataPointIndex:o,w:i}),this.ctx.events.fireEvent("dataPointMouseLeave",[e,this.ctx,{seriesIndex:n,dataPointIndex:o,w:i}]),"none"!==i.config.states.active.filter.type&&"true"===t.node.getAttribute("selected")||"none"!==i.config.states.hover.filter.type&&a.getDefaultFilter(t,n)}},{key:"pathMouseDown",value:function(t,e){var i=this.w,a=new Dt(this.ctx),n=parseInt(t.node.getAttribute("index"),10),o=parseInt(t.node.getAttribute("j"),10),r="false";if("true"===t.node.getAttribute("selected")){if(t.node.setAttribute("selected","false"),i.globals.selectedDataPoints[n].indexOf(o)>-1){var h=i.globals.selectedDataPoints[n].indexOf(o);i.globals.selectedDataPoints[n].splice(h,1)}}else{if(!i.config.states.active.allowMultipleDataPointsSelection&&i.globals.selectedDataPoints.length>0){i.globals.selectedDataPoints=[];var d=i.globals.dom.Paper.select(".apexcharts-series path").members,p=i.globals.dom.Paper.select(".apexcharts-series circle, .apexcharts-series rect").members,g=function(y){Array.prototype.forEach.call(y,function(b){b.node.setAttribute("selected","false"),a.getDefaultFilter(b,n)})};g(d),g(p)}t.node.setAttribute("selected","true"),r="true",void 0===i.globals.selectedDataPoints[n]&&(i.globals.selectedDataPoints[n]=[]),i.globals.selectedDataPoints[n].push(o)}if("true"===r){var f=i.config.states.active.filter;if("none"!==f)a.applyFilter(t,n,f.type,f.value);else if("none"!==i.config.states.hover.filter&&!i.globals.isTouchDevice){var x=i.config.states.hover.filter;a.applyFilter(t,n,x.type,x.value)}}else"none"!==i.config.states.active.filter.type&&("none"===i.config.states.hover.filter.type||i.globals.isTouchDevice?a.getDefaultFilter(t,n):a.applyFilter(t,n,(x=i.config.states.hover.filter).type,x.value));"function"==typeof i.config.chart.events.dataPointSelection&&i.config.chart.events.dataPointSelection(e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:n,dataPointIndex:o,w:i}),e&&this.ctx.events.fireEvent("dataPointSelection",[e,this.ctx,{selectedDataPoints:i.globals.selectedDataPoints,seriesIndex:n,dataPointIndex:o,w:i}])}},{key:"rotateAroundCenter",value:function(t){var e={};return t&&"function"==typeof t.getBBox&&(e=t.getBBox()),{x:e.x+e.width/2,y:e.y+e.height/2}}},{key:"getTextRects",value:function(t,e,i,a){var n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.w,r=this.drawText({x:-200,y:-200,text:t,textAnchor:"start",fontSize:e,fontFamily:i,foreColor:"#fff",opacity:0});a&&r.attr("transform",a),o.globals.dom.Paper.add(r);var h=r.bbox();return n||(h=r.node.getBoundingClientRect()),r.remove(),{width:h.width,height:h.height}}},{key:"placeTextWithEllipsis",value:function(t,e,i){if("function"==typeof t.getComputedTextLength&&(t.textContent=e,e.length>0&&t.getComputedTextLength()>=i/1.1)){for(var a=e.length-3;a>0;a-=3)if(t.getSubStringLength(0,a)<=i/1.1)return void(t.textContent=e.substring(0,a)+"...");t.textContent="."}}}],[{key:"setAttrs",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&t.setAttribute(i,e[i])}}]),A}(),Lt=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w}return W(A,[{key:"getStackedSeriesTotals",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.w,i=[];if(0===e.globals.series.length)return i;for(var a=0;a<e.globals.series[e.globals.maxValsInArrayIndex].length;a++){for(var n=0,o=0;o<e.globals.series.length;o++)void 0!==e.globals.series[o][a]&&-1===t.indexOf(o)&&(n+=e.globals.series[o][a]);i.push(n)}return i}},{key:"getSeriesTotalByIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===t?this.w.config.series.reduce(function(e,i){return e+i},0):this.w.globals.series[t].reduce(function(e,i){return e+i},0)}},{key:"getStackedSeriesTotalsByGroups",value:function(){var t=this,e=this.w,i=[];return e.globals.seriesGroups.forEach(function(a){var n=[];e.config.series.forEach(function(r,h){a.indexOf(e.globals.seriesNames[h])>-1&&n.push(h)});var o=e.globals.series.map(function(r,h){return-1===n.indexOf(h)?h:-1}).filter(function(r){return-1!==r});i.push(t.getStackedSeriesTotals(o))}),i}},{key:"setSeriesYAxisMappings",value:function(){var t=this.w.globals,e=this.w.config,i=[],a=[],n=[],o=t.series.length>e.yaxis.length||e.yaxis.some(function(g){return Array.isArray(g.seriesName)});e.series.forEach(function(g,f){n.push(f),a.push(null)}),e.yaxis.forEach(function(g,f){i[f]=[]});var r=[];e.yaxis.forEach(function(g,f){var x=!1;if(g.seriesName){var y=[];Array.isArray(g.seriesName)?y=g.seriesName:y.push(g.seriesName),y.forEach(function(b){e.series.forEach(function(k,S){if(k.name===b){var C=S;f===S||o?!o||n.indexOf(S)>-1?i[f].push([f,S]):console.warn("Series '"+k.name+"' referenced more than once in what looks like the new style. That is, when using either seriesName: [], or when there are more series than yaxes."):(i[S].push([S,f]),C=f),x=!0,-1!==(C=n.indexOf(C))&&n.splice(C,1)}})})}x||r.push(f)}),i=i.map(function(g,f){var x=[];return g.forEach(function(y){a[y[1]]=y[0],x.push(y[1])}),x});for(var h=e.yaxis.length-1,d=0;d<r.length&&(i[h=r[d]]=[],n);d++){var p=n[0];n.shift(),i[h].push(p),a[p]=h}n.forEach(function(g){i[h].push(g),a[g]=h}),t.seriesYAxisMap=i.map(function(g){return g}),t.seriesYAxisReverseMap=a.map(function(g){return g}),t.seriesYAxisMap.forEach(function(g,f){g.forEach(function(x){e.series[x]&&void 0===e.series[x].group&&(e.series[x].group="apexcharts-axis-".concat(f.toString()))})})}},{key:"isSeriesNull",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return 0===(null===t?this.w.config.series.filter(function(e){return null!==e}):this.w.config.series[t].data.filter(function(e){return null!==e})).length}},{key:"seriesHaveSameValues",value:function(t){return this.w.globals.series[t].every(function(e,i,a){return e===a[0]})}},{key:"getCategoryLabels",value:function(t){var e=this.w,i=t.slice();return e.config.xaxis.convertedCatToNumeric&&(i=t.map(function(a,n){return e.config.xaxis.labels.formatter(a-e.globals.minX+1)})),i}},{key:"getLargestSeries",value:function(){var t=this.w;t.globals.maxValsInArrayIndex=t.globals.series.map(function(e){return e.length}).indexOf(Math.max.apply(Math,t.globals.series.map(function(e){return e.length})))}},{key:"getLargestMarkerSize",value:function(){var t=this.w,e=0;return t.globals.markers.size.forEach(function(i){e=Math.max(e,i)}),t.config.markers.discrete&&t.config.markers.discrete.length&&t.config.markers.discrete.forEach(function(i){e=Math.max(e,i.size)}),e>0&&(t.config.markers.hover.size>0?e=t.config.markers.hover.size:e+=t.config.markers.hover.sizeOffset),t.globals.markers.largestSize=e,e}},{key:"getSeriesTotals",value:function(){var t=this.w;t.globals.seriesTotals=t.globals.series.map(function(e,i){var a=0;if(Array.isArray(e))for(var n=0;n<e.length;n++)a+=e[n];else a+=e;return a})}},{key:"getSeriesTotalsXRange",value:function(t,e){var i=this.w;return i.globals.series.map(function(a,n){for(var o=0,r=0;r<a.length;r++)i.globals.seriesX[n][r]>t&&i.globals.seriesX[n][r]<e&&(o+=a[r]);return o})}},{key:"getPercentSeries",value:function(){var t=this.w;t.globals.seriesPercent=t.globals.series.map(function(e,i){var a=[];if(Array.isArray(e))for(var n=0;n<e.length;n++){var o=t.globals.stackedSeriesTotals[n],r=0;o&&(r=100*e[n]/o),a.push(r)}else{var h=100*e/t.globals.seriesTotals.reduce(function(d,p){return d+p},0);a.push(h)}return a})}},{key:"getCalculatedRatios",value:function(){var t,e,i,a=this,n=this.w,o=n.globals,r=[],h=0,d=[],p=.1,g=0;if(o.yRange=[],o.isMultipleYAxis)for(var f=0;f<o.minYArr.length;f++)o.yRange.push(Math.abs(o.minYArr[f]-o.maxYArr[f])),d.push(0);else o.yRange.push(Math.abs(o.minY-o.maxY));o.xRange=Math.abs(o.maxX-o.minX),o.zRange=Math.abs(o.maxZ-o.minZ);for(var x=0;x<o.yRange.length;x++)r.push(o.yRange[x]/o.gridHeight);if(e=o.xRange/o.gridWidth,t=o.yRange/o.gridWidth,i=o.xRange/o.gridHeight,(h=o.zRange/o.gridHeight*16)||(h=1),o.minY!==Number.MIN_VALUE&&0!==Math.abs(o.minY)&&(o.hasNegs=!0),n.globals.seriesYAxisReverseMap.length>0){var y=function(k,S){var C=n.config.yaxis[n.globals.seriesYAxisReverseMap[S]],c=k<0?-1:1;return k=Math.abs(k),C.logarithmic&&(k=a.getBaseLog(C.logBase,k)),-c*k/r[S]};if(o.isMultipleYAxis){d=[];for(var b=0;b<r.length;b++)d.push(y(o.minYArr[b],b))}else(d=[]).push(y(o.minY,0)),o.minY!==Number.MIN_VALUE&&0!==Math.abs(o.minY)&&(p=-o.minY/t,g=o.minX/e)}else(d=[]).push(0),p=0,g=0;return{yRatio:r,invertedYRatio:t,zRatio:h,xRatio:e,invertedXRatio:i,baseLineInvertedY:p,baseLineY:d,baseLineX:g}}},{key:"getLogSeries",value:function(t){var e=this,i=this.w;return i.globals.seriesLog=t.map(function(a,n){var o=i.globals.seriesYAxisReverseMap[n];return i.config.yaxis[o]&&i.config.yaxis[o].logarithmic?a.map(function(r){return null===r?null:e.getLogVal(i.config.yaxis[o].logBase,r,n)}):a}),i.globals.invalidLogScale?t:i.globals.seriesLog}},{key:"getBaseLog",value:function(t,e){return Math.log(e)/Math.log(t)}},{key:"getLogVal",value:function(t,e,i){if(e<=0)return 0;var a=this.w,n=0===a.globals.minYArr[i]?-1:this.getBaseLog(t,a.globals.minYArr[i]),o=(0===a.globals.maxYArr[i]?0:this.getBaseLog(t,a.globals.maxYArr[i]))-n;return e<1?e/o:(this.getBaseLog(t,e)-n)/o}},{key:"getLogYRatios",value:function(t){var e=this,i=this.w,a=this.w.globals;return a.yLogRatio=t.slice(),a.logYRange=a.yRange.map(function(n,o){var r=i.globals.seriesYAxisReverseMap[o];if(i.config.yaxis[r]&&e.w.config.yaxis[r].logarithmic){var h,d=-Number.MAX_VALUE,p=Number.MIN_VALUE;return a.seriesLog.forEach(function(g,f){g.forEach(function(x){i.config.yaxis[f]&&i.config.yaxis[f].logarithmic&&(d=Math.max(x,d),p=Math.min(x,p))})}),h=Math.pow(a.yRange[o],Math.abs(p-d)/a.yRange[o]),a.yLogRatio[o]=h/a.gridHeight,h}}),a.invalidLogScale?t.slice():a.yLogRatio}},{key:"drawSeriesByGroup",value:function(t,e,i,a){var n=this.w,o=[];return t.series.length>0&&e.forEach(function(r){var h=[],d=[];t.i.forEach(function(p,g){n.config.series[p].group===r&&(h.push(t.series[g]),d.push(p))}),h.length>0&&o.push(a.draw(h,i,d))}),o}}],[{key:"checkComboSeries",value:function(t,e){var i=!1,a=0,n=0;return void 0===e&&(e="line"),t.length&&void 0!==t[0].type&&t.forEach(function(o){"bar"!==o.type&&"column"!==o.type&&"candlestick"!==o.type&&"boxPlot"!==o.type||a++,void 0!==o.type&&o.type!==e&&n++}),n>0&&(i=!0),{comboBarCount:a,comboCharts:i}}},{key:"extendArrayProps",value:function(t,e,i){var a,n,o,r,h,d;return null!==(a=e)&&void 0!==a&&a.yaxis&&(e=t.extendYAxis(e,i)),null!==(n=e)&&void 0!==n&&n.annotations&&(e.annotations.yaxis&&(e=t.extendYAxisAnnotations(e)),null!==(o=e)&&void 0!==o&&null!==(r=o.annotations)&&void 0!==r&&r.xaxis&&(e=t.extendXAxisAnnotations(e)),null!==(h=e)&&void 0!==h&&null!==(d=h.annotations)&&void 0!==d&&d.points&&(e=t.extendPointAnnotations(e))),e}}]),A}(),Oe=function(){function A(t){q(this,A),this.w=t.w,this.annoCtx=t}return W(A,[{key:"setOrientations",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("vertical"===t.label.orientation){var n=this.w.globals.dom.baseEl.querySelector(".apexcharts-xaxis-annotations .apexcharts-xaxis-annotation-label[rel='".concat(null!==e?e:0,"']"));if(null!==n){var o=n.getBoundingClientRect();n.setAttribute("x",parseFloat(n.getAttribute("x"))-o.height+4);var r="top"===t.label.position?o.width:-o.width;n.setAttribute("y",parseFloat(n.getAttribute("y"))+r);var h=this.annoCtx.graphics.rotateAroundCenter(n),p=h.y;n.setAttribute("transform","rotate(-90 ".concat(h.x," ").concat(p,")"))}}}},{key:"addBackgroundToAnno",value:function(t,e){var i=this.w;if(!t||!e.label.text||!String(e.label.text).trim())return null;var a=i.globals.dom.baseEl.querySelector(".apexcharts-grid").getBoundingClientRect(),n=t.getBoundingClientRect(),o=e.label.style.padding,r=o.left,h=o.right,d=o.top,p=o.bottom;if("vertical"===e.label.orientation){var g=[r,h,d,p];d=g[0],p=g[1],r=g[2],h=g[3]}var y=this.annoCtx.graphics.drawRect(n.left-a.left-r-i.globals.barPadForNumericAxis,n.top-a.top-d,n.width+r+h,n.height+d+p,e.label.borderRadius,e.label.style.background,1,e.label.borderWidth,e.label.borderColor,0);return e.id&&y.node.classList.add(e.id),y}},{key:"annotationsBackground",value:function(){var t=this,e=this.w,i=function(a,n,o){var r=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(o,"-annotations .apexcharts-").concat(o,"-annotation-label[rel='").concat(n,"']"));if(r){var h=r.parentNode,d=t.addBackgroundToAnno(r,a);d&&(h.insertBefore(d.node,r),a.label.mouseEnter&&d.node.addEventListener("mouseenter",a.label.mouseEnter.bind(t,a)),a.label.mouseLeave&&d.node.addEventListener("mouseleave",a.label.mouseLeave.bind(t,a)),a.label.click&&d.node.addEventListener("click",a.label.click.bind(t,a)))}};e.config.annotations.xaxis.forEach(function(a,n){return i(a,n,"xaxis")}),e.config.annotations.yaxis.forEach(function(a,n){return i(a,n,"yaxis")}),e.config.annotations.points.forEach(function(a,n){return i(a,n,"point")})}},{key:"getY1Y2",value:function(t,e){var i,a=this.w,n="y1"===t?e.y:e.y2,o=!1;if(this.annoCtx.invertAxis){var r=a.config.xaxis.convertedCatToNumeric?a.globals.categoryLabels:a.globals.labels,h=r.indexOf(n),d=a.globals.dom.baseEl.querySelector(".apexcharts-yaxis-texts-g text:nth-child(".concat(h+1,")"));i=d?parseFloat(d.getAttribute("y")):(a.globals.gridHeight/r.length-1)*(h+1)-a.globals.barHeight,void 0!==e.seriesIndex&&a.globals.barHeight&&(i-=a.globals.barHeight/2*(a.globals.series.length-1)-a.globals.barHeight*e.seriesIndex)}else{var p,g=a.globals.seriesYAxisMap[e.yAxisIndex][0],f=a.config.yaxis[e.yAxisIndex].logarithmic?new Lt(this.annoCtx.ctx).getLogVal(a.config.yaxis[e.yAxisIndex].logBase,n,g)/a.globals.yLogRatio[g]:(n-a.globals.minYArr[g])/(a.globals.yRange[g]/a.globals.gridHeight);i=a.globals.gridHeight-Math.min(Math.max(f,0),a.globals.gridHeight),o=f>a.globals.gridHeight||f<0,!e.marker||null!=e.y||(i=0),null!==(p=a.config.yaxis[e.yAxisIndex])&&void 0!==p&&p.reversed&&(i=f)}return"string"==typeof n&&n.includes("px")&&(i=parseFloat(n)),{yP:i,clipped:o}}},{key:"getX1X2",value:function(t,e){var i=this.w,a="x1"===t?e.x:e.x2,r=this.annoCtx.invertAxis?i.globals.yRange[0]:i.globals.xRange,h=!1,d=this.annoCtx.inversedReversedAxis?((this.annoCtx.invertAxis?i.globals.maxY:i.globals.maxX)-a)/(r/i.globals.gridWidth):(a-(this.annoCtx.invertAxis?i.globals.minY:i.globals.minX))/(r/i.globals.gridWidth);return"category"!==i.config.xaxis.type&&!i.config.xaxis.convertedCatToNumeric||this.annoCtx.invertAxis||i.globals.dataFormatXNumeric||i.config.chart.sparkline.enabled||(d=this.getStringX(a)),"string"==typeof a&&a.includes("px")&&(d=parseFloat(a)),null==a&&e.marker&&(d=i.globals.gridWidth),void 0!==e.seriesIndex&&i.globals.barWidth&&!this.annoCtx.invertAxis&&(d-=i.globals.barWidth/2*(i.globals.series.length-1)-i.globals.barWidth*e.seriesIndex),d>i.globals.gridWidth?(d=i.globals.gridWidth,h=!0):d<0&&(d=0,h=!0),{x:d,clipped:h}}},{key:"getStringX",value:function(t){var e=this.w,i=t;e.config.xaxis.convertedCatToNumeric&&e.globals.categoryLabels.length&&(t=e.globals.categoryLabels.indexOf(t)+1);var a=e.globals.labels.map(function(o){return Array.isArray(o)?o.join(" "):o}).indexOf(t),n=e.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g text:nth-child(".concat(a+1,")"));return n&&(i=parseFloat(n.getAttribute("x"))),i}}]),A}(),Wt=function(){function A(t){q(this,A),this.w=t.w,this.annoCtx=t,this.invertAxis=this.annoCtx.invertAxis,this.helpers=new Oe(this.annoCtx)}return W(A,[{key:"addXaxisAnnotation",value:function(t,e,i){var a,n=this.w,o=this.helpers.getX1X2("x1",t),r=o.x,h=o.clipped,d=!0,p=t.label.text,g=t.strokeDashArray;if(R.isNumber(r)){if(null==t.x2){if(!h){var f=this.annoCtx.graphics.drawLine(r+t.offsetX,0+t.offsetY,r+t.offsetX,n.globals.gridHeight+t.offsetY,t.borderColor,g,t.borderWidth);e.appendChild(f.node),t.id&&f.node.classList.add(t.id)}}else{var x=this.helpers.getX1X2("x2",t);if(a=x.x,d=x.clipped,!h||!d){if(a<r){var y=r;r=a,a=y}var b=this.annoCtx.graphics.drawRect(r+t.offsetX,0+t.offsetY,a-r,n.globals.gridHeight+t.offsetY,0,t.fillColor,t.opacity,1,t.borderColor,g);b.node.classList.add("apexcharts-annotation-rect"),b.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),e.appendChild(b.node),t.id&&b.node.classList.add(t.id)}}if(!h||!d){var k=this.annoCtx.graphics.getTextRects(p,parseFloat(t.label.style.fontSize)),C=this.annoCtx.graphics.drawText({x:r+t.label.offsetX,y:("top"===t.label.position?4:"center"===t.label.position?n.globals.gridHeight/2+("vertical"===t.label.orientation?k.width/2:0):n.globals.gridHeight)+t.label.offsetY-("vertical"===t.label.orientation?"top"===t.label.position?k.width/2-12:-k.width/2:0),text:p,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-xaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});C.attr({rel:i}),e.appendChild(C.node),this.annoCtx.helpers.setOrientations(t,i)}}}},{key:"drawXAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-xaxis-annotations"});return e.config.annotations.xaxis.map(function(a,n){t.addXaxisAnnotation(a,i.node,n)}),i}}]),A}(),bt=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w,this.months31=[1,3,5,7,8,10,12],this.months30=[2,4,6,9,11],this.daysCntOfYear=[0,31,59,90,120,151,181,212,243,273,304,334]}return W(A,[{key:"isValidDate",value:function(t){return"number"!=typeof t&&!isNaN(this.parseDate(t))}},{key:"getTimeStamp",value:function(t){return Date.parse(t)?this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toISOString().substr(0,25)).getTime():new Date(t).getTime():t}},{key:"getDate",value:function(t){return this.w.config.xaxis.labels.datetimeUTC?new Date(new Date(t).toUTCString()):new Date(t)}},{key:"parseDate",value:function(t){var e=Date.parse(t);if(!isNaN(e))return this.getTimeStamp(t);var i=Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "));return this.getTimeStamp(i)}},{key:"parseDateWithTimezone",value:function(t){return Date.parse(t.replace(/-/g,"/").replace(/[a-z]+/gi," "))}},{key:"formatDate",value:function(t,e){var i=this.w.globals.locale,a=this.w.config.xaxis.labels.datetimeUTC,n=["\0"].concat(Rt(i.months)),o=["\x01"].concat(Rt(i.shortMonths)),r=["\x02"].concat(Rt(i.days)),h=["\x03"].concat(Rt(i.shortDays));function d(M,I){var E=M+"";for(I=I||2;E.length<I;)E="0"+E;return E}var p=a?t.getUTCFullYear():t.getFullYear();e=(e=(e=e.replace(/(^|[^\\])yyyy+/g,"$1"+p)).replace(/(^|[^\\])yy/g,"$1"+p.toString().substr(2,2))).replace(/(^|[^\\])y/g,"$1"+p);var g=(a?t.getUTCMonth():t.getMonth())+1;e=(e=(e=(e=e.replace(/(^|[^\\])MMMM+/g,"$1"+n[0])).replace(/(^|[^\\])MMM/g,"$1"+o[0])).replace(/(^|[^\\])MM/g,"$1"+d(g))).replace(/(^|[^\\])M/g,"$1"+g);var f=a?t.getUTCDate():t.getDate();e=(e=(e=(e=e.replace(/(^|[^\\])dddd+/g,"$1"+r[0])).replace(/(^|[^\\])ddd/g,"$1"+h[0])).replace(/(^|[^\\])dd/g,"$1"+d(f))).replace(/(^|[^\\])d/g,"$1"+f);var x=a?t.getUTCHours():t.getHours(),y=x>12?x-12:0===x?12:x;e=(e=(e=(e=e.replace(/(^|[^\\])HH+/g,"$1"+d(x))).replace(/(^|[^\\])H/g,"$1"+x)).replace(/(^|[^\\])hh+/g,"$1"+d(y))).replace(/(^|[^\\])h/g,"$1"+y);var b=a?t.getUTCMinutes():t.getMinutes();e=(e=e.replace(/(^|[^\\])mm+/g,"$1"+d(b))).replace(/(^|[^\\])m/g,"$1"+b);var k=a?t.getUTCSeconds():t.getSeconds();e=(e=e.replace(/(^|[^\\])ss+/g,"$1"+d(k))).replace(/(^|[^\\])s/g,"$1"+k);var S=a?t.getUTCMilliseconds():t.getMilliseconds();e=e.replace(/(^|[^\\])fff+/g,"$1"+d(S,3)),S=Math.round(S/10),e=e.replace(/(^|[^\\])ff/g,"$1"+d(S)),S=Math.round(S/10);var C=x<12?"AM":"PM";e=(e=(e=e.replace(/(^|[^\\])f/g,"$1"+S)).replace(/(^|[^\\])TT+/g,"$1"+C)).replace(/(^|[^\\])T/g,"$1"+C.charAt(0));var c=C.toLowerCase();e=(e=e.replace(/(^|[^\\])tt+/g,"$1"+c)).replace(/(^|[^\\])t/g,"$1"+c.charAt(0));var m=-t.getTimezoneOffset(),w=a||!m?"Z":m>0?"+":"-";if(!a){var T=(m=Math.abs(m))%60;w+=d(Math.floor(m/60))+":"+d(T)}e=e.replace(/(^|[^\\])K/g,"$1"+w);var P=(a?t.getUTCDay():t.getDay())+1;return(e=(e=(e=(e=e.replace(new RegExp(r[0],"g"),r[P])).replace(new RegExp(h[0],"g"),h[P])).replace(new RegExp(n[0],"g"),n[g])).replace(new RegExp(o[0],"g"),o[g])).replace(/\\(.)/g,"$1")}},{key:"getTimeUnitsfromTimestamp",value:function(t,e,i){var a=this.w;void 0!==a.config.xaxis.min&&(t=a.config.xaxis.min),void 0!==a.config.xaxis.max&&(e=a.config.xaxis.max);var n=this.getDate(t),o=this.getDate(e),r=this.formatDate(n,"yyyy MM dd HH mm ss fff").split(" "),h=this.formatDate(o,"yyyy MM dd HH mm ss fff").split(" ");return{minMillisecond:parseInt(r[6],10),maxMillisecond:parseInt(h[6],10),minSecond:parseInt(r[5],10),maxSecond:parseInt(h[5],10),minMinute:parseInt(r[4],10),maxMinute:parseInt(h[4],10),minHour:parseInt(r[3],10),maxHour:parseInt(h[3],10),minDate:parseInt(r[2],10),maxDate:parseInt(h[2],10),minMonth:parseInt(r[1],10)-1,maxMonth:parseInt(h[1],10)-1,minYear:parseInt(r[0],10),maxYear:parseInt(h[0],10)}}},{key:"isLeapYear",value:function(t){return t%4==0&&t%100!=0||t%400==0}},{key:"calculcateLastDaysOfMonth",value:function(t,e,i){return this.determineDaysOfMonths(t,e)-i}},{key:"determineDaysOfYear",value:function(t){var e=365;return this.isLeapYear(t)&&(e=366),e}},{key:"determineRemainingDaysOfYear",value:function(t,e,i){var a=this.daysCntOfYear[e]+i;return e>1&&this.isLeapYear()&&a++,a}},{key:"determineDaysOfMonths",value:function(t,e){var i=30;switch(t=R.monthMod(t),!0){case this.months30.indexOf(t)>-1:2===t&&(i=this.isLeapYear(e)?29:28);break;case this.months31.indexOf(t)>-1:default:i=31}return i}}]),A}(),Re=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w,this.tooltipKeyFormat="dd MMM"}return W(A,[{key:"xLabelFormat",value:function(t,e,i,a){var n=this.w;if("datetime"===n.config.xaxis.type&&void 0===n.config.xaxis.labels.formatter&&void 0===n.config.tooltip.x.formatter){var o=new bt(this.ctx);return o.formatDate(o.getDate(e),n.config.tooltip.x.format)}return t(e,i,a)}},{key:"defaultGeneralFormatter",value:function(t){return Array.isArray(t)?t.map(function(e){return e}):t}},{key:"defaultYFormatter",value:function(t,e,i){var a=this.w;if(R.isNumber(t))if(0!==a.globals.yValueDecimal)t=t.toFixed(void 0!==e.decimalsInFloat?e.decimalsInFloat:a.globals.yValueDecimal);else{var n=t.toFixed(0);t=t==n?n:t.toFixed(1)}return t}},{key:"setLabelFormatters",value:function(){var t=this,e=this.w;return e.globals.xaxisTooltipFormatter=function(i){return t.defaultGeneralFormatter(i)},e.globals.ttKeyFormatter=function(i){return t.defaultGeneralFormatter(i)},e.globals.ttZFormatter=function(i){return i},e.globals.legendFormatter=function(i){return t.defaultGeneralFormatter(i)},e.globals.xLabelFormatter=void 0!==e.config.xaxis.labels.formatter?e.config.xaxis.labels.formatter:function(i){if(R.isNumber(i)){if(!e.config.xaxis.convertedCatToNumeric&&"numeric"===e.config.xaxis.type){if(R.isNumber(e.config.xaxis.decimalsInFloat))return i.toFixed(e.config.xaxis.decimalsInFloat);var a=e.globals.maxX-e.globals.minX;return i.toFixed(a>0&&a<100?1:0)}return i.toFixed(e.globals.isBarHorizontal&&e.globals.maxY-e.globals.minYArr<4?1:0)}return i},e.globals.ttKeyFormatter="function"==typeof e.config.tooltip.x.formatter?e.config.tooltip.x.formatter:e.globals.xLabelFormatter,"function"==typeof e.config.xaxis.tooltip.formatter&&(e.globals.xaxisTooltipFormatter=e.config.xaxis.tooltip.formatter),(Array.isArray(e.config.tooltip.y)||void 0!==e.config.tooltip.y.formatter)&&(e.globals.ttVal=e.config.tooltip.y),void 0!==e.config.tooltip.z.formatter&&(e.globals.ttZFormatter=e.config.tooltip.z.formatter),void 0!==e.config.legend.formatter&&(e.globals.legendFormatter=e.config.legend.formatter),e.config.yaxis.forEach(function(i,a){e.globals.yLabelFormatters[a]=void 0!==i.labels.formatter?i.labels.formatter:function(n){return e.globals.xyCharts?Array.isArray(n)?n.map(function(o){return t.defaultYFormatter(o,i,a)}):t.defaultYFormatter(n,i,a):n}}),e.globals}},{key:"heatmapLabelFormatters",value:function(){var t=this.w;if("heatmap"===t.config.chart.type){t.globals.yAxisScale[0].result=t.globals.seriesNames.slice();var e=t.globals.seriesNames.reduce(function(i,a){return i.length>a.length?i:a},0);t.globals.yAxisScale[0].niceMax=e,t.globals.yAxisScale[0].niceMin=e}}}]),A}(),Ft=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w}return W(A,[{key:"getLabel",value:function(t,e,i,a){var k,S,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"12px",r=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],h=this.w,d=void 0===t[a]?"":t[a],p=d,g=h.globals.xLabelFormatter,f=h.config.xaxis.labels.formatter,x=!1,y=new Re(this.ctx);r&&(p=y.xLabelFormat(g,d,d,{i:a,dateFormatter:new bt(this.ctx).formatDate,w:h}),void 0!==f&&(p=f(d,t[a],{i:a,dateFormatter:new bt(this.ctx).formatDate,w:h}))),e.length>0?(k=e[a].unit,S=null,e.forEach(function(w){"month"===w.unit?S="year":"day"===w.unit?S="month":"hour"===w.unit?S="day":"minute"===w.unit&&(S="hour")}),x=S===k,i=e[a].position,p=e[a].value):"datetime"===h.config.xaxis.type&&void 0===f&&(p=""),void 0===p&&(p=""),p=Array.isArray(p)?p:p.toString();var c,C=new H(this.ctx);c=h.globals.rotateXLabels&&r?C.getTextRects(p,parseInt(o,10),null,"rotate(".concat(h.config.xaxis.labels.rotate," 0 0)"),!1):C.getTextRects(p,parseInt(o,10));var m=!h.config.xaxis.labels.showDuplicates&&this.ctx.timeScale;return!Array.isArray(p)&&("NaN"===String(p)||n.indexOf(p)>=0&&m)&&(p=""),{x:i,text:p,textRect:c,isBold:x}}},{key:"checkLabelBasedOnTickamount",value:function(t,e,i){var a=this.w,n=a.config.xaxis.tickAmount;return"dataPoints"===n&&(n=Math.round(a.globals.gridWidth/120)),n>i||t%Math.round(i/(n+1))==0||(e.text=""),e}},{key:"checkForOverflowingLabels",value:function(t,e,i,a,n){var o=this.w;if(0===t&&o.globals.skipFirstTimelinelabel&&(e.text=""),t===i-1&&o.globals.skipLastTimelinelabel&&(e.text=""),o.config.xaxis.labels.hideOverlappingLabels&&a.length>0){var r=n[n.length-1];e.x<r.textRect.width/(o.globals.rotateXLabels?Math.abs(o.config.xaxis.labels.rotate)/12:1.01)+r.x&&(e.text="")}return e}},{key:"checkForReversedLabels",value:function(t,e){var i=this.w;return i.config.yaxis[t]&&i.config.yaxis[t].reversed&&e.reverse(),e}},{key:"yAxisAllSeriesCollapsed",value:function(t){var e=this.w.globals;return!e.seriesYAxisMap[t].some(function(i){return-1===e.collapsedSeriesIndices.indexOf(i)})}},{key:"translateYAxisIndex",value:function(t){var e=this.w,i=e.globals,a=e.config.yaxis;return i.series.length>a.length||a.some(function(n){return Array.isArray(n.seriesName)})?t:i.seriesYAxisReverseMap[t]}},{key:"isYAxisHidden",value:function(t){var e=this.w,i=e.config.yaxis[t];if(!i.show||this.yAxisAllSeriesCollapsed(t))return!0;if(!i.showForNullSeries){var a=e.globals.seriesYAxisMap[t],n=new Lt(this.ctx);return a.every(function(o){return n.isSeriesNull(o)})}return!1}},{key:"getYAxisForeColor",value:function(t,e){var i=this.w;return Array.isArray(t)&&i.globals.yAxisScale[e]&&this.ctx.theme.pushExtraColors(t,i.globals.yAxisScale[e].result.length,!1),t}},{key:"drawYAxisTicks",value:function(t,e,i,a,n,o,r){var h=this.w,d=new H(this.ctx),p=h.globals.translateY+h.config.yaxis[n].labels.offsetY;if(h.globals.isBarHorizontal?p=0:"heatmap"===h.config.chart.type&&(p+=o/2),a.show&&e>0){!0===h.config.yaxis[n].opposite&&(t+=a.width);for(var g=e;g>=0;g--){var f=d.drawLine(t+i.offsetX-a.width+a.offsetX,p+a.offsetY,t+i.offsetX+a.offsetX,p+a.offsetY,a.color);r.add(f),p+=o}}}}]),A}(),Zt=function(){function A(t){q(this,A),this.w=t.w,this.annoCtx=t,this.helpers=new Oe(this.annoCtx),this.axesUtils=new Ft(this.annoCtx)}return W(A,[{key:"addYaxisAnnotation",value:function(t,e,i){var a,n=this.w,o=t.strokeDashArray,r=this.helpers.getY1Y2("y1",t),h=r.yP,d=r.clipped,g=!1,f=t.label.text;if(null==t.y2){if(!d){g=!0;var x=this.annoCtx.graphics.drawLine(0+t.offsetX,h+t.offsetY,this._getYAxisAnnotationWidth(t),h+t.offsetY,t.borderColor,o,t.borderWidth);e.appendChild(x.node),t.id&&x.node.classList.add(t.id)}}else{if((a=(r=this.helpers.getY1Y2("y2",t)).yP)>h){var y=h;h=a,a=y}if(!d||!r.clipped){g=!0;var b=this.annoCtx.graphics.drawRect(0+t.offsetX,a+t.offsetY,this._getYAxisAnnotationWidth(t),h-a,0,t.fillColor,t.opacity,1,t.borderColor,o);b.node.classList.add("apexcharts-annotation-rect"),b.attr("clip-path","url(#gridRectMask".concat(n.globals.cuid,")")),e.appendChild(b.node),t.id&&b.node.classList.add(t.id)}}if(g){var S=this.annoCtx.graphics.drawText({x:("right"===t.label.position?n.globals.gridWidth:"center"===t.label.position?n.globals.gridWidth/2:0)+t.label.offsetX,y:(a??h)+t.label.offsetY-3,text:f,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-yaxis-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});S.attr({rel:i}),e.appendChild(S.node)}}},{key:"_getYAxisAnnotationWidth",value:function(t){var e=this.w;return(t.width.indexOf("%")>-1?e.globals.gridWidth*parseInt(t.width,10)/100:parseInt(t.width,10))+t.offsetX}},{key:"drawYAxisAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-yaxis-annotations"});return e.config.annotations.yaxis.forEach(function(a,n){a.yAxisIndex=t.axesUtils.translateYAxisIndex(a.yAxisIndex),t.axesUtils.isYAxisHidden(a.yAxisIndex)&&t.axesUtils.yAxisAllSeriesCollapsed(a.yAxisIndex)||t.addYaxisAnnotation(a,i.node,n)}),i}}]),A}(),Be=function(){function A(t){q(this,A),this.w=t.w,this.annoCtx=t,this.helpers=new Oe(this.annoCtx)}return W(A,[{key:"addPointAnnotation",value:function(t,e,i){if(!(this.w.globals.collapsedSeriesIndices.indexOf(t.seriesIndex)>-1)){var a=this.helpers.getX1X2("x1",t),n=a.x,o=a.clipped,r=(a=this.helpers.getY1Y2("y1",t)).yP,h=a.clipped;if(R.isNumber(n)&&!h&&!o){var d={pSize:t.marker.size,pointStrokeWidth:t.marker.strokeWidth,pointFillColor:t.marker.fillColor,pointStrokeColor:t.marker.strokeColor,shape:t.marker.shape,pRadius:t.marker.radius,class:"apexcharts-point-annotation-marker ".concat(t.marker.cssClass," ").concat(t.id?t.id:"")},p=this.annoCtx.graphics.drawMarker(n+t.marker.offsetX,r+t.marker.offsetY,d);e.appendChild(p.node);var g=t.label.text?t.label.text:"",f=this.annoCtx.graphics.drawText({x:n+t.label.offsetX,y:r+t.label.offsetY-t.marker.size-parseFloat(t.label.style.fontSize)/1.6,text:g,textAnchor:t.label.textAnchor,fontSize:t.label.style.fontSize,fontFamily:t.label.style.fontFamily,fontWeight:t.label.style.fontWeight,foreColor:t.label.style.color,cssClass:"apexcharts-point-annotation-label ".concat(t.label.style.cssClass," ").concat(t.id?t.id:"")});if(f.attr({rel:i}),e.appendChild(f.node),t.customSVG.SVG){var x=this.annoCtx.graphics.group({class:"apexcharts-point-annotations-custom-svg "+t.customSVG.cssClass});x.attr({transform:"translate(".concat(n+t.customSVG.offsetX,", ").concat(r+t.customSVG.offsetY,")")}),x.node.innerHTML=t.customSVG.SVG,e.appendChild(x.node)}if(t.image.path){var y=t.image.width?t.image.width:20,b=t.image.height?t.image.height:20;p=this.annoCtx.addImage({x:n+t.image.offsetX-y/2,y:r+t.image.offsetY-b/2,width:y,height:b,path:t.image.path,appendTo:".apexcharts-point-annotations"})}t.mouseEnter&&p.node.addEventListener("mouseenter",t.mouseEnter.bind(this,t)),t.mouseLeave&&p.node.addEventListener("mouseleave",t.mouseLeave.bind(this,t)),t.click&&p.node.addEventListener("click",t.click.bind(this,t))}}}},{key:"drawPointAnnotations",value:function(){var t=this,e=this.w,i=this.annoCtx.graphics.group({class:"apexcharts-point-annotations"});return e.config.annotations.points.map(function(a,n){t.addPointAnnotation(a,i.node,n)}),i}}]),A}(),st={name:"en",options:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],toolbar:{exportToSVG:"Download SVG",exportToPNG:"Download PNG",exportToCSV:"Download CSV",menu:"Menu",selection:"Selection",selectionZoom:"Selection Zoom",zoomIn:"Zoom In",zoomOut:"Zoom Out",pan:"Panning",reset:"Reset Zoom"}}},oe=function(){function A(){q(this,A),this.yAxis={show:!0,showAlways:!1,showForNullSeries:!0,seriesName:void 0,opposite:!1,reversed:!1,logarithmic:!1,logBase:10,tickAmount:void 0,stepSize:void 0,forceNiceScale:!1,max:void 0,min:void 0,floating:!1,decimalsInFloat:void 0,labels:{show:!0,showDuplicates:!1,minWidth:0,maxWidth:160,offsetX:0,offsetY:0,align:void 0,rotate:0,padding:20,style:{colors:[],fontSize:"11px",fontWeight:400,fontFamily:void 0,cssClass:""},formatter:void 0},axisBorder:{show:!1,color:"#e0e0e0",width:1,offsetX:0,offsetY:0},axisTicks:{show:!1,color:"#e0e0e0",width:6,offsetX:0,offsetY:0},title:{text:void 0,rotate:-90,offsetY:0,offsetX:0,style:{color:void 0,fontSize:"11px",fontWeight:900,fontFamily:void 0,cssClass:""}},tooltip:{enabled:!1,offsetX:0},crosshairs:{show:!0,position:"front",stroke:{color:"#b6b6b6",width:1,dashArray:0}}},this.pointAnnotation={id:void 0,x:0,y:null,yAxisIndex:0,seriesIndex:void 0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,marker:{size:4,fillColor:"#fff",strokeWidth:2,strokeColor:"#333",shape:"circle",offsetX:0,offsetY:0,cssClass:""},label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}},customSVG:{SVG:void 0,cssClass:void 0,offsetX:0,offsetY:0},image:{path:void 0,width:20,height:20,offsetX:0,offsetY:0}},this.yAxisAnnotation={id:void 0,y:0,y2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,width:"100%",yAxisIndex:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"end",position:"right",offsetX:0,offsetY:-3,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.xAxisAnnotation={id:void 0,x:0,x2:null,strokeDashArray:1,fillColor:"#c2c2c2",borderColor:"#c2c2c2",borderWidth:1,opacity:.3,offsetX:0,offsetY:0,label:{borderColor:"#c2c2c2",borderWidth:1,borderRadius:2,text:void 0,textAnchor:"middle",orientation:"vertical",position:"top",offsetX:0,offsetY:0,mouseEnter:void 0,mouseLeave:void 0,click:void 0,style:{background:"#fff",color:void 0,fontSize:"11px",fontFamily:void 0,fontWeight:400,cssClass:"",padding:{left:5,right:5,top:2,bottom:2}}}},this.text={x:0,y:0,text:"",textAnchor:"start",foreColor:void 0,fontSize:"13px",fontFamily:void 0,fontWeight:400,appendTo:".apexcharts-annotations",backgroundColor:"transparent",borderColor:"#c2c2c2",borderRadius:0,borderWidth:0,paddingLeft:4,paddingRight:4,paddingTop:2,paddingBottom:2}}return W(A,[{key:"init",value:function(){return{annotations:{yaxis:[this.yAxisAnnotation],xaxis:[this.xAxisAnnotation],points:[this.pointAnnotation],texts:[],images:[],shapes:[]},chart:{animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{delay:150,enabled:!0},dynamicAnimation:{enabled:!0,speed:350}},background:"",locales:[st],defaultLocale:"en",dropShadow:{enabled:!1,enabledOnSeries:void 0,top:2,left:2,blur:4,color:"#000",opacity:.35},events:{animationEnd:void 0,beforeMount:void 0,mounted:void 0,updated:void 0,click:void 0,mouseMove:void 0,mouseLeave:void 0,xAxisLabelClick:void 0,legendClick:void 0,markerClick:void 0,selection:void 0,dataPointSelection:void 0,dataPointMouseEnter:void 0,dataPointMouseLeave:void 0,beforeZoom:void 0,beforeResetZoom:void 0,zoomed:void 0,scrolled:void 0,brushScrolled:void 0},foreColor:"#373d3f",fontFamily:"Helvetica, Arial, sans-serif",height:"auto",parentHeightOffset:15,redrawOnParentResize:!0,redrawOnWindowResize:!0,id:void 0,group:void 0,nonce:void 0,offsetX:0,offsetY:0,selection:{enabled:!1,type:"x",fill:{color:"#24292e",opacity:.1},stroke:{width:1,color:"#24292e",opacity:.4,dashArray:3},xaxis:{min:void 0,max:void 0},yaxis:{min:void 0,max:void 0}},sparkline:{enabled:!1},brush:{enabled:!1,autoScaleYaxis:!0,target:void 0,targets:void 0},stacked:!1,stackOnlyBar:!0,stackType:"normal",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!0,zoomin:!0,zoomout:!0,pan:!0,reset:!0,customIcons:[]},export:{csv:{filename:void 0,columnDelimiter:",",headerCategory:"category",headerValue:"value",categoryFormatter:void 0,valueFormatter:void 0},png:{filename:void 0},svg:{filename:void 0},scale:void 0,width:void 0},autoSelected:"zoom"},type:"line",width:"100%",zoom:{enabled:!0,type:"x",autoScaleYaxis:!1,allowMouseWheelZoom:!0,zoomedArea:{fill:{color:"#90CAF9",opacity:.4},stroke:{color:"#0D47A1",opacity:.4,width:1}}}},plotOptions:{line:{isSlopeChart:!1},area:{fillTo:"origin"},bar:{horizontal:!1,columnWidth:"70%",barHeight:"70%",distributed:!1,borderRadius:0,borderRadiusApplication:"around",borderRadiusWhenStacked:"last",rangeBarOverlap:!0,rangeBarGroupRows:!1,hideZeroBarsWhenGrouped:!1,isDumbbell:!1,dumbbellColors:void 0,isFunnel:!1,isFunnel3d:!0,colors:{ranges:[],backgroundBarColors:[],backgroundBarOpacity:1,backgroundBarRadius:0},dataLabels:{position:"top",maxItems:100,hideOverflowingLabels:!0,orientation:"horizontal",total:{enabled:!1,formatter:void 0,offsetX:0,offsetY:0,style:{color:"#373d3f",fontSize:"12px",fontFamily:void 0,fontWeight:600}}}},bubble:{zScaling:!0,minBubbleRadius:void 0,maxBubbleRadius:void 0},candlestick:{colors:{upward:"#00B746",downward:"#EF403C"},wick:{useFillColor:!0}},boxPlot:{colors:{upper:"#00E396",lower:"#008FFB"}},heatmap:{radius:2,enableShades:!0,shadeIntensity:.5,reverseNegativeShade:!1,distributed:!1,useFillColorAsStroke:!1,colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},treemap:{enableShades:!0,shadeIntensity:.5,distributed:!1,reverseNegativeShade:!1,useFillColorAsStroke:!1,borderRadius:4,dataLabels:{format:"scale"},colorScale:{inverse:!1,ranges:[],min:void 0,max:void 0}},radialBar:{inverseOrder:!1,startAngle:0,endAngle:360,offsetX:0,offsetY:0,hollow:{margin:5,size:"50%",background:"transparent",image:void 0,imageWidth:150,imageHeight:150,imageOffsetX:0,imageOffsetY:0,imageClipped:!0,position:"front",dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},track:{show:!0,startAngle:void 0,endAngle:void 0,background:"#f2f2f2",strokeWidth:"97%",opacity:1,margin:5,dropShadow:{enabled:!1,top:0,left:0,blur:3,color:"#000",opacity:.5}},dataLabels:{show:!0,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:0,formatter:function(t){return t}},value:{show:!0,fontSize:"14px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:16,formatter:function(t){return t+"%"}},total:{show:!1,label:"Total",fontSize:"16px",fontWeight:600,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce(function(e,i){return e+i},0)/t.globals.series.length+"%"}}},barLabels:{enabled:!1,offsetX:0,offsetY:0,useSeriesColors:!0,fontFamily:void 0,fontWeight:600,fontSize:"16px",formatter:function(t){return t},onClick:void 0}},pie:{customScale:1,offsetX:0,offsetY:0,startAngle:0,endAngle:360,expandOnClick:!0,dataLabels:{offset:0,minAngleToShowLabel:10},donut:{size:"65%",background:"transparent",labels:{show:!1,name:{show:!0,fontSize:"16px",fontFamily:void 0,fontWeight:600,color:void 0,offsetY:-10,formatter:function(t){return t}},value:{show:!0,fontSize:"20px",fontFamily:void 0,fontWeight:400,color:void 0,offsetY:10,formatter:function(t){return t}},total:{show:!1,showAlways:!1,label:"Total",fontSize:"16px",fontWeight:400,fontFamily:void 0,color:void 0,formatter:function(t){return t.globals.seriesTotals.reduce(function(e,i){return e+i},0)}}}}},polarArea:{rings:{strokeWidth:1,strokeColor:"#e8e8e8"},spokes:{strokeWidth:1,connectorColors:"#e8e8e8"}},radar:{size:void 0,offsetX:0,offsetY:0,polygons:{strokeWidth:1,strokeColors:"#e8e8e8",connectorColors:"#e8e8e8",fill:{colors:void 0}}}},colors:void 0,dataLabels:{enabled:!0,enabledOnSeries:void 0,formatter:function(t){return null!==t?t:""},textAnchor:"middle",distributed:!1,offsetX:0,offsetY:0,style:{fontSize:"12px",fontFamily:void 0,fontWeight:600,colors:void 0},background:{enabled:!0,foreColor:"#fff",borderRadius:2,padding:4,opacity:.9,borderWidth:1,borderColor:"#fff",dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},dropShadow:{enabled:!1,top:1,left:1,blur:1,color:"#000",opacity:.45}},fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]},image:{src:[],width:void 0,height:void 0},pattern:{style:"squares",width:6,height:6,strokeWidth:2}},forecastDataPoints:{count:0,fillOpacity:.5,strokeWidth:void 0,dashArray:4},grid:{show:!0,borderColor:"#e0e0e0",strokeDashArray:0,position:"back",xaxis:{lines:{show:!1}},yaxis:{lines:{show:!0}},row:{colors:void 0,opacity:.5},column:{colors:void 0,opacity:.5},padding:{top:0,right:10,bottom:0,left:12}},labels:[],legend:{show:!0,showForSingleSeries:!1,showForNullSeries:!0,showForZeroSeries:!0,floating:!1,position:"bottom",horizontalAlign:"center",inverseOrder:!1,fontSize:"12px",fontFamily:void 0,fontWeight:400,width:void 0,height:void 0,formatter:void 0,tooltipHoverFormatter:void 0,offsetX:-20,offsetY:4,customLegendItems:[],labels:{colors:void 0,useSeriesColors:!1},markers:{size:7,fillColors:void 0,strokeWidth:1,shape:void 0,offsetX:0,offsetY:0,customHTML:void 0,onClick:void 0},itemMargin:{horizontal:5,vertical:4},onItemClick:{toggleDataSeries:!0},onItemHover:{highlightDataSeries:!0}},markers:{discrete:[],size:0,colors:void 0,strokeColors:"#fff",strokeWidth:2,strokeOpacity:.9,strokeDashArray:0,fillOpacity:1,shape:"circle",offsetX:0,offsetY:0,showNullDataPoints:!0,onClick:void 0,onDblClick:void 0,hover:{size:void 0,sizeOffset:3}},noData:{text:void 0,align:"center",verticalAlign:"middle",offsetX:0,offsetY:0,style:{color:void 0,fontSize:"14px",fontFamily:void 0}},responsive:[],series:void 0,states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"lighten",value:.1}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"darken",value:.5}}},title:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:0,floating:!1,style:{fontSize:"14px",fontWeight:900,fontFamily:void 0,color:void 0}},subtitle:{text:void 0,align:"left",margin:5,offsetX:0,offsetY:30,floating:!1,style:{fontSize:"12px",fontWeight:400,fontFamily:void 0,color:void 0}},stroke:{show:!0,curve:"smooth",lineCap:"butt",width:2,colors:void 0,dashArray:0,fill:{type:"solid",colors:void 0,opacity:.85,gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:void 0,inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,50,100],colorStops:[]}}},tooltip:{enabled:!0,enabledOnSeries:void 0,shared:!0,hideEmptySeries:!1,followCursor:!1,intersect:!1,inverseOrder:!1,custom:void 0,fillSeriesColor:!1,theme:"light",cssClass:"",style:{fontSize:"12px",fontFamily:void 0},onDatasetHover:{highlightDataSeries:!1},x:{show:!0,format:"dd MMM",formatter:void 0},y:{formatter:void 0,title:{formatter:function(t){return t?t+": ":""}}},z:{formatter:void 0,title:"Size: "},marker:{show:!0,fillColors:void 0},items:{display:"flex"},fixed:{enabled:!1,position:"topRight",offsetX:0,offsetY:0}},xaxis:{type:"category",categories:[],convertedCatToNumeric:!1,offsetX:0,offsetY:0,overwriteCategories:void 0,labels:{show:!0,rotate:-45,rotateAlways:!1,hideOverlappingLabels:!0,trim:!1,minHeight:void 0,maxHeight:120,showDuplicates:!0,style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""},offsetX:0,offsetY:0,format:void 0,formatter:void 0,datetimeUTC:!0,datetimeFormatter:{year:"yyyy",month:"MMM 'yy",day:"dd MMM",hour:"HH:mm",minute:"HH:mm:ss",second:"HH:mm:ss"}},group:{groups:[],style:{colors:[],fontSize:"12px",fontWeight:400,fontFamily:void 0,cssClass:""}},axisBorder:{show:!0,color:"#e0e0e0",width:"100%",height:1,offsetX:0,offsetY:0},axisTicks:{show:!0,color:"#e0e0e0",height:6,offsetX:0,offsetY:0},stepSize:void 0,tickAmount:void 0,tickPlacement:"on",min:void 0,max:void 0,range:void 0,floating:!1,decimalsInFloat:void 0,position:"bottom",title:{text:void 0,offsetX:0,offsetY:0,style:{color:void 0,fontSize:"12px",fontWeight:900,fontFamily:void 0,cssClass:""}},crosshairs:{show:!0,width:1,position:"back",opacity:.9,stroke:{color:"#b6b6b6",width:1,dashArray:3},fill:{type:"solid",color:"#B1B9C4",gradient:{colorFrom:"#D8E3F0",colorTo:"#BED1E6",stops:[0,100],opacityFrom:.4,opacityTo:.5}},dropShadow:{enabled:!1,left:0,top:0,blur:1,opacity:.4}},tooltip:{enabled:!0,offsetY:0,formatter:void 0,style:{fontSize:"12px",fontFamily:void 0}}},yaxis:this.yAxis,theme:{mode:"",palette:"palette1",monochrome:{enabled:!1,color:"#008FFB",shadeTo:"light",shadeIntensity:.65}}}}}]),A}(),at=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w,this.graphics=new H(this.ctx),this.w.globals.isBarHorizontal&&(this.invertAxis=!0),this.helpers=new Oe(this),this.xAxisAnnotations=new Wt(this),this.yAxisAnnotations=new Zt(this),this.pointsAnnotations=new Be(this),this.w.globals.isBarHorizontal&&this.w.config.yaxis[0].reversed&&(this.inversedReversedAxis=!0),this.xDivision=this.w.globals.gridWidth/this.w.globals.dataPoints}return W(A,[{key:"drawAxesAnnotations",value:function(){var t=this.w;if(t.globals.axisCharts&&t.globals.dataPoints){for(var e=this.yAxisAnnotations.drawYAxisAnnotations(),i=this.xAxisAnnotations.drawXAxisAnnotations(),a=this.pointsAnnotations.drawPointAnnotations(),n=t.config.chart.animations.enabled,o=[e,i,a],r=[i.node,e.node,a.node],h=0;h<3;h++)t.globals.dom.elGraphical.add(o[h]),!n||t.globals.resized||t.globals.dataChanged||"scatter"!==t.config.chart.type&&"bubble"!==t.config.chart.type&&t.globals.dataPoints>1&&r[h].classList.add("apexcharts-element-hidden"),t.globals.delayedElements.push({el:r[h],index:0});this.helpers.annotationsBackground()}}},{key:"drawImageAnnos",value:function(){var t=this;this.w.config.annotations.images.map(function(e,i){t.addImage(e,i)})}},{key:"drawTextAnnos",value:function(){var t=this;this.w.config.annotations.texts.map(function(e,i){t.addText(e,i)})}},{key:"addXaxisAnnotation",value:function(t,e,i){this.xAxisAnnotations.addXaxisAnnotation(t,e,i)}},{key:"addYaxisAnnotation",value:function(t,e,i){this.yAxisAnnotations.addYaxisAnnotation(t,e,i)}},{key:"addPointAnnotation",value:function(t,e,i){this.pointsAnnotations.addPointAnnotation(t,e,i)}},{key:"addText",value:function(t,e){var n=t.text,f=t.backgroundColor,x=t.borderWidth,y=t.strokeDashArray,b=t.borderRadius,k=t.borderColor,S=t.appendTo,C=void 0===S?".apexcharts-svg":S,c=t.paddingLeft,m=void 0===c?4:c,w=t.paddingRight,T=void 0===w?4:w,P=t.paddingBottom,M=void 0===P?2:P,I=t.paddingTop,E=void 0===I?2:I,X=this.w,F=this.graphics.drawText({x:t.x,y:t.y,text:n,textAnchor:t.textAnchor||"start",fontSize:t.fontSize||"12px",fontWeight:t.fontWeight||"regular",fontFamily:t.fontFamily||X.config.chart.fontFamily,foreColor:t.foreColor||X.config.chart.foreColor,cssClass:t.cssClass}),D=X.globals.dom.baseEl.querySelector(C);D&&D.appendChild(F.node);var Y=F.bbox();if(n){var G=this.graphics.drawRect(Y.x-m,Y.y-E,Y.width+m+T,Y.height+M+E,b,f||"transparent",1,x,k,y);D.insertBefore(G.node,F.node)}}},{key:"addImage",value:function(t,e){var i=this.w,n=t.x,o=void 0===n?0:n,r=t.y,h=void 0===r?0:r,d=t.width,p=void 0===d?20:d,g=t.height,f=void 0===g?20:g,x=t.appendTo,y=void 0===x?".apexcharts-svg":x,b=i.globals.dom.Paper.image(t.path);b.size(p,f).move(o,h);var k=i.globals.dom.baseEl.querySelector(y);return k&&k.appendChild(b.node),b}},{key:"addXaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"xaxis",contextMethod:i.addXaxisAnnotation}),i}},{key:"addYaxisAnnotationExternal",value:function(t,e,i){return this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"yaxis",contextMethod:i.addYaxisAnnotation}),i}},{key:"addPointAnnotationExternal",value:function(t,e,i){return void 0===this.invertAxis&&(this.invertAxis=i.w.globals.isBarHorizontal),this.addAnnotationExternal({params:t,pushToMemory:e,context:i,type:"point",contextMethod:i.addPointAnnotation}),i}},{key:"addAnnotationExternal",value:function(t){var e=t.params,i=t.pushToMemory,a=t.context,n=t.type,o=t.contextMethod,r=a,h=r.w,d=h.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-annotations")),p=d.childNodes.length+1,g=new oe,f=Object.assign({},"xaxis"===n?g.xAxisAnnotation:"yaxis"===n?g.yAxisAnnotation:g.pointAnnotation),x=R.extend(f,e);switch(n){case"xaxis":this.addXaxisAnnotation(x,d,p);break;case"yaxis":this.addYaxisAnnotation(x,d,p);break;case"point":this.addPointAnnotation(x,d,p)}var y=h.globals.dom.baseEl.querySelector(".apexcharts-".concat(n,"-annotations .apexcharts-").concat(n,"-annotation-label[rel='").concat(p,"']")),b=this.helpers.addBackgroundToAnno(y,x);return b&&d.insertBefore(b.node,y),i&&h.globals.memory.methodsToExec.push({context:r,id:x.id?x.id:R.randomId(),method:o,label:"addAnnotation",params:e}),a}},{key:"clearAnnotations",value:function(t){for(var e=t.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-annotations, .apexcharts-xaxis-annotations, .apexcharts-point-annotations"),a=e.globals.memory.methodsToExec.length-1;a>=0;a--)"addText"!==e.globals.memory.methodsToExec[a].label&&"addAnnotation"!==e.globals.memory.methodsToExec[a].label||e.globals.memory.methodsToExec.splice(a,1);i=R.listToArray(i),Array.prototype.forEach.call(i,function(n){for(;n.firstChild;)n.removeChild(n.firstChild)})}},{key:"removeAnnotation",value:function(t,e){var i=t.w,a=i.globals.dom.baseEl.querySelectorAll(".".concat(e));a&&(i.globals.memory.methodsToExec.map(function(n,o){n.id===e&&i.globals.memory.methodsToExec.splice(o,1)}),Array.prototype.forEach.call(a,function(n){n.parentElement.removeChild(n)}))}}]),A}(),At=function(A){var t,e=A.isTimeline,i=A.ctx,a=A.seriesIndex,n=A.dataPointIndex,o=A.y1,r=A.y2,h=A.w,d=h.globals.seriesRangeStart[a][n],p=h.globals.seriesRangeEnd[a][n],g=h.globals.labels[n],f=h.config.series[a].name?h.config.series[a].name:"",x=h.globals.ttKeyFormatter,y=h.config.tooltip.y.title.formatter,b={w:h,seriesIndex:a,dataPointIndex:n,start:d,end:p};"function"==typeof y&&(f=y(f,b)),null!==(t=h.config.series[a].data[n])&&void 0!==t&&t.x&&(g=h.config.series[a].data[n].x),e||"datetime"===h.config.xaxis.type&&(g=new Re(i).xLabelFormat(h.globals.ttKeyFormatter,g,g,{i:void 0,dateFormatter:new bt(i).formatDate,w:h})),"function"==typeof x&&(g=x(g,b)),Number.isFinite(o)&&Number.isFinite(r)&&(d=o,p=r);var k="",S="",C=h.globals.colors[a];if(void 0===h.config.tooltip.x.formatter)if("datetime"===h.config.xaxis.type){var c=new bt(i);k=c.formatDate(c.getDate(d),h.config.tooltip.x.format),S=c.formatDate(c.getDate(p),h.config.tooltip.x.format)}else k=d,S=p;else k=h.config.tooltip.x.formatter(d),S=h.config.tooltip.x.formatter(p);return{start:d,end:p,startVal:k,endVal:S,ylabel:g,color:C,seriesName:f}},Yt=function(A){var t=A.color,e=A.seriesName,i=A.ylabel,a=A.start,n=A.end,o=A.seriesIndex,r=A.dataPointIndex,h=A.ctx.tooltip.tooltipLabels.getFormatters(o);a=h.yLbFormatter(a),n=h.yLbFormatter(n);var d=h.yLbFormatter(A.w.globals.series[o][r]),p='<span class="value start-value">\n  '.concat(a,'\n  </span> <span class="separator">-</span> <span class="value end-value">\n  ').concat(n,"\n  </span>");return'<div class="apexcharts-tooltip-rangebar"><div> <span class="series-name" style="color: '+t+'">'+(e||"")+'</span></div><div> <span class="category">'+i+": </span> "+(A.w.globals.comboCharts?"rangeArea"===A.w.config.series[o].type||"rangeBar"===A.w.config.series[o].type?p:"<span>".concat(d,"</span>"):p)+" </div></div>"},Bt=function(){function A(t){q(this,A),this.opts=t}return W(A,[{key:"hideYAxis",value:function(){this.opts.yaxis[0].show=!1,this.opts.yaxis[0].title.text="",this.opts.yaxis[0].axisBorder.show=!1,this.opts.yaxis[0].axisTicks.show=!1,this.opts.yaxis[0].floating=!0}},{key:"line",value:function(){return{chart:{animations:{easing:"swing"}},dataLabels:{enabled:!1},stroke:{width:5,curve:"straight"},markers:{size:0,hover:{sizeOffset:6}},xaxis:{crosshairs:{width:1}}}}},{key:"sparkline",value:function(t){return this.hideYAxis(),R.extend(t,{grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},legend:{show:!1},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}},chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1}})}},{key:"slope",value:function(){return this.hideYAxis(),{chart:{toolbar:{show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!0,formatter:function(t,e){return null!==t?e.w.config.series[e.seriesIndex].name+": "+t:""},background:{enabled:!1},offsetX:-5},grid:{xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}}},xaxis:{position:"top",labels:{style:{fontSize:14,fontWeight:900}},tooltip:{enabled:!1},crosshairs:{show:!1}},markers:{size:8,hover:{sizeOffset:1}},legend:{show:!1},tooltip:{shared:!1,intersect:!0,followCursor:!0},stroke:{width:5,curve:"straight"}}}},{key:"bar",value:function(){return{chart:{stacked:!1,animations:{easing:"swing"}},plotOptions:{bar:{dataLabels:{position:"center"}}},dataLabels:{style:{colors:["#fff"]},background:{enabled:!1}},stroke:{width:0,lineCap:"round"},fill:{opacity:.85},legend:{markers:{shape:"square"}},tooltip:{shared:!1,intersect:!0},xaxis:{tooltip:{enabled:!1},tickPlacement:"between",crosshairs:{width:"barWidth",position:"back",fill:{type:"gradient"},dropShadow:{enabled:!1},stroke:{width:0}}}}}},{key:"funnel",value:function(){return this.hideYAxis(),Z(Z({},this.bar()),{},{chart:{animations:{easing:"linear",speed:800,animateGradually:{enabled:!1}}},plotOptions:{bar:{horizontal:!0,borderRadiusApplication:"around",borderRadius:0,dataLabels:{position:"center"}}},grid:{show:!1,padding:{left:0,right:0}},xaxis:{labels:{show:!1},tooltip:{enabled:!1},axisBorder:{show:!1},axisTicks:{show:!1}}})}},{key:"candlestick",value:function(){var t=this;return{stroke:{width:1,colors:["#333"]},fill:{opacity:1},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(e){return t._getBoxTooltip(e.w,e.seriesIndex,e.dataPointIndex,["Open","High","","Low","Close"],"candlestick")}},states:{active:{filter:{type:"none"}}},xaxis:{crosshairs:{width:1}}}}},{key:"boxPlot",value:function(){var t=this;return{chart:{animations:{dynamicAnimation:{enabled:!1}}},stroke:{width:1,colors:["#24292e"]},dataLabels:{enabled:!1},tooltip:{shared:!0,custom:function(e){return t._getBoxTooltip(e.w,e.seriesIndex,e.dataPointIndex,["Minimum","Q1","Median","Q3","Maximum"],"boxPlot")}},markers:{size:7,strokeWidth:1,strokeColors:"#111"},xaxis:{crosshairs:{width:1}}}}},{key:"rangeBar",value:function(){return{chart:{animations:{animateGradually:!1}},stroke:{width:0,lineCap:"square"},plotOptions:{bar:{borderRadius:0,dataLabels:{position:"center"}}},dataLabels:{enabled:!1,formatter:function(t,e){var i=e.seriesIndex,a=e.dataPointIndex,n=e.w,o=function(){return n.globals.seriesRangeEnd[i][a]-n.globals.seriesRangeStart[i][a]};return n.globals.comboCharts?"rangeBar"===n.config.series[i].type||"rangeArea"===n.config.series[i].type?o():t:o()},background:{enabled:!1},style:{colors:["#fff"]}},markers:{size:10},tooltip:{shared:!1,followCursor:!0,custom:function(t){return t.w.config.plotOptions&&t.w.config.plotOptions.bar&&t.w.config.plotOptions.bar.horizontal?(a=(i=At(Z(Z({},e=t),{},{isTimeline:!0}))).color,n=i.seriesName,o=i.ylabel,r=i.startVal,h=i.endVal,Yt(Z(Z({},e),{},{color:a,seriesName:n,ylabel:o,start:r,end:h}))):function(e){var i=At(e),a=i.color,n=i.seriesName,o=i.ylabel,r=i.start,h=i.end;return Yt(Z(Z({},e),{},{color:a,seriesName:n,ylabel:o,start:r,end:h}))}(t);var e,i,a,n,o,r,h}},xaxis:{tickPlacement:"between",tooltip:{enabled:!1},crosshairs:{stroke:{width:0}}}}}},{key:"dumbbell",value:function(t){var e,i;return null!==(e=t.plotOptions.bar)&&void 0!==e&&e.barHeight||(t.plotOptions.bar.barHeight=2),null!==(i=t.plotOptions.bar)&&void 0!==i&&i.columnWidth||(t.plotOptions.bar.columnWidth=2),t}},{key:"area",value:function(){return{stroke:{width:4,fill:{type:"solid",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}}},fill:{type:"gradient",gradient:{inverseColors:!1,shade:"light",type:"vertical",opacityFrom:.65,opacityTo:.5,stops:[0,100,100]}},markers:{size:0,hover:{sizeOffset:6}},tooltip:{followCursor:!1}}}},{key:"rangeArea",value:function(){return{stroke:{curve:"straight",width:0},fill:{type:"solid",opacity:.6},markers:{size:0},states:{hover:{filter:{type:"none"}},active:{filter:{type:"none"}}},tooltip:{intersect:!1,shared:!0,followCursor:!0,custom:function(t){return a=(i=At(e=t)).color,n=i.seriesName,o=i.ylabel,r=i.start,h=i.end,Yt(Z(Z({},e),{},{color:a,seriesName:n,ylabel:o,start:r,end:h}));var e,i,a,n,o,r,h}}}}},{key:"brush",value:function(t){return R.extend(t,{chart:{toolbar:{autoSelected:"selection",show:!1},zoom:{enabled:!1}},dataLabels:{enabled:!1},stroke:{width:1},tooltip:{enabled:!1},xaxis:{tooltip:{enabled:!1}}})}},{key:"stacked100",value:function(t){t.dataLabels=t.dataLabels||{},t.dataLabels.formatter=t.dataLabels.formatter||void 0;var e=t.dataLabels.formatter;return t.yaxis.forEach(function(i,a){t.yaxis[a].min=0,t.yaxis[a].max=100}),"bar"===t.chart.type&&(t.dataLabels.formatter=e||function(i){return"number"==typeof i&&i?i.toFixed(0)+"%":i}),t}},{key:"stackedBars",value:function(){var t=this.bar();return Z(Z({},t),{},{plotOptions:Z(Z({},t.plotOptions),{},{bar:Z(Z({},t.plotOptions.bar),{},{borderRadiusApplication:"end",borderRadiusWhenStacked:"last"})})})}},{key:"convertCatToNumeric",value:function(t){return t.xaxis.convertedCatToNumeric=!0,t}},{key:"convertCatToNumericXaxis",value:function(t,e,i){t.xaxis.type="numeric",t.xaxis.labels=t.xaxis.labels||{},t.xaxis.labels.formatter=t.xaxis.labels.formatter||function(o){return R.isNumber(o)?Math.floor(o):o};var a=t.xaxis.labels.formatter,n=t.xaxis.categories&&t.xaxis.categories.length?t.xaxis.categories:t.labels;return i&&i.length&&(n=i.map(function(o){return Array.isArray(o)?o:String(o)})),n&&n.length&&(t.xaxis.labels.formatter=function(o){return R.isNumber(o)?a(n[Math.floor(o)-1]):a(o)}),t.xaxis.categories=[],t.labels=[],t.xaxis.tickAmount=t.xaxis.tickAmount||"dataPoints",t}},{key:"bubble",value:function(){return{dataLabels:{style:{colors:["#fff"]}},tooltip:{shared:!1,intersect:!0},xaxis:{crosshairs:{width:0}},fill:{type:"solid",gradient:{shade:"light",inverse:!0,shadeIntensity:.55,opacityFrom:.4,opacityTo:.8}}}}},{key:"scatter",value:function(){return{dataLabels:{enabled:!1},tooltip:{shared:!1,intersect:!0},markers:{size:6,strokeWidth:1,hover:{sizeOffset:2}}}}},{key:"heatmap",value:function(){return{chart:{stacked:!1},fill:{opacity:1},dataLabels:{style:{colors:["#fff"]}},stroke:{colors:["#fff"]},tooltip:{followCursor:!0,marker:{show:!1},x:{show:!1}},legend:{position:"top",markers:{shape:"square"}},grid:{padding:{right:20}}}}},{key:"treemap",value:function(){return{chart:{zoom:{enabled:!1}},dataLabels:{style:{fontSize:14,fontWeight:600,colors:["#fff"]}},stroke:{show:!0,width:2,colors:["#fff"]},legend:{show:!1},fill:{opacity:1,gradient:{stops:[0,100]}},tooltip:{followCursor:!0,x:{show:!1}},grid:{padding:{left:0,right:0}},xaxis:{crosshairs:{show:!1},tooltip:{enabled:!1}}}}},{key:"pie",value:function(){return{chart:{toolbar:{show:!1}},plotOptions:{pie:{donut:{labels:{show:!1}}}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",stops:[0,100]}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"donut",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},style:{colors:["#fff"]},background:{enabled:!1},dropShadow:{enabled:!0}},stroke:{colors:["#fff"]},fill:{opacity:1,gradient:{shade:"light",shadeIntensity:.35,stops:[80,100],opacityFrom:1,opacityTo:1}},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"polarArea",value:function(){return{chart:{toolbar:{show:!1}},dataLabels:{formatter:function(t){return t.toFixed(1)+"%"},enabled:!1},stroke:{show:!0,width:2},fill:{opacity:.7},tooltip:{theme:"dark",fillSeriesColor:!0},legend:{position:"right"},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"radar",value:function(){return this.opts.yaxis[0].labels.offsetY=this.opts.yaxis[0].labels.offsetY?this.opts.yaxis[0].labels.offsetY:6,{dataLabels:{enabled:!1,style:{fontSize:"11px"}},stroke:{width:2},markers:{size:5,strokeWidth:1,strokeOpacity:1},fill:{opacity:.2},tooltip:{shared:!1,intersect:!0,followCursor:!0},grid:{show:!1,padding:{left:0,right:0,top:0,bottom:0}},xaxis:{labels:{formatter:function(t){return t},style:{colors:["#a8a8a8"],fontSize:"11px"}},tooltip:{enabled:!1},crosshairs:{show:!1}}}}},{key:"radialBar",value:function(){return{chart:{animations:{dynamicAnimation:{enabled:!0,speed:800}},toolbar:{show:!1}},fill:{gradient:{shade:"dark",shadeIntensity:.4,inverseColors:!1,type:"diagonal2",opacityFrom:1,opacityTo:1,stops:[70,98,100]}},legend:{show:!1,position:"right"},tooltip:{enabled:!1,fillSeriesColor:!0},grid:{padding:{left:0,right:0,top:0,bottom:0}}}}},{key:"_getBoxTooltip",value:function(t,e,i,a,n){var o=t.globals.seriesCandleO[e][i],r=t.globals.seriesCandleH[e][i],h=t.globals.seriesCandleM[e][i],d=t.globals.seriesCandleL[e][i],p=t.globals.seriesCandleC[e][i];return t.config.series[e].type&&t.config.series[e].type!==n?'<div class="apexcharts-custom-tooltip">\n          '.concat(t.config.series[e].name?t.config.series[e].name:"series-"+(e+1),": <strong>").concat(t.globals.series[e][i],"</strong>\n        </div>"):'<div class="apexcharts-tooltip-box apexcharts-tooltip-'.concat(t.config.chart.type,'">')+"<div>".concat(a[0],': <span class="value">')+o+"</span></div>"+"<div>".concat(a[1],': <span class="value">')+r+"</span></div>"+(h?"<div>".concat(a[2],': <span class="value">')+h+"</span></div>":"")+"<div>".concat(a[3],': <span class="value">')+d+"</span></div>"+"<div>".concat(a[4],': <span class="value">')+p+"</span></div></div>"}}]),A}(),Ct=function(){function A(t){q(this,A),this.opts=t}return W(A,[{key:"init",value:function(t){var e=t.responsiveOverride,i=this.opts,a=new oe,n=new Bt(i);this.chartType=i.chart.type,i=this.extendYAxis(i),i=this.extendAnnotations(i);var o=a.init(),r={};if(i&&"object"===vt(i)){var h,d,p,g,f,x,y,b,k,S,C={};C=-1!==["line","area","bar","candlestick","boxPlot","rangeBar","rangeArea","bubble","scatter","heatmap","treemap","pie","polarArea","donut","radar","radialBar"].indexOf(i.chart.type)?n[i.chart.type]():n.line(),null!==(h=i.plotOptions)&&void 0!==h&&null!==(d=h.bar)&&void 0!==d&&d.isFunnel&&(C=n.funnel()),i.chart.stacked&&"bar"===i.chart.type&&(C=n.stackedBars()),null!==(p=i.chart.brush)&&void 0!==p&&p.enabled&&(C=n.brush(C)),null!==(g=i.plotOptions)&&void 0!==g&&null!==(f=g.line)&&void 0!==f&&f.isSlopeChart&&(C=n.slope()),i.chart.stacked&&"100%"===i.chart.stackType&&(i=n.stacked100(i)),null!==(x=i.plotOptions)&&void 0!==x&&null!==(y=x.bar)&&void 0!==y&&y.isDumbbell&&(i=n.dumbbell(i)),this.checkForDarkTheme(window.Apex),this.checkForDarkTheme(i),i.xaxis=i.xaxis||window.Apex.xaxis||{},e||(i.xaxis.convertedCatToNumeric=!1),(null!==(b=(i=this.checkForCatToNumericXAxis(this.chartType,C,i)).chart.sparkline)&&void 0!==b&&b.enabled||null!==(k=window.Apex.chart)&&void 0!==k&&null!==(S=k.sparkline)&&void 0!==S&&S.enabled)&&(C=n.sparkline(C)),r=R.extend(o,C)}var c=R.extend(r,window.Apex);return o=R.extend(c,i),this.handleUserInputErrors(o)}},{key:"checkForCatToNumericXAxis",value:function(t,e,i){var a,n,o=new Bt(i);return("bar"===t||"boxPlot"===t)&&(null===(a=i.plotOptions)||void 0===a||null===(n=a.bar)||void 0===n?void 0:n.horizontal)||"pie"===t||"polarArea"===t||"donut"===t||"radar"===t||"radialBar"===t||"heatmap"===t||!("datetime"!==i.xaxis.type&&"numeric"!==i.xaxis.type)||"between"===(i.xaxis.tickPlacement?i.xaxis.tickPlacement:e.xaxis&&e.xaxis.tickPlacement)||(i=o.convertCatToNumeric(i)),i}},{key:"extendYAxis",value:function(t,e){var i=new oe;(void 0===t.yaxis||!t.yaxis||Array.isArray(t.yaxis)&&0===t.yaxis.length)&&(t.yaxis={}),t.yaxis.constructor!==Array&&window.Apex.yaxis&&window.Apex.yaxis.constructor!==Array&&(t.yaxis=R.extend(t.yaxis,window.Apex.yaxis)),t.yaxis=t.yaxis.constructor!==Array?[R.extend(i.yAxis,t.yaxis)]:R.extendArray(t.yaxis,i.yAxis);var a=!1;t.yaxis.forEach(function(o){o.logarithmic&&(a=!0)});var n=t.series;return e&&!n&&(n=e.config.series),a&&n.length!==t.yaxis.length&&n.length&&(t.yaxis=n.map(function(o,r){if(o.name||(n[r].name="series-".concat(r+1)),t.yaxis[r])return t.yaxis[r].seriesName=n[r].name,t.yaxis[r];var h=R.extend(i.yAxis,t.yaxis[0]);return h.show=!1,h})),a&&n.length>1&&n.length!==t.yaxis.length&&console.warn("A multi-series logarithmic chart should have equal number of series and y-axes"),t}},{key:"extendAnnotations",value:function(t){return void 0===t.annotations&&(t.annotations={},t.annotations.yaxis=[],t.annotations.xaxis=[],t.annotations.points=[]),t=this.extendYAxisAnnotations(t),t=this.extendXAxisAnnotations(t),this.extendPointAnnotations(t)}},{key:"extendYAxisAnnotations",value:function(t){var e=new oe;return t.annotations.yaxis=R.extendArray(void 0!==t.annotations.yaxis?t.annotations.yaxis:[],e.yAxisAnnotation),t}},{key:"extendXAxisAnnotations",value:function(t){var e=new oe;return t.annotations.xaxis=R.extendArray(void 0!==t.annotations.xaxis?t.annotations.xaxis:[],e.xAxisAnnotation),t}},{key:"extendPointAnnotations",value:function(t){var e=new oe;return t.annotations.points=R.extendArray(void 0!==t.annotations.points?t.annotations.points:[],e.pointAnnotation),t}},{key:"checkForDarkTheme",value:function(t){t.theme&&"dark"===t.theme.mode&&(t.tooltip||(t.tooltip={}),"light"!==t.tooltip.theme&&(t.tooltip.theme="dark"),t.chart.foreColor||(t.chart.foreColor="#f6f7f8"),t.theme.palette||(t.theme.palette="palette4"))}},{key:"handleUserInputErrors",value:function(t){var e=t;if(e.tooltip.shared&&e.tooltip.intersect)throw new Error("tooltip.shared cannot be enabled when tooltip.intersect is true. Turn off any other option by setting it to false.");if("bar"===e.chart.type&&e.plotOptions.bar.horizontal){if(e.yaxis.length>1)throw new Error("Multiple Y Axis for bars are not supported. Switch to column chart by setting plotOptions.bar.horizontal=false");e.yaxis[0].reversed&&(e.yaxis[0].opposite=!0),e.xaxis.tooltip.enabled=!1,e.yaxis[0].tooltip.enabled=!1,e.chart.zoom.enabled=!1}return"bar"!==e.chart.type&&"rangeBar"!==e.chart.type||e.tooltip.shared&&"barWidth"===e.xaxis.crosshairs.width&&e.series.length>1&&(e.xaxis.crosshairs.width="tickWidth"),"candlestick"!==e.chart.type&&"boxPlot"!==e.chart.type||e.yaxis[0].reversed&&(console.warn("Reversed y-axis in ".concat(e.chart.type," chart is not supported.")),e.yaxis[0].reversed=!1),e}}]),A}(),mt=function(){function A(){q(this,A)}return W(A,[{key:"initGlobalVars",value:function(t){t.series=[],t.seriesCandleO=[],t.seriesCandleH=[],t.seriesCandleM=[],t.seriesCandleL=[],t.seriesCandleC=[],t.seriesRangeStart=[],t.seriesRangeEnd=[],t.seriesRange=[],t.seriesPercent=[],t.seriesGoals=[],t.seriesX=[],t.seriesZ=[],t.seriesNames=[],t.seriesTotals=[],t.seriesLog=[],t.seriesColors=[],t.stackedSeriesTotals=[],t.seriesXvalues=[],t.seriesYvalues=[],t.labels=[],t.hasXaxisGroups=!1,t.groups=[],t.barGroups=[],t.lineGroups=[],t.areaGroups=[],t.hasSeriesGroups=!1,t.seriesGroups=[],t.categoryLabels=[],t.timescaleLabels=[],t.noLabelsProvided=!1,t.resizeTimer=null,t.selectionResizeTimer=null,t.lastWheelExecution=0,t.delayedElements=[],t.pointsArray=[],t.dataLabelsRects=[],t.isXNumeric=!1,t.skipLastTimelinelabel=!1,t.skipFirstTimelinelabel=!1,t.isDataXYZ=!1,t.isMultiLineX=!1,t.isMultipleYAxis=!1,t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE,t.minYArr=[],t.maxYArr=[],t.maxX=-Number.MAX_VALUE,t.minX=Number.MAX_VALUE,t.initialMaxX=-Number.MAX_VALUE,t.initialMinX=Number.MAX_VALUE,t.maxDate=0,t.minDate=Number.MAX_VALUE,t.minZ=Number.MAX_VALUE,t.maxZ=-Number.MAX_VALUE,t.minXDiff=Number.MAX_VALUE,t.yAxisScale=[],t.xAxisScale=null,t.xAxisTicksPositions=[],t.yLabelsCoords=[],t.yTitleCoords=[],t.barPadForNumericAxis=0,t.padHorizontal=0,t.xRange=0,t.yRange=[],t.zRange=0,t.dataPoints=0,t.xTickAmount=0,t.multiAxisTickAmount=0}},{key:"globalVars",value:function(t){return{chartID:null,cuid:null,events:{beforeMount:[],mounted:[],updated:[],clicked:[],selection:[],dataPointSelection:[],zoomed:[],scrolled:[]},colors:[],clientX:null,clientY:null,fill:{colors:[]},stroke:{colors:[]},dataLabels:{style:{colors:[]}},radarPolygons:{fill:{colors:[]}},markers:{colors:[],size:t.markers.size,largestSize:0},animationEnded:!1,isTouchDevice:"ontouchstart"in window||navigator.msMaxTouchPoints,isDirty:!1,isExecCalled:!1,initialConfig:null,initialSeries:[],lastXAxis:[],lastYAxis:[],columnSeries:null,labels:[],timescaleLabels:[],noLabelsProvided:!1,allSeriesCollapsed:!1,collapsedSeries:[],collapsedSeriesIndices:[],ancillaryCollapsedSeries:[],ancillaryCollapsedSeriesIndices:[],risingSeries:[],dataFormatXNumeric:!1,capturedSeriesIndex:-1,capturedDataPointIndex:-1,selectedDataPoints:[],invalidLogScale:!1,ignoreYAxisIndexes:[],maxValsInArrayIndex:0,radialSize:0,selection:void 0,zoomEnabled:"zoom"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.zoom&&t.chart.zoom.enabled,panEnabled:"pan"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.pan,selectionEnabled:"selection"===t.chart.toolbar.autoSelected&&t.chart.toolbar.tools.selection,yaxis:null,mousedown:!1,lastClientPosition:{},visibleXRange:void 0,yValueDecimal:0,total:0,SVGNS:"http://www.w3.org/2000/svg",svgWidth:0,svgHeight:0,noData:!1,locale:{},dom:{},memory:{methodsToExec:[]},shouldAnimate:!0,skipLastTimelinelabel:!1,skipFirstTimelinelabel:!1,delayedElements:[],axisCharts:!0,isDataXYZ:!1,isSlopeChart:t.plotOptions.line.isSlopeChart,resized:!1,resizeTimer:null,comboCharts:!1,dataChanged:!1,previousPaths:[],allSeriesHasEqualX:!0,pointsArray:[],dataLabelsRects:[],lastDrawnDataLabelsIndexes:[],hasNullValues:!1,easing:null,zoomed:!1,gridWidth:0,gridHeight:0,rotateXLabels:!1,defaultLabels:!1,xLabelFormatter:void 0,yLabelFormatters:[],xaxisTooltipFormatter:void 0,ttKeyFormatter:void 0,ttVal:void 0,ttZFormatter:void 0,LINE_HEIGHT_RATIO:1.618,xAxisLabelsHeight:0,xAxisGroupLabelsHeight:0,xAxisLabelsWidth:0,yAxisLabelsWidth:0,scaleX:1,scaleY:1,translateX:0,translateY:0,translateYAxisX:[],yAxisWidths:[],translateXAxisY:0,translateXAxisX:0,tooltip:null,niceScaleAllowedMagMsd:[[1,1,2,5,5,5,10,10,10,10,10],[1,1,2,5,5,5,10,10,10,10,10]],niceScaleDefaultTicks:[1,2,4,4,6,6,6,6,6,6,6,6,6,6,6,6,6,6,12,12,12,12,12,12,12,12,12,24],seriesYAxisMap:[],seriesYAxisReverseMap:[]}}},{key:"init",value:function(t){var e=this.globalVars(t);return this.initGlobalVars(e),e.initialConfig=R.extend({},t),e.initialSeries=R.clone(t.series),e.lastXAxis=R.clone(e.initialConfig.xaxis),e.lastYAxis=R.clone(e.initialConfig.yaxis),e}}]),A}(),ut=function(){function A(t){q(this,A),this.opts=t}return W(A,[{key:"init",value:function(){var t=new Ct(this.opts).init({responsiveOverride:!1});return{config:t,globals:(new mt).init(t)}}}]),A}(),Et=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w,this.opts=null,this.seriesIndex=0,this.patternIDs=[]}return W(A,[{key:"clippedImgArea",value:function(t){var e=this.w,i=e.config,a=parseInt(e.globals.gridWidth,10),n=parseInt(e.globals.gridHeight,10),o=a>n?a:n,r=t.image,h=0,d=0;void 0===t.width&&void 0===t.height?void 0!==i.fill.image.width&&void 0!==i.fill.image.height?(h=i.fill.image.width+1,d=i.fill.image.height):(h=o+1,d=o):(h=t.width,d=t.height);var p=document.createElementNS(e.globals.SVGNS,"pattern");H.setAttrs(p,{id:t.patternID,patternUnits:t.patternUnits?t.patternUnits:"userSpaceOnUse",width:h+"px",height:d+"px"});var g=document.createElementNS(e.globals.SVGNS,"image");p.appendChild(g),g.setAttributeNS(window.SVG.xlink,"href",r),H.setAttrs(g,{x:0,y:0,preserveAspectRatio:"none",width:h+"px",height:d+"px"}),g.style.opacity=t.opacity,e.globals.dom.elDefs.node.appendChild(p)}},{key:"getSeriesIndex",value:function(t){var e=this.w,i=e.config.chart.type;return this.seriesIndex=("bar"===i||"rangeBar"===i)&&e.config.plotOptions.bar.distributed||"heatmap"===i||"treemap"===i?t.seriesNumber:t.seriesNumber%e.globals.series.length,this.seriesIndex}},{key:"fillPath",value:function(t){var e=this.w;this.opts=t;var i,a,n,o=this.w.config;this.seriesIndex=this.getSeriesIndex(t);var r=this.getFillColors()[this.seriesIndex];void 0!==e.globals.seriesColors[this.seriesIndex]&&(r=e.globals.seriesColors[this.seriesIndex]),"function"==typeof r&&(r=r({seriesIndex:this.seriesIndex,dataPointIndex:t.dataPointIndex,value:t.value,w:e}));var h=t.fillType?t.fillType:this.getFillType(this.seriesIndex),d=Array.isArray(o.fill.opacity)?o.fill.opacity[this.seriesIndex]:o.fill.opacity;t.color&&(r=t.color),r||(r="#fff",console.warn("undefined color - ApexCharts"));var p=r;if(-1===r.indexOf("rgb")?r.length<9&&(p=R.hexToRgba(r,d)):r.indexOf("rgba")>-1&&(d=R.getOpacityFromRGBA(r)),t.opacity&&(d=t.opacity),"pattern"===h&&(a=this.handlePatternFill({fillConfig:t.fillConfig,patternFill:a,fillColor:r,fillOpacity:d,defaultColor:p})),"gradient"===h&&(n=this.handleGradientFill({fillConfig:t.fillConfig,fillColor:r,fillOpacity:d,i:this.seriesIndex})),"image"===h){var g=o.fill.image.src,f=t.patternID?t.patternID:"",x="pattern".concat(e.globals.cuid).concat(t.seriesNumber+1).concat(f);-1===this.patternIDs.indexOf(x)&&(this.clippedImgArea({opacity:d,image:Array.isArray(g)?t.seriesNumber<g.length?g[t.seriesNumber]:g[0]:g,width:t.width?t.width:void 0,height:t.height?t.height:void 0,patternUnits:t.patternUnits,patternID:x}),this.patternIDs.push(x)),i="url(#".concat(x,")")}else i="gradient"===h?n:"pattern"===h?a:p;return t.solid&&(i=p),i}},{key:"getFillType",value:function(t){var e=this.w;return Array.isArray(e.config.fill.type)?e.config.fill.type[t]:e.config.fill.type}},{key:"getFillColors",value:function(){var t=this.w,e=t.config,i=this.opts,a=[];return t.globals.comboCharts?"line"===t.config.series[this.seriesIndex].type?Array.isArray(t.globals.stroke.colors)?a=t.globals.stroke.colors:a.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?a=t.globals.fill.colors:a.push(t.globals.fill.colors):"line"===e.chart.type?Array.isArray(t.globals.stroke.colors)?a=t.globals.stroke.colors:a.push(t.globals.stroke.colors):Array.isArray(t.globals.fill.colors)?a=t.globals.fill.colors:a.push(t.globals.fill.colors),void 0!==i.fillColors&&(a=[],Array.isArray(i.fillColors)?a=i.fillColors.slice():a.push(i.fillColors)),a}},{key:"handlePatternFill",value:function(t){var e=t.fillConfig,a=t.fillColor,n=t.fillOpacity,o=t.defaultColor,r=this.w.config.fill;e&&(r=e);var h=this.opts,d=new H(this.ctx),p=Array.isArray(r.pattern.strokeWidth)?r.pattern.strokeWidth[this.seriesIndex]:r.pattern.strokeWidth,g=a;return Array.isArray(r.pattern.style)?void 0!==r.pattern.style[h.seriesNumber]?d.drawPattern(r.pattern.style[h.seriesNumber],r.pattern.width,r.pattern.height,g,p,n):o:d.drawPattern(r.pattern.style,r.pattern.width,r.pattern.height,g,p,n)}},{key:"handleGradientFill",value:function(t){var e=t.fillColor,i=t.fillOpacity,a=t.fillConfig,n=t.i,o=this.w.config.fill;a&&(o=Z(Z({},o),a));var r,h=this.opts,d=new H(this.ctx),p=new R,g=o.gradient.type,f=e,x=void 0===o.gradient.opacityFrom?i:Array.isArray(o.gradient.opacityFrom)?o.gradient.opacityFrom[n]:o.gradient.opacityFrom;f.indexOf("rgba")>-1&&(x=R.getOpacityFromRGBA(f));var y=void 0===o.gradient.opacityTo?i:Array.isArray(o.gradient.opacityTo)?o.gradient.opacityTo[n]:o.gradient.opacityTo;if(void 0===o.gradient.gradientToColors||0===o.gradient.gradientToColors.length)r=p.shadeColor("dark"===o.gradient.shade?-1*parseFloat(o.gradient.shadeIntensity):parseFloat(o.gradient.shadeIntensity),e.indexOf("rgb")>-1?R.rgb2hex(e):e);else if(o.gradient.gradientToColors[h.seriesNumber]){var b=o.gradient.gradientToColors[h.seriesNumber];r=b,b.indexOf("rgba")>-1&&(y=R.getOpacityFromRGBA(b))}else r=e;if(o.gradient.gradientFrom&&(f=o.gradient.gradientFrom),o.gradient.gradientTo&&(r=o.gradient.gradientTo),o.gradient.inverseColors){var k=f;f=r,r=k}return f.indexOf("rgb")>-1&&(f=R.rgb2hex(f)),r.indexOf("rgb")>-1&&(r=R.rgb2hex(r)),d.drawGradient(g,f,r,x,y,h.size,o.gradient.stops,o.gradient.colorStops,n)}}]),A}(),jt=function(){function A(t,e){q(this,A),this.ctx=t,this.w=t.w}return W(A,[{key:"setGlobalMarkerSize",value:function(){var t=this.w;if(t.globals.markers.size=Array.isArray(t.config.markers.size)?t.config.markers.size:[t.config.markers.size],t.globals.markers.size.length>0){if(t.globals.markers.size.length<t.globals.series.length+1)for(var e=0;e<=t.globals.series.length;e++)void 0===t.globals.markers.size[e]&&t.globals.markers.size.push(t.globals.markers.size[0])}else t.globals.markers.size=t.config.series.map(function(i){return t.config.markers.size})}},{key:"plotChartMarkers",value:function(t,e,i,a){var n,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r=this.w,h=e,d=t,p=null,g=new H(this.ctx),f=r.config.markers.discrete&&r.config.markers.discrete.length;if((r.globals.markers.size[e]>0||o||f)&&(p=g.group({class:o||f?"":"apexcharts-series-markers"})).attr("clip-path","url(#gridRectMarkerMask".concat(r.globals.cuid,")")),Array.isArray(d.x))for(var x=0;x<d.x.length;x++){var y=i;1===i&&0===x&&(y=0),1===i&&1===x&&(y=1);var b="apexcharts-marker";if("line"!==r.config.chart.type&&"area"!==r.config.chart.type||r.globals.comboCharts||r.config.tooltip.intersect||(b+=" no-pointer-events"),(Array.isArray(r.config.markers.size)?r.globals.markers.size[e]>0:r.config.markers.size>0)||o||f){R.isNumber(d.y[x])?b+=" w".concat(R.randomId()):b="apexcharts-nullpoint";var k=this.getMarkerConfig({cssClass:b,seriesIndex:e,dataPointIndex:y});r.config.series[h].data[y]&&(r.config.series[h].data[y].fillColor&&(k.pointFillColor=r.config.series[h].data[y].fillColor),r.config.series[h].data[y].strokeColor&&(k.pointStrokeColor=r.config.series[h].data[y].strokeColor)),void 0!==a&&(k.pSize=a),(d.x[x]<-r.globals.markers.largestSize||d.x[x]>r.globals.gridWidth+r.globals.markers.largestSize||d.y[x]<-r.globals.markers.largestSize||d.y[x]>r.globals.gridHeight+r.globals.markers.largestSize)&&(k.pSize=0),(n=g.drawMarker(d.x[x],d.y[x],k)).attr("rel",y),n.attr("j",y),n.attr("index",e),n.node.setAttribute("default-marker-size",k.pSize),new Dt(this.ctx).setSelectionFilter(n,e,y),this.addEvents(n),p&&p.add(n)}else void 0===r.globals.pointsArray[e]&&(r.globals.pointsArray[e]=[]),r.globals.pointsArray[e].push([d.x[x],d.y[x]])}return p}},{key:"getMarkerConfig",value:function(t){var e=t.cssClass,i=t.seriesIndex,a=t.dataPointIndex,n=void 0===a?null:a,o=t.radius,r=void 0===o?null:o,h=t.size,d=void 0===h?null:h,p=t.strokeWidth,g=void 0===p?null:p,f=this.w,x=this.getMarkerStyle(i),y=null===d?f.globals.markers.size[i]:d,b=f.config.markers;return null!==n&&b.discrete.length&&b.discrete.map(function(k){k.seriesIndex===i&&k.dataPointIndex===n&&(x.pointStrokeColor=k.strokeColor,x.pointFillColor=k.fillColor,y=k.size,x.pointShape=k.shape)}),{pSize:null===r?y:r,pRadius:null!==r?r:b.radius,pointStrokeWidth:null!==g?g:Array.isArray(b.strokeWidth)?b.strokeWidth[i]:b.strokeWidth,pointStrokeColor:x.pointStrokeColor,pointFillColor:x.pointFillColor,shape:x.pointShape||(Array.isArray(b.shape)?b.shape[i]:b.shape),class:e,pointStrokeOpacity:Array.isArray(b.strokeOpacity)?b.strokeOpacity[i]:b.strokeOpacity,pointStrokeDashArray:Array.isArray(b.strokeDashArray)?b.strokeDashArray[i]:b.strokeDashArray,pointFillOpacity:Array.isArray(b.fillOpacity)?b.fillOpacity[i]:b.fillOpacity,seriesIndex:i}}},{key:"addEvents",value:function(t){var e=this.w,i=new H(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this.ctx,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this.ctx,t)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this.ctx,t)),t.node.addEventListener("click",e.config.markers.onClick),t.node.addEventListener("dblclick",e.config.markers.onDblClick),t.node.addEventListener("touchstart",i.pathMouseDown.bind(this.ctx,t),{passive:!0})}},{key:"getMarkerStyle",value:function(t){var e=this.w,i=e.globals.markers.colors,a=e.config.markers.strokeColor||e.config.markers.strokeColors;return{pointStrokeColor:Array.isArray(a)?a[t]:a,pointFillColor:Array.isArray(i)?i[t]:i}}}]),A}(),Jt=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w,this.initialAnim=this.w.config.chart.animations.enabled}return W(A,[{key:"draw",value:function(t,e,i){var a=this.w,n=new H(this.ctx),o=i.realIndex,r=i.pointsPos,h=i.zRatio,d=i.elParent,p=n.group({class:"apexcharts-series-markers apexcharts-series-".concat(a.config.chart.type)});if(p.attr("clip-path","url(#gridRectMarkerMask".concat(a.globals.cuid,")")),Array.isArray(r.x))for(var g=0;g<r.x.length;g++){var f=e+1,x=!0;0===e&&0===g&&(f=0),0===e&&1===g&&(f=1);var y=a.globals.markers.size[o];if(h!==1/0){var b=a.config.plotOptions.bubble;y=a.globals.seriesZ[o][f],b.zScaling&&(y/=h),b.minBubbleRadius&&y<b.minBubbleRadius&&(y=b.minBubbleRadius),b.maxBubbleRadius&&y>b.maxBubbleRadius&&(y=b.maxBubbleRadius)}var S=r.y[g];if(y=y||0,null!==S&&void 0!==a.globals.series[o][f]||(x=!1),x){var C=this.drawPoint(r.x[g],S,y,o,f,e);p.add(C)}d.add(p)}}},{key:"drawPoint",value:function(t,e,i,a,n,o){var r=this.w,h=a,d=new ne(this.ctx),p=new Dt(this.ctx),g=new Et(this.ctx),f=new jt(this.ctx),x=new H(this.ctx),y=f.getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:h,dataPointIndex:n,radius:"bubble"===r.config.chart.type||r.globals.comboCharts&&r.config.series[a]&&"bubble"===r.config.series[a].type?i:null}),b=g.fillPath({seriesNumber:a,dataPointIndex:n,color:y.pointFillColor,patternUnits:"objectBoundingBox",value:r.globals.series[a][o]}),k=x.drawMarker(t,e,y);return r.config.series[h].data[n]&&r.config.series[h].data[n].fillColor&&(b=r.config.series[h].data[n].fillColor),k.attr({fill:b}),r.config.chart.dropShadow.enabled&&p.dropShadow(k,r.config.chart.dropShadow,a),!this.initialAnim||r.globals.dataChanged||r.globals.resized?r.globals.animationEnded=!0:d.animateMarker(k,r.config.chart.animations.speed,r.globals.easing,function(){window.setTimeout(function(){d.animationCompleted(k)},100)}),k.attr({rel:n,j:n,index:a,"default-marker-size":y.pSize}),p.setSelectionFilter(k,a,n),f.addEvents(k),k.node.classList.add("apexcharts-marker"),k}},{key:"centerTextInBubble",value:function(t){return{y:t+=parseInt(this.w.config.dataLabels.style.fontSize,10)/4}}}]),A}(),re=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w}return W(A,[{key:"dataLabelsCorrection",value:function(t,e,i,a,n,o,r){var h=this.w,d=!1,p=new H(this.ctx).getTextRects(i,r),g=p.width,f=p.height;if(e<0&&(e=0),e>h.globals.gridHeight+f&&(e=h.globals.gridHeight+f/2),void 0===h.globals.dataLabelsRects[a]&&(h.globals.dataLabelsRects[a]=[]),h.globals.dataLabelsRects[a].push({x:t,y:e,width:g,height:f}),void 0!==h.globals.dataLabelsRects[a][h.globals.dataLabelsRects[a].length-2]){var b=h.globals.dataLabelsRects[a][void 0!==h.globals.lastDrawnDataLabelsIndexes[a]?h.globals.lastDrawnDataLabelsIndexes[a][h.globals.lastDrawnDataLabelsIndexes[a].length-1]:0];(t>b.x+b.width||e>b.y+b.height||e+f<b.y||t+g<b.x)&&(d=!0)}return(0===n||o)&&(d=!0),{x:t,y:e,textRects:p,drawnextLabel:d}}},{key:"drawDataLabel",value:function(t){var e=this,i=t.type,a=t.pos,n=t.i,o=t.j,r=t.isRangeStart,h=t.strokeWidth,d=void 0===h?2:h,p=this.w,g=new H(this.ctx),f=p.config.dataLabels,x=0,y=0,b=o,k=null;if(-1!==p.globals.collapsedSeriesIndices.indexOf(n)||!f.enabled||!Array.isArray(a.x))return k;k=g.group({class:"apexcharts-data-labels"});for(var S=0;S<a.x.length;S++)if(x=a.x[S]+f.offsetX,y=a.y[S]+f.offsetY+d,!isNaN(x)){1===o&&0===S&&(b=0),1===o&&1===S&&(b=1);var C=p.globals.series[n][b];"rangeArea"===i&&(C=r?p.globals.seriesRangeStart[n][b]:p.globals.seriesRangeEnd[n][b]);var c="",m=function(T){return p.config.dataLabels.formatter(T,{ctx:e.ctx,seriesIndex:n,dataPointIndex:b,w:p})};"bubble"===p.config.chart.type?(c=m(C=p.globals.seriesZ[n][b]),y=a.y[S],y=new Jt(this.ctx).centerTextInBubble(y,n,b).y):void 0!==C&&(c=m(C));var w=p.config.dataLabels.textAnchor;p.globals.isSlopeChart&&(w=0===b?"end":b===p.config.series[n].data.length-1?"start":"middle"),this.plotDataLabelsText({x,y,text:c,i:n,j:b,parent:k,offsetCorrection:!0,dataLabelsConfig:p.config.dataLabels,textAnchor:w})}return k}},{key:"plotDataLabelsText",value:function(t){var e=this.w,i=new H(this.ctx),a=t.x,n=t.y,o=t.i,r=t.j,h=t.text,d=t.textAnchor,p=t.fontSize,g=t.parent,f=t.dataLabelsConfig,x=t.color,y=t.alwaysDrawDataLabel,b=t.offsetCorrection,k=t.className,S=null;if(Array.isArray(e.config.dataLabels.enabledOnSeries)&&e.config.dataLabels.enabledOnSeries.indexOf(o)<0)return S;var C={x:a,y:n,drawnextLabel:!0,textRects:null};b&&(C=this.dataLabelsCorrection(a,n,h,o,r,y,parseInt(f.style.fontSize,10))),e.globals.zoomed||(a=C.x,n=C.y),C.textRects&&(a<-20-C.textRects.width||a>e.globals.gridWidth+C.textRects.width+30)&&(h="");var c=e.globals.dataLabels.style.colors[o];(("bar"===e.config.chart.type||"rangeBar"===e.config.chart.type)&&e.config.plotOptions.bar.distributed||e.config.dataLabels.distributed)&&(c=e.globals.dataLabels.style.colors[r]),"function"==typeof c&&(c=c({series:e.globals.series,seriesIndex:o,dataPointIndex:r,w:e})),x&&(c=x);var m=f.offsetX,w=f.offsetY;if("bar"!==e.config.chart.type&&"rangeBar"!==e.config.chart.type||(m=0,w=0),e.globals.isSlopeChart&&(0!==r&&(m=-2*f.offsetX+5),0!==r&&r!==e.config.series[o].data.length-1&&(m=0)),C.drawnextLabel){if((S=i.drawText({width:100,height:parseInt(f.style.fontSize,10),x:a+m,y:n+w,foreColor:c,textAnchor:d||f.textAnchor,text:h,fontSize:p||f.style.fontSize,fontFamily:f.style.fontFamily,fontWeight:f.style.fontWeight||"normal"})).attr({class:k||"apexcharts-datalabel",cx:a,cy:n}),f.dropShadow.enabled){var T=f.dropShadow;new Dt(this.ctx).dropShadow(S,T)}g.add(S),void 0===e.globals.lastDrawnDataLabelsIndexes[o]&&(e.globals.lastDrawnDataLabelsIndexes[o]=[]),e.globals.lastDrawnDataLabelsIndexes[o].push(r)}return S}},{key:"addBackgroundToDataLabel",value:function(t,e){var i=this.w,a=i.config.dataLabels.background,n=a.padding,o=a.padding/2,r=e.width,h=e.height,d=new H(this.ctx).drawRect(e.x-n,e.y-o/2,r+2*n,h+o,a.borderRadius,"transparent"!==i.config.chart.background&&i.config.chart.background?i.config.chart.background:"#fff",a.opacity,a.borderWidth,a.borderColor);return a.dropShadow.enabled&&new Dt(this.ctx).dropShadow(d,a.dropShadow),d}},{key:"dataLabelsBackground",value:function(){var t=this.w;if("bubble"!==t.config.chart.type)for(var e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels text"),i=0;i<e.length;i++){var a=e[i],n=a.getBBox(),o=null;if(n.width&&n.height&&(o=this.addBackgroundToDataLabel(a,n)),o){a.parentNode.insertBefore(o.node,a);var r=a.getAttribute("fill");!t.config.chart.animations.enabled||t.globals.resized||t.globals.dataChanged?o.attr({fill:r}):o.animate().attr({fill:r}),a.setAttribute("fill",t.config.dataLabels.background.foreColor)}}}},{key:"bringForward",value:function(){for(var t=this.w,e=t.globals.dom.baseEl.querySelectorAll(".apexcharts-datalabels"),i=t.globals.dom.baseEl.querySelector(".apexcharts-plot-series:last-child"),a=0;a<e.length;a++)i&&i.insertBefore(e[a],i.nextSibling)}}]),A}(),Nt=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w,this.legendInactiveClass="legend-mouseover-inactive"}return W(A,[{key:"getAllSeriesEls",value:function(){return this.w.globals.dom.baseEl.getElementsByClassName("apexcharts-series")}},{key:"getSeriesByName",value:function(t){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner .apexcharts-series[seriesName='".concat(R.escapeString(t),"']"))}},{key:"isSeriesHidden",value:function(t){var e=this.getSeriesByName(t),i=parseInt(e.getAttribute("data:realIndex"),10);return{isHidden:e.classList.contains("apexcharts-series-collapsed"),realIndex:i}}},{key:"addCollapsedClassToSeries",value:function(t,e){var i=this.w;function a(n){for(var o=0;o<n.length;o++)n[o].index===e&&t.node.classList.add("apexcharts-series-collapsed")}a(i.globals.collapsedSeries),a(i.globals.ancillaryCollapsedSeries)}},{key:"toggleSeries",value:function(t){var e=this.isSeriesHidden(t);return this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,e.isHidden),e.isHidden}},{key:"showSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden&&this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!0)}},{key:"hideSeries",value:function(t){var e=this.isSeriesHidden(t);e.isHidden||this.ctx.legend.legendHelpers.toggleDataSeries(e.realIndex,!1)}},{key:"resetSeries",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.w,n=R.clone(a.globals.initialSeries);a.globals.previousPaths=[],i?(a.globals.collapsedSeries=[],a.globals.ancillaryCollapsedSeries=[],a.globals.collapsedSeriesIndices=[],a.globals.ancillaryCollapsedSeriesIndices=[]):n=this.emptyCollapsedSeries(n),a.config.series=n,t&&(e&&(a.globals.zoomed=!1,this.ctx.updateHelpers.revertDefaultAxisMinMax()),this.ctx.updateHelpers._updateSeries(n,a.config.chart.animations.dynamicAnimation.enabled))}},{key:"emptyCollapsedSeries",value:function(t){for(var e=this.w,i=0;i<t.length;i++)e.globals.collapsedSeriesIndices.indexOf(i)>-1&&(t[i].data=[]);return t}},{key:"highlightSeries",value:function(t){var e=this.w,i=this.getSeriesByName(t),a=parseInt(i?.getAttribute("data:realIndex"),10),n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis"),o=null,r=null,h=null;e.globals.axisCharts||"radialBar"===e.config.chart.type?e.globals.axisCharts?(o=e.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(a,"']")),r=e.globals.dom.baseEl.querySelector(".apexcharts-datalabels[data\\:realIndex='".concat(a,"']")),h=e.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(e.globals.seriesYAxisReverseMap[a],"']"))):o=e.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"']")):o=e.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(a+1,"'] path"));for(var p=0;p<n.length;p++)n[p].classList.add(this.legendInactiveClass);if(o)e.globals.axisCharts||o.parentNode.classList.remove(this.legendInactiveClass),o.classList.remove(this.legendInactiveClass),null!==r&&r.classList.remove(this.legendInactiveClass),null!==h&&h.classList.remove(this.legendInactiveClass);else for(var g=0;g<n.length;g++)n[g].classList.remove(this.legendInactiveClass)}},{key:"toggleSeriesOnHover",value:function(t,e){var i=this.w;e||(e=t.target);var a=i.globals.dom.baseEl.querySelectorAll(".apexcharts-series, .apexcharts-datalabels, .apexcharts-yaxis");if("mousemove"===t.type){var n=parseInt(e.getAttribute("rel"),10)-1;this.highlightSeries(i.globals.seriesNames[n])}else if("mouseout"===t.type)for(var o=0;o<a.length;o++)a[o].classList.remove(this.legendInactiveClass)}},{key:"highlightRangeInSeries",value:function(t,e){var i=this,a=this.w,n=a.globals.dom.baseEl.getElementsByClassName("apexcharts-heatmap-rect"),o=function(d){for(var p=0;p<n.length;p++)n[p].classList[d](i.legendInactiveClass)};if("mousemove"===t.type){var r=parseInt(e.getAttribute("rel"),10)-1;o("add");var h=a.config.plotOptions.heatmap.colorScale.ranges;!function(d,p){for(var g=0;g<n.length;g++){var f=Number(n[g].getAttribute("val"));f>=d.from&&(f<d.to||d.to===p&&f===p)&&n[g].classList.remove(i.legendInactiveClass)}}(h[r],h.reduce(function(d,p){return Math.max(d,p.to)},0))}else"mouseout"===t.type&&o("remove")}},{key:"getActiveConfigSeriesIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"asc",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=this.w,a=0;if(i.config.series.length>1)for(var n=i.config.series.map(function(r,h){return r.data&&r.data.length>0&&-1===i.globals.collapsedSeriesIndices.indexOf(h)&&(!i.globals.comboCharts||0===e.length||e.length&&e.indexOf(i.config.series[h].type)>-1)?h:-1}),o="asc"===t?0:n.length-1;"asc"===t?o<n.length:o>=0;"asc"===t?o++:o--)if(-1!==n[o]){a=n[o];break}return a}},{key:"getBarSeriesIndices",value:function(){return this.w.globals.comboCharts?this.w.config.series.map(function(t,e){return"bar"===t.type||"column"===t.type?e:-1}).filter(function(t){return-1!==t}):this.w.config.series.map(function(t,e){return e})}},{key:"getPreviousPaths",value:function(){var t=this.w;function e(o,r,h){for(var d=o[r].childNodes,p={type:h,paths:[],realIndex:o[r].getAttribute("data:realIndex")},g=0;g<d.length;g++)if(d[g].hasAttribute("pathTo")){var f=d[g].getAttribute("pathTo");p.paths.push({d:f})}t.globals.previousPaths.push(p)}t.globals.previousPaths=[],["line","area","bar","rangebar","rangeArea","candlestick","radar"].forEach(function(o){for(var h=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(o,"-series .apexcharts-series")),d=0;d<h.length;d++)e(h,d,o)}),this.handlePrevBubbleScatterPaths("bubble"),this.handlePrevBubbleScatterPaths("scatter");var i=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series"));if(i.length>0)for(var a=function(o){for(var r=t.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t.config.chart.type," .apexcharts-series[data\\:realIndex='").concat(o,"'] rect")),h=[],d=function(g){var f=function(y){return r[g].getAttribute(y)},x={x:parseFloat(f("x")),y:parseFloat(f("y")),width:parseFloat(f("width")),height:parseFloat(f("height"))};h.push({rect:x,color:r[g].getAttribute("color")})},p=0;p<r.length;p++)d(p);t.globals.previousPaths.push(h)},n=0;n<i.length;n++)a(n);t.globals.axisCharts||(t.globals.previousPaths=t.globals.series)}},{key:"handlePrevBubbleScatterPaths",value:function(t){var e=this.w,i=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series"));if(i.length>0)for(var a=0;a<i.length;a++){for(var n=e.globals.dom.baseEl.querySelectorAll(".apexcharts-".concat(t,"-series .apexcharts-series[data\\:realIndex='").concat(a,"'] circle")),o=[],r=0;r<n.length;r++)o.push({x:n[r].getAttribute("cx"),y:n[r].getAttribute("cy"),r:n[r].getAttribute("r")});e.globals.previousPaths.push(o)}}},{key:"clearPreviousPaths",value:function(){var t=this.w;t.globals.previousPaths=[],t.globals.allSeriesCollapsed=!1}},{key:"handleNoData",value:function(){var t=this.w,e=t.config.noData,i=new H(this.ctx),a=t.globals.svgWidth/2,n=t.globals.svgHeight/2,o="middle";if(t.globals.noData=!0,t.globals.animationEnded=!0,"left"===e.align?(a=10,o="start"):"right"===e.align&&(a=t.globals.svgWidth-10,o="end"),"top"===e.verticalAlign?n=50:"bottom"===e.verticalAlign&&(n=t.globals.svgHeight-50),a+=e.offsetX,n=n+parseInt(e.style.fontSize,10)+2+e.offsetY,void 0!==e.text&&""!==e.text){var r=i.drawText({x:a,y:n,text:e.text,textAnchor:o,fontSize:e.style.fontSize,fontFamily:e.style.fontFamily,foreColor:e.style.color,opacity:1,class:"apexcharts-text-nodata"});t.globals.dom.Paper.add(r)}}},{key:"setNullSeriesToZeroValues",value:function(t){for(var e=this.w,i=0;i<t.length;i++)if(0===t[i].length)for(var a=0;a<t[e.globals.maxValsInArrayIndex].length;a++)t[i].push(0);return t}},{key:"hasAllSeriesEqualX",value:function(){for(var t=!0,e=this.w,i=this.filteredSeriesX(),a=0;a<i.length-1;a++)if(i[a][0]!==i[a+1][0]){t=!1;break}return e.globals.allSeriesHasEqualX=t,t}},{key:"filteredSeriesX",value:function(){return this.w.globals.seriesX.map(function(e){return e.length>0?e:[]})}}]),A}(),ue=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w,this.twoDSeries=[],this.threeDSeries=[],this.twoDSeriesX=[],this.seriesGoals=[],this.coreUtils=new Lt(this.ctx)}return W(A,[{key:"isMultiFormat",value:function(){return this.isFormatXY()||this.isFormat2DArray()}},{key:"isFormatXY",value:function(){var t=this.w.config.series.slice(),e=new Nt(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&null!==t[this.activeSeriesIndex].data[0]&&void 0!==t[this.activeSeriesIndex].data[0].x&&null!==t[this.activeSeriesIndex].data[0])return!0}},{key:"isFormat2DArray",value:function(){var t=this.w.config.series.slice(),e=new Nt(this.ctx);if(this.activeSeriesIndex=e.getActiveConfigSeriesIndex(),void 0!==t[this.activeSeriesIndex].data&&t[this.activeSeriesIndex].data.length>0&&null!=t[this.activeSeriesIndex].data[0]&&t[this.activeSeriesIndex].data[0].constructor===Array)return!0}},{key:"handleFormat2DArray",value:function(t,e){for(var i=this.w.config,a=this.w.globals,n="boxPlot"===i.chart.type||"boxPlot"===i.series[e].type,o=0;o<t[e].data.length;o++)if(void 0!==t[e].data[o][1]&&(Array.isArray(t[e].data[o][1])&&4===t[e].data[o][1].length&&!n?this.twoDSeries.push(R.parseNumber(t[e].data[o][1][3])):this.twoDSeries.push(R.parseNumber(t[e].data[o].length>=5?t[e].data[o][4]:t[e].data[o][1])),a.dataFormatXNumeric=!0),"datetime"===i.xaxis.type){var r=new Date(t[e].data[o][0]);r=new Date(r).getTime(),this.twoDSeriesX.push(r)}else this.twoDSeriesX.push(t[e].data[o][0]);for(var h=0;h<t[e].data.length;h++)void 0!==t[e].data[h][2]&&(this.threeDSeries.push(t[e].data[h][2]),a.isDataXYZ=!0)}},{key:"handleFormatXY",value:function(t,e){var i=this.w.config,a=this.w.globals,n=new bt(this.ctx),o=e;a.collapsedSeriesIndices.indexOf(e)>-1&&(o=this.activeSeriesIndex);for(var r=0;r<t[e].data.length;r++)void 0!==t[e].data[r].y&&(Array.isArray(t[e].data[r].y)?this.twoDSeries.push(R.parseNumber(t[e].data[r].y[t[e].data[r].y.length-1])):this.twoDSeries.push(R.parseNumber(t[e].data[r].y))),void 0!==t[e].data[r].goals&&Array.isArray(t[e].data[r].goals)?(void 0===this.seriesGoals[e]&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(t[e].data[r].goals)):(void 0===this.seriesGoals[e]&&(this.seriesGoals[e]=[]),this.seriesGoals[e].push(null));for(var h=0;h<t[o].data.length;h++){var d="string"==typeof t[o].data[h].x,p=Array.isArray(t[o].data[h].x),g=!p&&!!n.isValidDate(t[o].data[h].x);d||g?d||i.xaxis.convertedCatToNumeric?"datetime"!==i.xaxis.type||a.isBarHorizontal&&a.isRangeData?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[o].data[h].x),isNaN(t[o].data[h].x)||"category"===this.w.config.xaxis.type||"string"==typeof t[o].data[h].x||(a.isXNumeric=!0)):this.twoDSeriesX.push(n.parseDate(t[o].data[h].x)):"datetime"===i.xaxis.type?this.twoDSeriesX.push(n.parseDate(t[o].data[h].x.toString())):(a.dataFormatXNumeric=!0,a.isXNumeric=!0,this.twoDSeriesX.push(parseFloat(t[o].data[h].x))):p?(this.fallbackToCategory=!0,this.twoDSeriesX.push(t[o].data[h].x)):(a.isXNumeric=!0,a.dataFormatXNumeric=!0,this.twoDSeriesX.push(t[o].data[h].x))}if(t[e].data[0]&&void 0!==t[e].data[0].z){for(var x=0;x<t[e].data.length;x++)this.threeDSeries.push(t[e].data[x].z);a.isDataXYZ=!0}}},{key:"handleRangeData",value:function(t,e){var i=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleRangeDataFormat("array",t,e):this.isFormatXY()&&(a=this.handleRangeDataFormat("xy",t,e)),i.seriesRangeStart.push(void 0===a.start?[]:a.start),i.seriesRangeEnd.push(void 0===a.end?[]:a.end),i.seriesRange.push(a.rangeUniques),i.seriesRange.forEach(function(n,o){n&&n.forEach(function(r,h){r.y.forEach(function(d,p){for(var g=0;g<r.y.length;g++)p!==g&&d.y1<=r.y[g].y2&&r.y[g].y1<=d.y2&&(r.overlaps.indexOf(d.rangeName)<0&&r.overlaps.push(d.rangeName),r.overlaps.indexOf(r.y[g].rangeName)<0&&r.overlaps.push(r.y[g].rangeName))})})}),a}},{key:"handleCandleStickBoxData",value:function(t,e){var i=this.w.globals,a={};return this.isFormat2DArray()?a=this.handleCandleStickBoxDataFormat("array",t,e):this.isFormatXY()&&(a=this.handleCandleStickBoxDataFormat("xy",t,e)),i.seriesCandleO[e]=a.o,i.seriesCandleH[e]=a.h,i.seriesCandleM[e]=a.m,i.seriesCandleL[e]=a.l,i.seriesCandleC[e]=a.c,a}},{key:"handleRangeDataFormat",value:function(t,e,i){var a=[],n=[],o=e[i].data.filter(function(p,g,f){return g===f.findIndex(function(x){return x.x===p.x})}).map(function(p,g){return{x:p.x,overlaps:[],y:[]}});if("array"===t)for(var r=0;r<e[i].data.length;r++)Array.isArray(e[i].data[r])?(a.push(e[i].data[r][1][0]),n.push(e[i].data[r][1][1])):(a.push(e[i].data[r]),n.push(e[i].data[r]));else if("xy"===t)for(var h=function(p){var g=Array.isArray(e[i].data[p].y),f=R.randomId(),x=e[i].data[p].x,y={y1:g?e[i].data[p].y[0]:e[i].data[p].y,y2:g?e[i].data[p].y[1]:e[i].data[p].y,rangeName:f};e[i].data[p].rangeName=f;var b=o.findIndex(function(k){return k.x===x});o[b].y.push(y),a.push(y.y1),n.push(y.y2)},d=0;d<e[i].data.length;d++)h(d);return{start:a,end:n,rangeUniques:o}}},{key:"handleCandleStickBoxDataFormat",value:function(t,e,i){var a=this.w,n="boxPlot"===a.config.chart.type||"boxPlot"===a.config.series[i].type,o=[],r=[],h=[],d=[],p=[];if("array"===t)if(n&&6===e[i].data[0].length||!n&&5===e[i].data[0].length)for(var g=0;g<e[i].data.length;g++)o.push(e[i].data[g][1]),r.push(e[i].data[g][2]),n?(h.push(e[i].data[g][3]),d.push(e[i].data[g][4]),p.push(e[i].data[g][5])):(d.push(e[i].data[g][3]),p.push(e[i].data[g][4]));else for(var f=0;f<e[i].data.length;f++)Array.isArray(e[i].data[f][1])&&(o.push(e[i].data[f][1][0]),r.push(e[i].data[f][1][1]),n?(h.push(e[i].data[f][1][2]),d.push(e[i].data[f][1][3]),p.push(e[i].data[f][1][4])):(d.push(e[i].data[f][1][2]),p.push(e[i].data[f][1][3])));else if("xy"===t)for(var x=0;x<e[i].data.length;x++)Array.isArray(e[i].data[x].y)&&(o.push(e[i].data[x].y[0]),r.push(e[i].data[x].y[1]),n?(h.push(e[i].data[x].y[2]),d.push(e[i].data[x].y[3]),p.push(e[i].data[x].y[4])):(d.push(e[i].data[x].y[2]),p.push(e[i].data[x].y[3])));return{o,h:r,m:h,l:d,c:p}}},{key:"parseDataAxisCharts",value:function(t){var e=this,a=this.w.config,n=this.w.globals,o=new bt(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.ctx),r=a.labels.length>0?a.labels.slice():a.xaxis.categories.slice();n.isRangeBar="rangeBar"===a.chart.type&&n.isBarHorizontal,n.hasXaxisGroups="category"===a.xaxis.type&&a.xaxis.group.groups.length>0,n.hasXaxisGroups&&(n.groups=a.xaxis.group.groups),t.forEach(function(x,y){n.seriesNames.push(void 0!==x.name?x.name:"series-"+parseInt(y+1,10))}),this.coreUtils.setSeriesYAxisMappings();var h=[],d=Rt(new Set(a.series.map(function(x){return x.group})));a.series.forEach(function(x,y){var b=d.indexOf(x.group);h[b]||(h[b]=[]),h[b].push(n.seriesNames[y])}),n.seriesGroups=h;for(var p=function(){for(var x=0;x<r.length;x++)if("string"==typeof r[x]){if(!o.isValidDate(r[x]))throw new Error("You have provided invalid Date format. Please provide a valid JavaScript Date");e.twoDSeriesX.push(o.parseDate(r[x]))}else e.twoDSeriesX.push(r[x])},g=0;g<t.length;g++){if(this.twoDSeries=[],this.twoDSeriesX=[],this.threeDSeries=[],void 0===t[g].data)return void console.error("It is a possibility that you may have not included 'data' property in series.");if("rangeBar"!==a.chart.type&&"rangeArea"!==a.chart.type&&"rangeBar"!==t[g].type&&"rangeArea"!==t[g].type||(n.isRangeData=!0,"rangeBar"!==a.chart.type&&"rangeArea"!==a.chart.type||this.handleRangeData(t,g)),this.isMultiFormat())this.isFormat2DArray()?this.handleFormat2DArray(t,g):this.isFormatXY()&&this.handleFormatXY(t,g),"candlestick"!==a.chart.type&&"candlestick"!==t[g].type&&"boxPlot"!==a.chart.type&&"boxPlot"!==t[g].type||this.handleCandleStickBoxData(t,g),n.series.push(this.twoDSeries),n.labels.push(this.twoDSeriesX),n.seriesX.push(this.twoDSeriesX),n.seriesGoals=this.seriesGoals,g!==this.activeSeriesIndex||this.fallbackToCategory||(n.isXNumeric=!0);else{"datetime"===a.xaxis.type?(n.isXNumeric=!0,p(),n.seriesX.push(this.twoDSeriesX)):"numeric"===a.xaxis.type&&(n.isXNumeric=!0,r.length>0&&(this.twoDSeriesX=r,n.seriesX.push(this.twoDSeriesX))),n.labels.push(this.twoDSeriesX);var f=t[g].data.map(function(x){return R.parseNumber(x)});n.series.push(f)}n.seriesZ.push(this.threeDSeries),n.seriesColors.push(void 0!==t[g].color?t[g].color:void 0)}return this.w}},{key:"parseDataNonAxisCharts",value:function(t){var e=this.w.globals,i=this.w.config;e.series=t.slice(),e.seriesNames=i.labels.slice();for(var a=0;a<e.series.length;a++)void 0===e.seriesNames[a]&&e.seriesNames.push("series-"+(a+1));return this.w}},{key:"handleExternalLabelsData",value:function(t){var e=this.w.config,i=this.w.globals;e.xaxis.categories.length>0?i.labels=e.xaxis.categories:e.labels.length>0?i.labels=e.labels.slice():this.fallbackToCategory?(i.labels=i.labels[0],i.seriesRange.length&&(i.seriesRange.map(function(a){a.forEach(function(n){i.labels.indexOf(n.x)<0&&n.x&&i.labels.push(n.x)})}),i.labels=Array.from(new Set(i.labels.map(JSON.stringify)),JSON.parse)),e.xaxis.convertedCatToNumeric&&(new Bt(e).convertCatToNumericXaxis(e,this.ctx,i.seriesX[0]),this._generateExternalLabels(t))):this._generateExternalLabels(t)}},{key:"_generateExternalLabels",value:function(t){var e=this.w.globals,i=this.w.config,a=[];if(e.axisCharts){if(e.series.length>0)if(this.isFormatXY())for(var n=i.series.map(function(g,f){return g.data.filter(function(x,y,b){return b.findIndex(function(k){return k.x===x.x})===y})}),o=n.reduce(function(g,f,x,y){return y[g].length>f.length?g:x},0),r=0;r<n[o].length;r++)a.push(r+1);else for(var h=0;h<e.series[e.maxValsInArrayIndex].length;h++)a.push(h+1);e.seriesX=[];for(var d=0;d<t.length;d++)e.seriesX.push(a);this.w.globals.isBarHorizontal||(e.isXNumeric=!0)}if(0===a.length){a=e.axisCharts?[]:e.series.map(function(g,f){return f+1});for(var p=0;p<t.length;p++)e.seriesX.push(a)}e.labels=a,i.xaxis.convertedCatToNumeric&&(e.categoryLabels=a.map(function(g){return i.xaxis.labels.formatter(g)})),e.noLabelsProvided=!0}},{key:"parseData",value:function(t){var e=this.w,i=e.config,a=e.globals;if(this.excludeCollapsedSeriesInYAxis(),this.fallbackToCategory=!1,this.ctx.core.resetGlobals(),this.ctx.core.isMultipleY(),a.axisCharts?(this.parseDataAxisCharts(t),this.coreUtils.getLargestSeries()):this.parseDataNonAxisCharts(t),i.chart.stacked){var n=new Nt(this.ctx);a.series=n.setNullSeriesToZeroValues(a.series)}this.coreUtils.getSeriesTotals(),a.axisCharts&&(a.stackedSeriesTotals=this.coreUtils.getStackedSeriesTotals(),a.stackedSeriesTotalsByGroups=this.coreUtils.getStackedSeriesTotalsByGroups()),this.coreUtils.getPercentSeries(),a.dataFormatXNumeric||a.isXNumeric&&("numeric"!==i.xaxis.type||0!==i.labels.length||0!==i.xaxis.categories.length)||this.handleExternalLabelsData(t);for(var o=this.coreUtils.getCategoryLabels(a.labels),r=0;r<o.length;r++)if(Array.isArray(o[r])){a.isMultiLineX=!0;break}}},{key:"excludeCollapsedSeriesInYAxis",value:function(){var t=this.w,e=[];t.globals.seriesYAxisMap.forEach(function(i,a){var n=0;i.forEach(function(o){-1!==t.globals.collapsedSeriesIndices.indexOf(o)&&n++}),n>0&&n==i.length&&e.push(a)}),t.globals.ignoreYAxisIndexes=e.map(function(i){return i})}}]),A}(),He=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w}return W(A,[{key:"scaleSvgNode",value:function(t,e){var i=parseFloat(t.getAttributeNS(null,"width")),a=parseFloat(t.getAttributeNS(null,"height"));t.setAttributeNS(null,"width",i*e),t.setAttributeNS(null,"height",a*e),t.setAttributeNS(null,"viewBox","0 0 "+i+" "+a)}},{key:"getSvgString",value:function(){var t=this;return new Promise(function(e){var i=t.w,n=i.config.chart.toolbar.export.scale||i.config.chart.toolbar.export.width/i.globals.svgWidth;n||(n=1);var o=t.w.globals.dom.Paper.svg(),r=t.w.globals.dom.Paper.node.cloneNode(!0);1!==n&&t.scaleSvgNode(r,n),t.convertImagesToBase64(r).then(function(){o=(new XMLSerializer).serializeToString(r),e(o.replace(/&nbsp;/g,"&#160;"))})})}},{key:"convertImagesToBase64",value:function(t){var e=this,i=t.getElementsByTagName("image"),a=Array.from(i).map(function(n){var o=n.getAttributeNS("http://www.w3.org/1999/xlink","href");return o&&!o.startsWith("data:")?e.getBase64FromUrl(o).then(function(r){n.setAttributeNS("http://www.w3.org/1999/xlink","href",r)}).catch(function(r){console.error("Error converting image to base64:",r)}):Promise.resolve()});return Promise.all(a)}},{key:"getBase64FromUrl",value:function(t){return new Promise(function(e,i){var a=new Image;a.crossOrigin="Anonymous",a.onload=function(){var n=document.createElement("canvas");n.width=a.width,n.height=a.height,n.getContext("2d").drawImage(a,0,0),e(n.toDataURL())},a.onerror=i,a.src=t})}},{key:"cleanup",value:function(){var t=this.w,e=t.globals.dom.baseEl.getElementsByClassName("apexcharts-xcrosshairs"),i=t.globals.dom.baseEl.getElementsByClassName("apexcharts-ycrosshairs"),a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-zoom-rect, .apexcharts-selection-rect");Array.prototype.forEach.call(a,function(n){n.setAttribute("width",0)}),e&&e[0]&&(e[0].setAttribute("x",-500),e[0].setAttribute("x1",-500),e[0].setAttribute("x2",-500)),i&&i[0]&&(i[0].setAttribute("y",-100),i[0].setAttribute("y1",-100),i[0].setAttribute("y2",-100))}},{key:"svgUrl",value:function(){var t=this;return new Promise(function(e){t.cleanup(),t.getSvgString().then(function(i){var a=new Blob([i],{type:"image/svg+xml;charset=utf-8"});e(URL.createObjectURL(a))})})}},{key:"dataURI",value:function(t){var e=this;return new Promise(function(i){var a=e.w,n=t?t.scale||t.width/a.globals.svgWidth:1;e.cleanup();var o=document.createElement("canvas");o.width=a.globals.svgWidth*n,o.height=parseInt(a.globals.dom.elWrap.style.height,10)*n;var r="transparent"!==a.config.chart.background&&a.config.chart.background?a.config.chart.background:"#fff",h=o.getContext("2d");h.fillStyle=r,h.fillRect(0,0,o.width*n,o.height*n),e.getSvgString().then(function(d){var p="data:image/svg+xml,"+encodeURIComponent(d),g=new Image;g.crossOrigin="anonymous",g.onload=function(){if(h.drawImage(g,0,0),o.msToBlob){var f=o.msToBlob();i({blob:f})}else{var x=o.toDataURL("image/png");i({imgURI:x})}},g.src=p})})}},{key:"exportToSVG",value:function(){var t=this;this.svgUrl().then(function(e){t.triggerDownload(e,t.w.config.chart.toolbar.export.svg.filename,".svg")})}},{key:"exportToPng",value:function(){var t=this,e=this.w.config.chart.toolbar.export.scale,i=this.w.config.chart.toolbar.export.width;this.dataURI(e?{scale:e}:i?{width:i}:void 0).then(function(n){var o=n.imgURI,r=n.blob;r?navigator.msSaveOrOpenBlob(r,t.w.globals.chartID+".png"):t.triggerDownload(o,t.w.config.chart.toolbar.export.png.filename,".png")})}},{key:"exportToCSV",value:function(t){var e=this,i=t.series,a=t.fileName,n=t.columnDelimiter,o=void 0===n?",":n,r=t.lineDelimiter,h=void 0===r?"\n":r,d=this.w;i||(i=d.config.series);var p,g,f=[],x=[],y="",b=d.globals.series.map(function(P,M){return-1===d.globals.collapsedSeriesIndices.indexOf(M)?P:[]}),k=function(P){return"function"==typeof d.config.chart.toolbar.export.csv.categoryFormatter?d.config.chart.toolbar.export.csv.categoryFormatter(P):"datetime"===d.config.xaxis.type&&String(P).length>=10?new Date(P).toDateString():R.isNumber(P)?P:P.split(o).join("")},S=function(P){return"function"==typeof d.config.chart.toolbar.export.csv.valueFormatter?d.config.chart.toolbar.export.csv.valueFormatter(P):P},C=Math.max.apply(Math,Rt(i.map(function(P){return P.data?P.data.length:0}))),c=new ue(this.ctx),m=new Ft(this.ctx),w=function(P){var M="";if(d.globals.axisCharts){if("category"===d.config.xaxis.type||d.config.xaxis.convertedCatToNumeric)if(d.globals.isBarHorizontal){var I=d.globals.yLabelFormatters[0],E=new Nt(e.ctx).getActiveConfigSeriesIndex();M=I(d.globals.labels[P],{seriesIndex:E,dataPointIndex:P,w:d})}else M=m.getLabel(d.globals.labels,d.globals.timescaleLabels,0,P).text;"datetime"===d.config.xaxis.type&&(d.config.xaxis.categories.length?M=d.config.xaxis.categories[P]:d.config.labels.length&&(M=d.config.labels[P]))}else M=d.config.labels[P];return null===M?"nullvalue":(Array.isArray(M)&&(M=M.join(" ")),R.isNumber(M)?M:M.split(o).join(""))};f.push(d.config.chart.toolbar.export.csv.headerCategory),"boxPlot"===d.config.chart.type?(f.push("minimum"),f.push("q1"),f.push("median"),f.push("q3"),f.push("maximum")):"candlestick"===d.config.chart.type?(f.push("open"),f.push("high"),f.push("low"),f.push("close")):"rangeBar"===d.config.chart.type?(f.push("minimum"),f.push("maximum")):i.map(function(P,M){var I=(P.name?P.name:"series-".concat(M))+"";d.globals.axisCharts&&f.push(I.split(o).join("")?I.split(o).join(""):"series-".concat(M))}),d.globals.axisCharts||(f.push(d.config.chart.toolbar.export.csv.headerValue),x.push(f.join(o))),d.globals.allSeriesHasEqualX||!d.globals.axisCharts||d.config.xaxis.categories.length||d.config.labels.length?i.map(function(P,M){d.globals.axisCharts?function(P,M){if(f.length&&0===M&&x.push(f.join(o)),P.data){P.data=P.data.length&&P.data||Rt(Array(C)).map(function(){return""});for(var I=0;I<P.data.length;I++){f=[];var E=w(I);if("nullvalue"!==E){if(E||(c.isFormatXY()?E=i[M].data[I].x:c.isFormat2DArray()&&(E=i[M].data[I]?i[M].data[I][0]:"")),0===M){f.push(k(E));for(var X=0;X<d.globals.series.length;X++){var F,D=c.isFormatXY()?null===(F=i[X].data[I])||void 0===F?void 0:F.y:b[X][I];f.push(S(D))}}("candlestick"===d.config.chart.type||P.type&&"candlestick"===P.type)&&(f.pop(),f.push(d.globals.seriesCandleO[M][I]),f.push(d.globals.seriesCandleH[M][I]),f.push(d.globals.seriesCandleL[M][I]),f.push(d.globals.seriesCandleC[M][I])),("boxPlot"===d.config.chart.type||P.type&&"boxPlot"===P.type)&&(f.pop(),f.push(d.globals.seriesCandleO[M][I]),f.push(d.globals.seriesCandleH[M][I]),f.push(d.globals.seriesCandleM[M][I]),f.push(d.globals.seriesCandleL[M][I]),f.push(d.globals.seriesCandleC[M][I])),"rangeBar"===d.config.chart.type&&(f.pop(),f.push(d.globals.seriesRangeStart[M][I]),f.push(d.globals.seriesRangeEnd[M][I])),f.length&&x.push(f.join(o))}}}}(P,M):((f=[]).push(k(d.globals.labels[M])),f.push(S(b[M])),x.push(f.join(o)))}):(p=new Set,g={},i.forEach(function(P,M){P?.data.forEach(function(I){var E,X;if(c.isFormatXY())E=I.x,X=I.y;else{if(!c.isFormat2DArray())return;E=I[0],X=I[1]}g[E]||(g[E]=Array(i.length).fill("")),g[E][M]=S(X),p.add(E)})}),f.length&&x.push(f.join(o)),Array.from(p).sort().forEach(function(P){x.push([k(P),g[P].join(o)])})),y+=x.join(h),this.triggerDownload("data:text/csv; charset=utf-8,"+encodeURIComponent("\ufeff"+y),a||d.config.chart.toolbar.export.csv.filename,".csv")}},{key:"triggerDownload",value:function(t,e,i){var a=document.createElement("a");a.href=t,a.download=(e||this.w.globals.chartID)+i,document.body.appendChild(a),a.click(),document.body.removeChild(a)}}]),A}(),_e=function(){function A(t,e){q(this,A),this.ctx=t,this.elgrid=e,this.w=t.w;var i=this.w;this.axesUtils=new Ft(t),this.xaxisLabels=i.globals.labels.slice(),i.globals.timescaleLabels.length>0&&!i.globals.isBarHorizontal&&(this.xaxisLabels=i.globals.timescaleLabels.slice()),i.config.xaxis.overwriteCategories&&(this.xaxisLabels=i.config.xaxis.overwriteCategories),this.drawnLabels=[],this.drawnLabelsRects=[],this.offY="top"===i.config.xaxis.position?0:i.globals.gridHeight,this.offY=this.offY+i.config.xaxis.axisBorder.offsetY,this.isCategoryBarHorizontal="bar"===i.config.chart.type&&i.config.plotOptions.bar.horizontal,this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.xaxisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.xaxisBorderWidth=i.config.xaxis.axisBorder.width,this.isCategoryBarHorizontal&&(this.xaxisBorderWidth=i.config.yaxis[0].axisBorder.width.toString()),this.xaxisBorderWidth=this.xaxisBorderWidth.indexOf("%")>-1?i.globals.gridWidth*parseInt(this.xaxisBorderWidth,10)/100:parseInt(this.xaxisBorderWidth,10),this.xaxisBorderHeight=i.config.xaxis.axisBorder.height,this.yaxis=i.config.yaxis[0]}return W(A,[{key:"drawXaxis",value:function(){var t=this.w,e=new H(this.ctx),i=e.group({class:"apexcharts-xaxis",transform:"translate(".concat(t.config.xaxis.offsetX,", ").concat(t.config.xaxis.offsetY,")")}),a=e.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(t.globals.translateXAxisX,", ").concat(t.globals.translateXAxisY,")")});i.add(a);for(var n=[],o=0;o<this.xaxisLabels.length;o++)n.push(this.xaxisLabels[o]);if(this.drawXAxisLabelAndGroup(!0,e,a,n,t.globals.isXNumeric,function(y,b){return b}),t.globals.hasXaxisGroups){var r=t.globals.groups;n=[];for(var h=0;h<r.length;h++)n.push(r[h].title);var d={};t.config.xaxis.group.style&&(d.xaxisFontSize=t.config.xaxis.group.style.fontSize,d.xaxisFontFamily=t.config.xaxis.group.style.fontFamily,d.xaxisForeColors=t.config.xaxis.group.style.colors,d.fontWeight=t.config.xaxis.group.style.fontWeight,d.cssClass=t.config.xaxis.group.style.cssClass),this.drawXAxisLabelAndGroup(!1,e,a,n,!1,function(y,b){return r[y].cols*b},d)}if(void 0!==t.config.xaxis.title.text){var p=e.group({class:"apexcharts-xaxis-title"}),g=e.drawText({x:t.globals.gridWidth/2+t.config.xaxis.title.offsetX,y:this.offY+parseFloat(this.xaxisFontSize)+("bottom"===t.config.xaxis.position?t.globals.xAxisLabelsHeight:-t.globals.xAxisLabelsHeight-10)+t.config.xaxis.title.offsetY,text:t.config.xaxis.title.text,textAnchor:"middle",fontSize:t.config.xaxis.title.style.fontSize,fontFamily:t.config.xaxis.title.style.fontFamily,fontWeight:t.config.xaxis.title.style.fontWeight,foreColor:t.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text "+t.config.xaxis.title.style.cssClass});p.add(g),i.add(p)}if(t.config.xaxis.axisBorder.show){var f=t.globals.barPadForNumericAxis,x=e.drawLine(t.globals.padHorizontal+t.config.xaxis.axisBorder.offsetX-f,this.offY,this.xaxisBorderWidth+f,this.offY,t.config.xaxis.axisBorder.color,0,this.xaxisBorderHeight);this.elgrid&&this.elgrid.elGridBorders&&t.config.grid.show?this.elgrid.elGridBorders.add(x):i.add(x)}return i}},{key:"drawXAxisLabelAndGroup",value:function(t,e,i,a,n,o){var r,h=this,d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},p=[],g=[],f=this.w,x=d.xaxisFontSize||this.xaxisFontSize,y=d.xaxisFontFamily||this.xaxisFontFamily,b=d.xaxisForeColors||this.xaxisForeColors,k=d.fontWeight||f.config.xaxis.labels.style.fontWeight,S=d.cssClass||f.config.xaxis.labels.style.cssClass,C=f.globals.padHorizontal,c=a.length,m="category"===f.config.xaxis.type?f.globals.dataPoints:c;0===m&&c>m&&(m=c),n?(r=f.globals.gridWidth/Math.min(m>1?m-1:m,c-1),C=C+o(0,r)/2+f.config.xaxis.labels.offsetX):C=C+o(0,r=f.globals.gridWidth/m)+f.config.xaxis.labels.offsetX;for(var T=function(M){var I=C-o(M,r)/2+f.config.xaxis.labels.offsetX;0===M&&1===c&&r/2===C&&1===m&&(I=f.globals.gridWidth/2);var E=h.axesUtils.getLabel(a,f.globals.timescaleLabels,I,M,p,x,t),X=28;if(f.globals.rotateXLabels&&t&&(X=22),f.config.xaxis.title.text&&"top"===f.config.xaxis.position&&(X+=parseFloat(f.config.xaxis.title.style.fontSize)+2),t||(X=X+parseFloat(x)+(f.globals.xAxisLabelsHeight-f.globals.xAxisGroupLabelsHeight)+(f.globals.rotateXLabels?10:0)),E=void 0!==f.config.xaxis.tickAmount&&"dataPoints"!==f.config.xaxis.tickAmount&&"datetime"!==f.config.xaxis.type?h.axesUtils.checkLabelBasedOnTickamount(M,E,c):h.axesUtils.checkForOverflowingLabels(M,E,c,p,g),f.config.xaxis.labels.show){var F=e.drawText({x:E.x,y:h.offY+f.config.xaxis.labels.offsetY+X-("top"===f.config.xaxis.position?f.globals.xAxisHeight+f.config.xaxis.axisTicks.height-2:0),text:E.text,textAnchor:"middle",fontWeight:E.isBold?600:k,fontSize:x,fontFamily:y,foreColor:Array.isArray(b)?t&&f.config.xaxis.convertedCatToNumeric?b[f.globals.minX+M-1]:b[M]:b,isPlainText:!1,cssClass:(t?"apexcharts-xaxis-label ":"apexcharts-xaxis-group-label ")+S});if(i.add(F),F.on("click",function(Y){if("function"==typeof f.config.chart.events.xAxisLabelClick){var G=Object.assign({},f,{labelIndex:M});f.config.chart.events.xAxisLabelClick(Y,h.ctx,G)}}),t){var D=document.createElementNS(f.globals.SVGNS,"title");D.textContent=Array.isArray(E.text)?E.text.join(" "):E.text,F.node.appendChild(D),""!==E.text&&(p.push(E.text),g.push(E))}}M<c-1&&(C+=o(M+1,r))},P=0;P<=c-1;P++)T(P)}},{key:"drawXaxisInversed",value:function(t){var e,i,a=this,n=this.w,o=new H(this.ctx),r=n.config.yaxis[0].opposite?n.globals.translateYAxisX[t]:0,h=o.group({class:"apexcharts-yaxis apexcharts-xaxis-inversed",rel:t}),d=o.group({class:"apexcharts-yaxis-texts-g apexcharts-xaxis-inversed-texts-g",transform:"translate("+r+", 0)"});h.add(d);var p=[];if(n.config.yaxis[t].show)for(var g=0;g<this.xaxisLabels.length;g++)p.push(this.xaxisLabels[g]);i=-(e=n.globals.gridHeight/p.length)/2.2;var f=n.globals.yLabelFormatters[0],x=n.config.yaxis[0].labels;if(x.show)for(var y=function(w){var T=void 0===p[w]?"":p[w];T=f(T,{seriesIndex:t,dataPointIndex:w,w:n});var P=a.axesUtils.getYAxisForeColor(x.style.colors,t),M=0;Array.isArray(T)&&(M=T.length/2*parseInt(x.style.fontSize,10));var I=x.offsetX-15,E="end";a.yaxis.opposite&&(E="start"),"left"===n.config.yaxis[0].labels.align?(I=x.offsetX,E="start"):"center"===n.config.yaxis[0].labels.align?(I=x.offsetX,E="middle"):"right"===n.config.yaxis[0].labels.align&&(E="end");var X=o.drawText({x:I,y:i+e+x.offsetY-M,text:T,textAnchor:E,foreColor:Array.isArray(P)?P[w]:P,fontSize:x.style.fontSize,fontFamily:x.style.fontFamily,fontWeight:x.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-yaxis-label "+x.style.cssClass,maxWidth:x.maxWidth});d.add(X),X.on("click",function(Y){if("function"==typeof n.config.chart.events.xAxisLabelClick){var G=Object.assign({},n,{labelIndex:w});n.config.chart.events.xAxisLabelClick(Y,a.ctx,G)}});var F=document.createElementNS(n.globals.SVGNS,"title");if(F.textContent=Array.isArray(T)?T.join(" "):T,X.node.appendChild(F),0!==n.config.yaxis[t].labels.rotate){var D=o.rotateAroundCenter(X.node);X.node.setAttribute("transform","rotate(".concat(n.config.yaxis[t].labels.rotate," 0 ").concat(D.y,")"))}i+=e},b=0;b<=p.length-1;b++)y(b);if(void 0!==n.config.yaxis[0].title.text){var k=o.group({class:"apexcharts-yaxis-title apexcharts-xaxis-title-inversed",transform:"translate("+r+", 0)"}),S=o.drawText({x:n.config.yaxis[0].title.offsetX,y:n.globals.gridHeight/2+n.config.yaxis[0].title.offsetY,text:n.config.yaxis[0].title.text,textAnchor:"middle",foreColor:n.config.yaxis[0].title.style.color,fontSize:n.config.yaxis[0].title.style.fontSize,fontWeight:n.config.yaxis[0].title.style.fontWeight,fontFamily:n.config.yaxis[0].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text "+n.config.yaxis[0].title.style.cssClass});k.add(S),h.add(k)}var C=0;this.isCategoryBarHorizontal&&n.config.yaxis[0].opposite&&(C=n.globals.gridWidth);var c=n.config.xaxis.axisBorder;if(c.show){var m=o.drawLine(n.globals.padHorizontal+c.offsetX+C,1+c.offsetY,n.globals.padHorizontal+c.offsetX+C,n.globals.gridHeight+c.offsetY,c.color,0);this.elgrid&&this.elgrid.elGridBorders&&n.config.grid.show?this.elgrid.elGridBorders.add(m):h.add(m)}return n.config.yaxis[0].axisTicks.show&&this.axesUtils.drawYAxisTicks(C,p.length,n.config.yaxis[0].axisBorder,n.config.yaxis[0].axisTicks,0,e,h),h}},{key:"drawXaxisTicks",value:function(t,e,i){var a=this.w,n=t;if(!(t<0||t-2>a.globals.gridWidth)){var o=this.offY+a.config.xaxis.axisTicks.offsetY;if(e=e+o+a.config.xaxis.axisTicks.height,"top"===a.config.xaxis.position&&(e=o-a.config.xaxis.axisTicks.height),a.config.xaxis.axisTicks.show){var r=new H(this.ctx).drawLine(t+a.config.xaxis.axisTicks.offsetX,o+a.config.xaxis.offsetY,n+a.config.xaxis.axisTicks.offsetX,e+a.config.xaxis.offsetY,a.config.xaxis.axisTicks.color);i.add(r),r.node.classList.add("apexcharts-xaxis-tick")}}}},{key:"getXAxisTicksPositions",value:function(){var t=this.w,e=[],i=this.xaxisLabels.length,a=t.globals.padHorizontal;if(t.globals.timescaleLabels.length>0)for(var n=0;n<i;n++)e.push(a=this.xaxisLabels[n].position);else for(var o=i,r=0;r<o;r++){var h=o;t.globals.isXNumeric&&"bar"!==t.config.chart.type&&(h-=1),e.push(a+=t.globals.gridWidth/h)}return e}},{key:"xAxisLabelCorrections",value:function(){var t=this.w,e=new H(this.ctx),i=t.globals.dom.baseEl.querySelector(".apexcharts-xaxis-texts-g"),a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-texts-g text:not(.apexcharts-xaxis-group-label)"),n=t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis-inversed text"),o=t.globals.dom.baseEl.querySelectorAll(".apexcharts-xaxis-inversed-texts-g text tspan");if(t.globals.rotateXLabels||t.config.xaxis.labels.rotateAlways)for(var r=0;r<a.length;r++){var h=e.rotateAroundCenter(a[r]);h.y=h.y-1,h.x=h.x+1,a[r].setAttribute("transform","rotate(".concat(t.config.xaxis.labels.rotate," ").concat(h.x," ").concat(h.y,")")),a[r].setAttribute("text-anchor","end"),i.setAttribute("transform","translate(0, ".concat(-10,")")),t.config.xaxis.labels.trim&&Array.prototype.forEach.call(a[r].childNodes,function(x){e.placeTextWithEllipsis(x,x.textContent,t.globals.xAxisLabelsHeight-("bottom"===t.config.legend.position?20:10))})}else!function(){for(var x=t.globals.gridWidth/(t.globals.labels.length+1),y=0;y<a.length;y++)t.config.xaxis.labels.trim&&"datetime"!==t.config.xaxis.type&&Array.prototype.forEach.call(a[y].childNodes,function(k){e.placeTextWithEllipsis(k,k.textContent,x)})}();if(n.length>0){var p=n[n.length-1].getBBox(),g=n[0].getBBox();p.x<-20&&n[n.length-1].parentNode.removeChild(n[n.length-1]),g.x+g.width>t.globals.gridWidth&&!t.globals.isBarHorizontal&&n[0].parentNode.removeChild(n[0]);for(var f=0;f<o.length;f++)e.placeTextWithEllipsis(o[f],o[f].textContent,t.config.yaxis[0].labels.maxWidth-(t.config.yaxis[0].title.text?2*parseFloat(t.config.yaxis[0].title.style.fontSize):0)-15)}}}]),A}(),si=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w;var e=this.w;this.xaxisLabels=e.globals.labels.slice(),this.axesUtils=new Ft(t),this.isRangeBar=e.globals.seriesRange.length&&e.globals.isBarHorizontal,e.globals.timescaleLabels.length>0&&(this.xaxisLabels=e.globals.timescaleLabels.slice())}return W(A,[{key:"drawGridArea",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.w,i=new H(this.ctx);t||(t=i.group({class:"apexcharts-grid"}));var a=i.drawLine(e.globals.padHorizontal,1,e.globals.padHorizontal,e.globals.gridHeight,"transparent"),n=i.drawLine(e.globals.padHorizontal,e.globals.gridHeight,e.globals.gridWidth,e.globals.gridHeight,"transparent");return t.add(n),t.add(a),t}},{key:"drawGrid",value:function(){if(this.w.globals.axisCharts){var t=this.renderGrid();return this.drawGridArea(t.el),t}return null}},{key:"createGridMask",value:function(){var t=this.w,e=t.globals,i=new H(this.ctx),a=Array.isArray(t.config.stroke.width)?Math.max.apply(Math,Rt(t.config.stroke.width)):t.config.stroke.width,n=function(p){var g=document.createElementNS(e.SVGNS,"clipPath");return g.setAttribute("id",p),g};e.dom.elGridRectMask=n("gridRectMask".concat(e.cuid)),e.dom.elGridRectBarMask=n("gridRectBarMask".concat(e.cuid)),e.dom.elGridRectMarkerMask=n("gridRectMarkerMask".concat(e.cuid)),e.dom.elForecastMask=n("forecastMask".concat(e.cuid)),e.dom.elNonForecastMask=n("nonForecastMask".concat(e.cuid));var o=0,r=0;(["bar","rangeBar","candlestick","boxPlot"].includes(t.config.chart.type)||t.globals.comboBarCount>0)&&t.globals.isXNumeric&&!t.globals.isBarHorizontal&&(o=Math.max(t.config.grid.padding.left,e.barPadForNumericAxis),r=Math.max(t.config.grid.padding.right,e.barPadForNumericAxis)),e.dom.elGridRect=i.drawRect(0,0,e.gridWidth,e.gridHeight,0,"#fff"),e.dom.elGridRectBar=i.drawRect(-a/2-o-2,-a/2-2,e.gridWidth+a+r+o+4,e.gridHeight+a+4,0,"#fff");var h=t.globals.markers.largestSize;e.dom.elGridRectMarker=i.drawRect(-h,-h,e.gridWidth+2*h,e.gridHeight+2*h,0,"#fff"),e.dom.elGridRectMask.appendChild(e.dom.elGridRect.node),e.dom.elGridRectBarMask.appendChild(e.dom.elGridRectBar.node),e.dom.elGridRectMarkerMask.appendChild(e.dom.elGridRectMarker.node);var d=e.dom.baseEl.querySelector("defs");d.appendChild(e.dom.elGridRectMask),d.appendChild(e.dom.elGridRectBarMask),d.appendChild(e.dom.elGridRectMarkerMask),d.appendChild(e.dom.elForecastMask),d.appendChild(e.dom.elNonForecastMask)}},{key:"_drawGridLines",value:function(t){var e=t.i,i=t.x1,r=t.xCount,d=this.w;if(!(0===e&&d.globals.skipFirstTimelinelabel||e===r-1&&d.globals.skipLastTimelinelabel&&!d.config.xaxis.labels.formatter||"radar"===d.config.chart.type)){d.config.grid.xaxis.lines.show&&this._drawGridLine({i:e,x1:i,y1:t.y1,x2:t.x2,y2:t.y2,xCount:r,parent:t.parent});var p=0;if(d.globals.hasXaxisGroups&&"between"===d.config.xaxis.tickPlacement){var g=d.globals.groups;if(g){for(var f=0,x=0;f<e&&x<g.length;x++)f+=g[x].cols;f===e&&(p=.6*d.globals.xAxisLabelsHeight)}}new _e(this.ctx).drawXaxisTicks(i,p,d.globals.dom.elGraphical)}}},{key:"_drawGridLine",value:function(t){var e=t.i,i=t.x1,a=t.y1,n=t.x2,o=t.y2,r=t.xCount,h=t.parent,d=this.w,p=h.node.classList.contains("apexcharts-gridlines-horizontal"),g=d.globals.barPadForNumericAxis,f=0===a&&0===o||0===i&&0===n||a===d.globals.gridHeight&&o===d.globals.gridHeight||d.globals.isBarHorizontal&&(0===e||e===r-1),x=new H(this).drawLine(i-(p?g:0),a,n+(p?g:0),o,d.config.grid.borderColor,d.config.grid.strokeDashArray);x.node.classList.add("apexcharts-gridline"),f&&d.config.grid.show?this.elGridBorders.add(x):h.add(x)}},{key:"_drawGridBandRect",value:function(t){var e=t.c,i=t.x1,a=t.y1,n=t.x2,o=t.y2,r=t.type,h=this.w,d=new H(this.ctx),p=h.globals.barPadForNumericAxis,f=d.drawRect(i-("row"===r?p:0),a,n+("row"===r?2*p:0),o,0,h.config.grid[r].colors[e],h.config.grid[r].opacity);this.elg.add(f),f.attr("clip-path","url(#gridRectMask".concat(h.globals.cuid,")")),f.node.classList.add("apexcharts-grid-".concat(r))}},{key:"_drawXYLines",value:function(t){var e=this,i=t.xCount,a=t.tickAmount,n=this.w;if(n.config.grid.xaxis.lines.show||n.config.xaxis.axisTicks.show){var o,r=n.globals.padHorizontal,h=n.globals.gridHeight;n.globals.timescaleLabels.length?function(y){for(var b=y.xC,S=y.y1,c=y.y2,m=0;m<b;m++)e._drawGridLines({i:m,x1:e.xaxisLabels[m].position,y1:S,x2:e.xaxisLabels[m].position,y2:c,xCount:i,parent:e.elgridLinesV})}({xC:i,x1:r,y1:0,x2:o,y2:h}):(n.globals.isXNumeric&&(i=n.globals.xAxisScale.result.length),function(y){for(var b=y.xC,k=y.x1,S=y.y1,C=y.x2,c=y.y2,m=0;m<b+(n.globals.isXNumeric?0:1);m++)0===m&&1===b&&1===n.globals.dataPoints&&(C=k=n.globals.gridWidth/2),e._drawGridLines({i:m,x1:k,y1:S,x2:C,y2:c,xCount:i,parent:e.elgridLinesV}),C=k+=n.globals.gridWidth/(n.globals.isXNumeric?b-1:b)}({xC:i,x1:r,y1:0,x2:o,y2:h}))}if(n.config.grid.yaxis.lines.show){var d=0,p=0,g=n.globals.gridWidth,f=a+1;this.isRangeBar&&(f=n.globals.labels.length);for(var x=0;x<f+(this.isRangeBar?1:0);x++)this._drawGridLine({i:x,xCount:f+(this.isRangeBar?1:0),x1:0,y1:d,x2:g,y2:p,parent:this.elgridLinesH}),p=d+=n.globals.gridHeight/(this.isRangeBar?f:a)}}},{key:"_drawInvertedXYLines",value:function(t){var e=t.xCount,i=this.w;if(i.config.grid.xaxis.lines.show||i.config.xaxis.axisTicks.show)for(var a,n=i.globals.padHorizontal,o=i.globals.gridHeight,r=0;r<e+1;r++)i.config.grid.xaxis.lines.show&&this._drawGridLine({i:r,xCount:e+1,x1:n,y1:0,x2:a,y2:o,parent:this.elgridLinesV}),new _e(this.ctx).drawXaxisTicks(n,0,i.globals.dom.elGraphical),a=n+=i.globals.gridWidth/e;if(i.config.grid.yaxis.lines.show)for(var h=0,d=0,p=i.globals.gridWidth,g=0;g<i.globals.dataPoints+1;g++)this._drawGridLine({i:g,xCount:i.globals.dataPoints+1,x1:0,y1:h,x2:p,y2:d,parent:this.elgridLinesH}),d=h+=i.globals.gridHeight/i.globals.dataPoints}},{key:"renderGrid",value:function(){var t=this.w,e=t.globals,i=new H(this.ctx);this.elg=i.group({class:"apexcharts-grid"}),this.elgridLinesH=i.group({class:"apexcharts-gridlines-horizontal"}),this.elgridLinesV=i.group({class:"apexcharts-gridlines-vertical"}),this.elGridBorders=i.group({class:"apexcharts-grid-borders"}),this.elg.add(this.elgridLinesH),this.elg.add(this.elgridLinesV),t.config.grid.show||(this.elgridLinesV.hide(),this.elgridLinesH.hide(),this.elGridBorders.hide());for(var a=0;a<e.seriesYAxisMap.length&&e.ignoreYAxisIndexes.includes(a);)a++;a===e.seriesYAxisMap.length&&(a=0);var n,r,h,d,o=e.yAxisScale[a].result.length-1;return!e.isBarHorizontal||this.isRangeBar?(n=this.xaxisLabels.length,this.isRangeBar&&(o=e.labels.length,t.config.xaxis.tickAmount&&t.config.xaxis.labels.formatter&&(n=t.config.xaxis.tickAmount),(null===(r=e.yAxisScale)||void 0===r||null===(h=r[a])||void 0===h||null===(d=h.result)||void 0===d?void 0:d.length)>0&&"datetime"!==t.config.xaxis.type&&(n=e.yAxisScale[a].result.length-1)),this._drawXYLines({xCount:n,tickAmount:o})):this._drawInvertedXYLines({xCount:n=o,tickAmount:o=e.xTickAmount}),this.drawGridBands(n,o),{el:this.elg,elGridBorders:this.elGridBorders,xAxisTickWidth:e.gridWidth/n}}},{key:"drawGridBands",value:function(t,e){var i,a,n=this,o=this.w;if((null===(i=o.config.grid.row.colors)||void 0===i?void 0:i.length)>0&&function(y,b,k,S,C,c){for(var m=0,w=0;m<b;m++,w++)w>=o.config.grid.row.colors.length&&(w=0),n._drawGridBandRect({c:w,x1:0,y1:S,x2:C,y2:c,type:"row"}),S+=o.globals.gridHeight/e}(0,e,0,0,o.globals.gridWidth,o.globals.gridHeight/e),(null===(a=o.config.grid.column.colors)||void 0===a?void 0:a.length)>0){var r=o.globals.isBarHorizontal||"on"!==o.config.xaxis.tickPlacement||"category"!==o.config.xaxis.type&&!o.config.xaxis.convertedCatToNumeric?t:t-1;o.globals.isXNumeric&&(r=o.globals.xAxisScale.result.length-1);for(var h=o.globals.padHorizontal,d=o.globals.padHorizontal+o.globals.gridWidth/r,p=o.globals.gridHeight,g=0,f=0;g<t;g++,f++){var x;f>=o.config.grid.column.colors.length&&(f=0),"datetime"===o.config.xaxis.type&&(h=this.xaxisLabels[g].position,d=((null===(x=this.xaxisLabels[g+1])||void 0===x?void 0:x.position)||o.globals.gridWidth)-this.xaxisLabels[g].position),this._drawGridBandRect({c:f,x1:h,y1:0,x2:d,y2:p,type:"column"}),h+=o.globals.gridWidth/r}}}}]),A}(),ge=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w,this.coreUtils=new Lt(this.ctx)}return W(A,[{key:"niceScale",value:function(t,e){var i,a,n,o,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,h=1e-11,d=this.w,p=d.globals;p.isBarHorizontal?(i=d.config.xaxis,a=Math.max((p.svgWidth-100)/25,2)):(i=d.config.yaxis[r],a=Math.max((p.svgHeight-100)/15,2)),R.isNumber(a)||(a=10),n=null!=i.min,o=void 0!==i.max&&null!==i.min;var g=null!=i.stepSize,f=null!=i.tickAmount,x=f?i.tickAmount:p.niceScaleDefaultTicks[Math.min(Math.round(a/2),p.niceScaleDefaultTicks.length-1)];if(p.isMultipleYAxis&&!f&&p.multiAxisTickAmount>0&&(x=p.multiAxisTickAmount,f=!0),x="dataPoints"===x?p.dataPoints-1:Math.abs(Math.round(x)),(t===Number.MIN_VALUE&&0===e||!R.isNumber(t)&&!R.isNumber(e)||t===Number.MIN_VALUE&&e===-Number.MAX_VALUE)&&(t=R.isNumber(i.min)?i.min:0,e=R.isNumber(i.max)?i.max:t+x,p.allSeriesCollapsed=!1),t>e){console.warn("axis.min cannot be greater than axis.max: swapping min and max");var y=e;e=t,t=y}else t===e&&(t=0===t?0:t-1,e=0===e?2:e+1);var b=[];x<1&&(x=1);var k=x,S=Math.abs(e-t);!n&&t>0&&t/S<.15&&(t=0,n=!0),!o&&e<0&&-e/S<.15&&(e=0,o=!0);var C=(S=Math.abs(e-t))/k,c=C,m=Math.floor(Math.log10(c)),w=Math.pow(10,m),T=Math.ceil(c/w);if(C=c=(T=p.niceScaleAllowedMagMsd[0===p.yValueDecimal?0:1][T])*w,p.isBarHorizontal&&i.stepSize&&"datetime"!==i.type?(C=i.stepSize,g=!0):g&&(C=i.stepSize),g&&i.forceNiceScale){var P=Math.floor(Math.log10(C));C*=Math.pow(10,m-P)}if(n&&o){var M=S/k;if(f)if(g)if(0!=R.mod(S,C)){var I=R.getGCD(C,M);C=M/I<10?I:M}else 0==R.mod(C,M)?C=M:(M=C,f=!1);else C=M;else if(g)0==R.mod(S,C)?M=C:C=M;else if(0==R.mod(S,C))M=C;else{M=S/(k=Math.ceil(S/C));var E=R.getGCD(S,C);S/E<a&&(M=E),C=M}k=Math.round(S/C)}else{if(n||o){if(o)if(f)t=e-C*k;else{var X=t;t=C*Math.floor(t/C),Math.abs(e-t)/R.getGCD(S,C)>a&&(t=e-C*x,t+=C*Math.floor((X-t)/C))}else if(n)if(f)e=t+C*k;else{var F=e;e=C*Math.ceil(e/C),Math.abs(e-t)/R.getGCD(S,C)>a&&(e=t+C*x,e+=C*Math.ceil((F-e)/C))}}else if(p.isMultipleYAxis&&f){var D=C*Math.floor(t/C),Y=D+C*k;Y<e&&(C*=2),Y=e,e=(t=D)+C*k,S=Math.abs(e-t),t>0&&t<Math.abs(Y-e)&&(t=0,e=C*k),e<0&&-e<Math.abs(D-t)&&(e=0,t=-C*k)}else t=C*Math.floor(t/C),e=C*Math.ceil(e/C);S=Math.abs(e-t),C=R.getGCD(S,C),k=Math.round(S/C)}if(f||n||o||(k=Math.ceil((S-h)/(C+h)))>16&&R.getPrimeFactors(k).length<2&&k++,!f&&i.forceNiceScale&&0===p.yValueDecimal&&k>S&&(k=S,C=Math.round(S/k)),k>a&&(!f&&!g||i.forceNiceScale)){var G=R.getPrimeFactors(k),$=G.length-1,K=k;t:for(var Q=0;Q<$;Q++)for(var it=0;it<=$-Q;it++){for(var et=Math.min(it+Q,$),ot=K,St=1,yt=it;yt<=et;yt++)St*=G[yt];if((ot/=St)<a){K=ot;break t}}C=K===k?S:S/K,k=Math.round(S/C)}p.isMultipleYAxis&&0==p.multiAxisTickAmount&&p.ignoreYAxisIndexes.indexOf(r)<0&&(p.multiAxisTickAmount=k);var xt=t-C,Vt=C*h;do{b.push(R.stripNumber(xt+=C,7))}while(e-xt>Vt);return{result:b,niceMin:b[0],niceMax:b[b.length-1]}}},{key:"linearScale",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=Math.abs(e-t),r=[];if(t===e)return{result:r=[t],niceMin:r[0],niceMax:r[r.length-1]};"dataPoints"===(i=this._adjustTicksForSmallRange(i,a,o))&&(i=this.w.globals.dataPoints-1),n||(n=o/i),n=Math.round(10*(n+Number.EPSILON))/10,i===Number.MAX_VALUE&&(i=5,n=1);for(var h=t;i>=0;)r.push(h),h=R.preciseAddition(h,n),i-=1;return{result:r,niceMin:r[0],niceMax:r[r.length-1]}}},{key:"logarithmicScaleNice",value:function(t,e,i){e<=0&&(e=Math.max(t,i)),t<=0&&(t=Math.min(e,i));for(var a=[],n=Math.ceil(Math.log(e)/Math.log(i)+1),o=Math.floor(Math.log(t)/Math.log(i));o<n;o++)a.push(Math.pow(i,o));return{result:a,niceMin:a[0],niceMax:a[a.length-1]}}},{key:"logarithmicScale",value:function(t,e,i){e<=0&&(e=Math.max(t,i)),t<=0&&(t=Math.min(e,i));for(var a=[],n=Math.log(e)/Math.log(i),o=Math.log(t)/Math.log(i),r=n-o,h=Math.round(r),d=r/h,p=0,g=o;p<h;p++,g+=d)a.push(Math.pow(i,g));return a.push(Math.pow(i,n)),{result:a,niceMin:t,niceMax:e}}},{key:"_adjustTicksForSmallRange",value:function(t,e,i){var a=t;if(void 0!==e&&this.w.config.yaxis[e].labels.formatter&&void 0===this.w.config.yaxis[e].tickAmount){var n=Number(this.w.config.yaxis[e].labels.formatter(1));R.isNumber(n)&&0===this.w.globals.yValueDecimal&&(a=Math.ceil(i))}return a<t?a:t}},{key:"setYScaleForIndex",value:function(t,e,i){var a=this.w.globals,n=this.w.config,o=a.isBarHorizontal?n.xaxis:n.yaxis[t];void 0===a.yAxisScale[t]&&(a.yAxisScale[t]=[]);var r=Math.abs(i-e);o.logarithmic&&r<=5&&(a.invalidLogScale=!0),o.logarithmic&&r>5?(a.allSeriesCollapsed=!1,a.yAxisScale[t]=o.forceNiceScale?this.logarithmicScaleNice(e,i,o.logBase):this.logarithmicScale(e,i,o.logBase)):i!==-Number.MAX_VALUE&&R.isNumber(i)&&e!==Number.MAX_VALUE&&R.isNumber(e)?(a.allSeriesCollapsed=!1,a.yAxisScale[t]=this.niceScale(e,i,t)):a.yAxisScale[t]=this.niceScale(Number.MIN_VALUE,0,t)}},{key:"setXScale",value:function(t,e){var i=this.w,a=i.globals,n=Math.abs(e-t);if(e!==-Number.MAX_VALUE&&R.isNumber(e)){var o=a.xTickAmount+1;n<10&&n>1&&(o=n),a.xAxisScale=this.linearScale(t,e,o,0,i.config.xaxis.stepSize)}else a.xAxisScale=this.linearScale(0,10,10);return a.xAxisScale}},{key:"scaleMultipleYAxes",value:function(){var t=this,e=this.w.config,i=this.w.globals;this.coreUtils.setSeriesYAxisMappings();var a=i.seriesYAxisMap,n=i.minYArr,o=i.maxYArr;i.allSeriesCollapsed=!0,i.barGroups=[],a.forEach(function(r,h){var d=[];r.forEach(function(p){var g=e.series[p].group;d.indexOf(g)<0&&d.push(g)}),r.length>0?function(){var p,g,f=Number.MAX_VALUE,x=-Number.MAX_VALUE,y=f,b=x;if(e.chart.stacked)!function(){var C=new Array(i.dataPoints).fill(0),c=[],m=[],w=[];d.forEach(function(){c.push(C.map(function(){return Number.MIN_VALUE})),m.push(C.map(function(){return Number.MIN_VALUE})),w.push(C.map(function(){return Number.MIN_VALUE}))});for(var T=function(M){!p&&e.series[r[M]].type&&(p=e.series[r[M]].type);var I=r[M];g=e.series[I].group?e.series[I].group:"axis-".concat(h),!(i.collapsedSeriesIndices.indexOf(I)<0&&i.ancillaryCollapsedSeriesIndices.indexOf(I)<0)||(i.allSeriesCollapsed=!1,d.forEach(function(E,X){if(e.series[I].group===E)for(var F=0;F<i.series[I].length;F++){var D=i.series[I][F];D>=0?m[X][F]+=D:w[X][F]+=D,c[X][F]+=D,y=Math.min(y,D),b=Math.max(b,D)}})),"bar"!==p&&"column"!==p||i.barGroups.push(g)},P=0;P<r.length;P++)T(P);p||(p=e.chart.type),"bar"===p||"column"===p?d.forEach(function(M,I){f=Math.min(f,Math.min.apply(null,w[I])),x=Math.max(x,Math.max.apply(null,m[I]))}):(d.forEach(function(M,I){y=Math.min(y,Math.min.apply(null,c[I])),b=Math.max(b,Math.max.apply(null,c[I]))}),f=y,x=b),f===Number.MIN_VALUE&&x===Number.MIN_VALUE&&(x=-Number.MAX_VALUE)}();else for(var k=0;k<r.length;k++){var S=r[k];f=Math.min(f,n[S]),x=Math.max(x,o[S]),!(i.collapsedSeriesIndices.indexOf(S)<0&&i.ancillaryCollapsedSeriesIndices.indexOf(S)<0)||(i.allSeriesCollapsed=!1)}void 0!==e.yaxis[h].min&&(f="function"==typeof e.yaxis[h].min?e.yaxis[h].min(f):e.yaxis[h].min),void 0!==e.yaxis[h].max&&(x="function"==typeof e.yaxis[h].max?e.yaxis[h].max(x):e.yaxis[h].max),i.barGroups=i.barGroups.filter(function(C,c,m){return m.indexOf(C)===c}),t.setYScaleForIndex(h,f,x),r.forEach(function(C){n[C]=i.yAxisScale[h].niceMin,o[C]=i.yAxisScale[h].niceMax})}():t.setYScaleForIndex(h,0,-Number.MAX_VALUE)})}}]),A}(),ke=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w,this.scales=new ge(t)}return W(A,[{key:"init",value:function(){this.setYRange(),this.setXRange(),this.setZRange()}},{key:"getMinYMaxY",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-Number.MAX_VALUE,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=this.w.config,o=this.w.globals,r=-Number.MAX_VALUE,h=Number.MIN_VALUE;null===a&&(a=t+1);var d=o.series,p=d,g=d;"candlestick"===n.chart.type?(p=o.seriesCandleL,g=o.seriesCandleH):"boxPlot"===n.chart.type?(p=o.seriesCandleO,g=o.seriesCandleC):o.isRangeData&&(p=o.seriesRangeStart,g=o.seriesRangeEnd);var f=!1;if(o.seriesX.length>=a){var x,y=null===(x=o.brushSource)||void 0===x?void 0:x.w.config.chart.brush;(n.chart.zoom.enabled&&n.chart.zoom.autoScaleYaxis||null!=y&&y.enabled&&null!=y&&y.autoScaleYaxis)&&(f=!0)}for(var b=t;b<a;b++){o.dataPoints=Math.max(o.dataPoints,d[b].length);var k=n.series[b].type;o.categoryLabels.length&&(o.dataPoints=o.categoryLabels.filter(function(w){return void 0!==w}).length),o.labels.length&&"datetime"!==n.xaxis.type&&0!==o.series.reduce(function(w,T){return w+T.length},0)&&(o.dataPoints=Math.max(o.dataPoints,o.labels.length));var S=0,C=d[b].length-1;if(f){if(n.xaxis.min)for(;S<C&&o.seriesX[b][S]<n.xaxis.min;S++);if(n.xaxis.max)for(;C>S&&o.seriesX[b][C]>n.xaxis.max;C--);}for(var c=S;c<=C&&c<o.series[b].length;c++){var m=d[b][c];if(null!==m&&R.isNumber(m)){switch(void 0!==g[b][c]&&(r=Math.max(r,g[b][c]),e=Math.min(e,g[b][c])),void 0!==p[b][c]&&(e=Math.min(e,p[b][c]),i=Math.max(i,p[b][c])),k){case"candlestick":void 0!==o.seriesCandleC[b][c]&&(r=Math.max(r,o.seriesCandleH[b][c]),e=Math.min(e,o.seriesCandleL[b][c]));break;case"boxPlot":void 0!==o.seriesCandleC[b][c]&&(r=Math.max(r,o.seriesCandleC[b][c]),e=Math.min(e,o.seriesCandleO[b][c]))}k&&"candlestick"!==k&&"boxPlot"!==k&&"rangeArea"!==k&&"rangeBar"!==k&&(r=Math.max(r,o.series[b][c]),e=Math.min(e,o.series[b][c])),i=r,o.seriesGoals[b]&&o.seriesGoals[b][c]&&Array.isArray(o.seriesGoals[b][c])&&o.seriesGoals[b][c].forEach(function(w){h!==Number.MIN_VALUE&&(h=Math.min(h,w.value),e=h),r=Math.max(r,w.value),i=r}),R.isFloat(m)&&(m=R.noExponents(m),o.yValueDecimal=Math.max(o.yValueDecimal,m.toString().split(".")[1].length)),h>p[b][c]&&p[b][c]<0&&(h=p[b][c])}else o.hasNullValues=!0}"bar"!==k&&"column"!==k||(h<0&&r<0&&(r=0,i=Math.max(i,0)),h===Number.MIN_VALUE&&(h=0,e=Math.min(e,0)))}return"rangeBar"===n.chart.type&&o.seriesRangeStart.length&&o.isBarHorizontal&&(h=e),"bar"===n.chart.type&&(h<0&&r<0&&(r=0),h===Number.MIN_VALUE&&(h=0)),{minY:h,maxY:r,lowestY:e,highestY:i}}},{key:"setYRange",value:function(){var t=this.w.globals,e=this.w.config;t.maxY=-Number.MAX_VALUE,t.minY=Number.MIN_VALUE;var i,a=Number.MAX_VALUE;if(t.isMultipleYAxis){a=Number.MAX_VALUE;for(var n=0;n<t.series.length;n++)i=this.getMinYMaxY(n),t.minYArr[n]=i.lowestY,t.maxYArr[n]=i.highestY,a=Math.min(a,i.lowestY)}return i=this.getMinYMaxY(0,a,null,t.series.length),"bar"===e.chart.type?(t.minY=i.minY,t.maxY=i.maxY):(t.minY=i.lowestY,t.maxY=i.highestY),a=i.lowestY,e.chart.stacked&&this._setStackedMinMax(),"line"===e.chart.type||"area"===e.chart.type||"scatter"===e.chart.type||"candlestick"===e.chart.type||"boxPlot"===e.chart.type||"rangeBar"===e.chart.type&&!t.isBarHorizontal?t.minY===Number.MIN_VALUE&&a!==-Number.MAX_VALUE&&a!==t.maxY&&(t.minY=a):t.minY=t.minY!==Number.MIN_VALUE?Math.min(i.minY,t.minY):i.minY,e.yaxis.forEach(function(o,r){void 0!==o.max&&("number"==typeof o.max?t.maxYArr[r]=o.max:"function"==typeof o.max&&(t.maxYArr[r]=o.max(t.isMultipleYAxis?t.maxYArr[r]:t.maxY)),t.maxY=t.maxYArr[r]),void 0!==o.min&&("number"==typeof o.min?t.minYArr[r]=o.min:"function"==typeof o.min&&(t.minYArr[r]=o.min(t.isMultipleYAxis?t.minYArr[r]===Number.MIN_VALUE?0:t.minYArr[r]:t.minY)),t.minY=t.minYArr[r])}),t.isBarHorizontal&&["min","max"].forEach(function(o){void 0!==e.xaxis[o]&&"number"==typeof e.xaxis[o]&&("min"===o?t.minY=e.xaxis[o]:t.maxY=e.xaxis[o])}),t.isMultipleYAxis?(this.scales.scaleMultipleYAxes(),t.minY=a):(this.scales.setYScaleForIndex(0,t.minY,t.maxY),t.minY=t.yAxisScale[0].niceMin,t.maxY=t.yAxisScale[0].niceMax,t.minYArr[0]=t.minY,t.maxYArr[0]=t.maxY),t.barGroups=[],t.lineGroups=[],t.areaGroups=[],e.series.forEach(function(o){switch(o.type||e.chart.type){case"bar":case"column":t.barGroups.push(o.group);break;case"line":t.lineGroups.push(o.group);break;case"area":t.areaGroups.push(o.group)}}),t.barGroups=t.barGroups.filter(function(o,r,h){return h.indexOf(o)===r}),t.lineGroups=t.lineGroups.filter(function(o,r,h){return h.indexOf(o)===r}),t.areaGroups=t.areaGroups.filter(function(o,r,h){return h.indexOf(o)===r}),{minY:t.minY,maxY:t.maxY,minYArr:t.minYArr,maxYArr:t.maxYArr,yAxisScale:t.yAxisScale}}},{key:"setXRange",value:function(){var t=this.w.globals,e=this.w.config,i="numeric"===e.xaxis.type||"datetime"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided||t.noLabelsProvided||t.isXNumeric;if(t.isXNumeric&&function(){for(var h=0;h<t.series.length;h++)if(t.labels[h])for(var d=0;d<t.labels[h].length;d++)null!==t.labels[h][d]&&R.isNumber(t.labels[h][d])&&(t.maxX=Math.max(t.maxX,t.labels[h][d]),t.initialMaxX=Math.max(t.maxX,t.labels[h][d]),t.minX=Math.min(t.minX,t.labels[h][d]),t.initialMinX=Math.min(t.minX,t.labels[h][d]))}(),t.noLabelsProvided&&0===e.xaxis.categories.length&&(t.maxX=t.labels[t.labels.length-1],t.initialMaxX=t.labels[t.labels.length-1],t.minX=1,t.initialMinX=1),t.isXNumeric||t.noLabelsProvided||t.dataFormatXNumeric){var a=10;if(void 0===e.xaxis.tickAmount)a=Math.round(t.svgWidth/150),"numeric"===e.xaxis.type&&t.dataPoints<30&&(a=t.dataPoints-1),a>t.dataPoints&&0!==t.dataPoints&&(a=t.dataPoints-1);else if("dataPoints"===e.xaxis.tickAmount){if(t.series.length>1&&(a=t.series[t.maxValsInArrayIndex].length-1),t.isXNumeric){var n=t.maxX-t.minX;n<30&&(a=n-1)}}else a=e.xaxis.tickAmount;if(t.xTickAmount=a,void 0!==e.xaxis.max&&"number"==typeof e.xaxis.max&&(t.maxX=e.xaxis.max),void 0!==e.xaxis.min&&"number"==typeof e.xaxis.min&&(t.minX=e.xaxis.min),void 0!==e.xaxis.range&&(t.minX=t.maxX-e.xaxis.range),t.minX!==Number.MAX_VALUE&&t.maxX!==-Number.MAX_VALUE)if(e.xaxis.convertedCatToNumeric&&!t.dataFormatXNumeric){for(var o=[],r=t.minX-1;r<t.maxX;r++)o.push(r+1);t.xAxisScale={result:o,niceMin:o[0],niceMax:o[o.length-1]}}else t.xAxisScale=this.scales.setXScale(t.minX,t.maxX);else t.xAxisScale=this.scales.linearScale(0,a,a,0,e.xaxis.stepSize),t.noLabelsProvided&&t.labels.length>0&&(t.xAxisScale=this.scales.linearScale(1,t.labels.length,a-1,0,e.xaxis.stepSize),t.seriesX=t.labels.slice());i&&(t.labels=t.xAxisScale.result.slice())}return t.isBarHorizontal&&t.labels.length&&(t.xTickAmount=t.labels.length),this._handleSingleDataPoint(),this._getMinXDiff(),{minX:t.minX,maxX:t.maxX}}},{key:"setZRange",value:function(){var t=this.w.globals;if(t.isDataXYZ)for(var e=0;e<t.series.length;e++)if(void 0!==t.seriesZ[e])for(var i=0;i<t.seriesZ[e].length;i++)null!==t.seriesZ[e][i]&&R.isNumber(t.seriesZ[e][i])&&(t.maxZ=Math.max(t.maxZ,t.seriesZ[e][i]),t.minZ=Math.min(t.minZ,t.seriesZ[e][i]))}},{key:"_handleSingleDataPoint",value:function(){var t=this.w.globals,e=this.w.config;if(t.minX===t.maxX){var i=new bt(this.ctx);if("datetime"===e.xaxis.type){var a=i.getDate(t.minX);e.xaxis.labels.datetimeUTC?a.setUTCDate(a.getUTCDate()-2):a.setDate(a.getDate()-2),t.minX=new Date(a).getTime();var n=i.getDate(t.maxX);e.xaxis.labels.datetimeUTC?n.setUTCDate(n.getUTCDate()+2):n.setDate(n.getDate()+2),t.maxX=new Date(n).getTime()}else("numeric"===e.xaxis.type||"category"===e.xaxis.type&&!t.noLabelsProvided)&&(t.minX=t.minX-2,t.initialMinX=t.minX,t.maxX=t.maxX+2,t.initialMaxX=t.maxX)}}},{key:"_getMinXDiff",value:function(){var t=this.w.globals;t.isXNumeric&&t.seriesX.forEach(function(e,i){1===e.length&&e.push(t.seriesX[t.maxValsInArrayIndex][t.seriesX[t.maxValsInArrayIndex].length-1]);var a=e.slice();a.sort(function(n,o){return n-o}),a.forEach(function(n,o){if(o>0){var r=n-a[o-1];r>0&&(t.minXDiff=Math.min(r,t.minXDiff))}}),1!==t.dataPoints&&t.minXDiff!==Number.MAX_VALUE||(t.minXDiff=.5)})}},{key:"_setStackedMinMax",value:function(){var t=this,e=this.w.globals;if(e.series.length){var i=e.seriesGroups;i.length||(i=[this.w.globals.seriesNames.map(function(o){return o})]);var a={},n={};i.forEach(function(o){a[o]=[],n[o]=[],t.w.config.series.map(function(r,h){return o.indexOf(e.seriesNames[h])>-1?h:null}).filter(function(r){return null!==r}).forEach(function(r){for(var h=0;h<e.series[e.maxValsInArrayIndex].length;h++){var d,p,g,f;void 0===a[o][h]&&(a[o][h]=0,n[o][h]=0),(t.w.config.chart.stacked&&!e.comboCharts||t.w.config.chart.stacked&&e.comboCharts&&(!t.w.config.chart.stackOnlyBar||"bar"===(null===(d=t.w.config.series)||void 0===d||null===(p=d[r])||void 0===p?void 0:p.type)||"column"===(null===(g=t.w.config.series)||void 0===g||null===(f=g[r])||void 0===f?void 0:f.type)))&&null!==e.series[r][h]&&R.isNumber(e.series[r][h])&&(e.series[r][h]>0?a[o][h]+=parseFloat(e.series[r][h])+1e-4:n[o][h]+=parseFloat(e.series[r][h]))}})}),Object.entries(a).forEach(function(o){var r=ii(o,1)[0];a[r].forEach(function(h,d){e.maxY=Math.max(e.maxY,a[r][d]),e.minY=Math.min(e.minY,n[r][d])})})}}}]),A}(),pe=function(){function A(t,e){q(this,A),this.ctx=t,this.elgrid=e,this.w=t.w;var i=this.w;this.xaxisFontSize=i.config.xaxis.labels.style.fontSize,this.axisFontFamily=i.config.xaxis.labels.style.fontFamily,this.xaxisForeColors=i.config.xaxis.labels.style.colors,this.isCategoryBarHorizontal="bar"===i.config.chart.type&&i.config.plotOptions.bar.horizontal,this.xAxisoffX="bottom"===i.config.xaxis.position?i.globals.gridHeight:0,this.drawnLabels=[],this.axesUtils=new Ft(t)}return W(A,[{key:"drawYaxis",value:function(t){var e=this.w,i=new H(this.ctx),a=e.config.yaxis[t].labels.style,n=a.fontSize,o=a.fontFamily,r=a.fontWeight,h=i.group({class:"apexcharts-yaxis",rel:t,transform:"translate(".concat(e.globals.translateYAxisX[t],", 0)")});if(this.axesUtils.isYAxisHidden(t))return h;var d=i.group({class:"apexcharts-yaxis-texts-g"});h.add(d);var p=e.globals.yAxisScale[t].result.length-1,g=e.globals.gridHeight/p,f=e.globals.yLabelFormatters[t],x=this.axesUtils.checkForReversedLabels(t,e.globals.yAxisScale[t].result.slice());if(e.config.yaxis[t].labels.show){var y=e.globals.translateY+e.config.yaxis[t].labels.offsetY;e.globals.isBarHorizontal?y=0:"heatmap"===e.config.chart.type&&(y-=g/2),y+=parseInt(n,10)/3;for(var b=p;b>=0;b--){var k=f(x[b],b,e),S=e.config.yaxis[t].labels.padding;e.config.yaxis[t].opposite&&0!==e.config.yaxis.length&&(S*=-1);var C=this.getTextAnchor(e.config.yaxis[t].labels.align,e.config.yaxis[t].opposite),c=this.axesUtils.getYAxisForeColor(a.colors,t),m=Array.isArray(c)?c[b]:c,w=R.listToArray(e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-label tspan"))).map(function(P){return P.textContent}),T=i.drawText({x:S,y,text:w.includes(k)&&!e.config.yaxis[t].labels.showDuplicates?"":k,textAnchor:C,fontSize:n,fontFamily:o,fontWeight:r,maxWidth:e.config.yaxis[t].labels.maxWidth,foreColor:m,isPlainText:!1,cssClass:"apexcharts-yaxis-label ".concat(a.cssClass)});d.add(T),this.addTooltip(T,k),0!==e.config.yaxis[t].labels.rotate&&this.rotateLabel(i,T,firstLabel,e.config.yaxis[t].labels.rotate),y+=g}}return this.addYAxisTitle(i,h,t),this.addAxisBorder(i,h,t,p,g),h}},{key:"getTextAnchor",value:function(t,e){return"left"===t?"start":"center"===t?"middle":"right"===t?"end":e?"start":"end"}},{key:"addTooltip",value:function(t,e){var i=document.createElementNS(this.w.globals.SVGNS,"title");i.textContent=Array.isArray(e)?e.join(" "):e,t.node.appendChild(i)}},{key:"rotateLabel",value:function(t,e,i,a){var n=t.rotateAroundCenter(i.node),o=t.rotateAroundCenter(e.node);e.node.setAttribute("transform","rotate(".concat(a," ").concat(n.x," ").concat(o.y,")"))}},{key:"addYAxisTitle",value:function(t,e,i){var a=this.w;if(void 0!==a.config.yaxis[i].title.text){var n=t.group({class:"apexcharts-yaxis-title"}),r=t.drawText({x:a.config.yaxis[i].opposite?a.globals.translateYAxisX[i]:0,y:a.globals.gridHeight/2+a.globals.translateY+a.config.yaxis[i].title.offsetY,text:a.config.yaxis[i].title.text,textAnchor:"end",foreColor:a.config.yaxis[i].title.style.color,fontSize:a.config.yaxis[i].title.style.fontSize,fontWeight:a.config.yaxis[i].title.style.fontWeight,fontFamily:a.config.yaxis[i].title.style.fontFamily,cssClass:"apexcharts-yaxis-title-text ".concat(a.config.yaxis[i].title.style.cssClass)});n.add(r),e.add(n)}}},{key:"addAxisBorder",value:function(t,e,i,a,n){var o=this.w,r=o.config.yaxis[i].axisBorder,h=31+r.offsetX;if(o.config.yaxis[i].opposite&&(h=-31-r.offsetX),r.show){var d=t.drawLine(h,o.globals.translateY+r.offsetY-2,h,o.globals.gridHeight+o.globals.translateY+r.offsetY+2,r.color,0,r.width);e.add(d)}o.config.yaxis[i].axisTicks.show&&this.axesUtils.drawYAxisTicks(h,a,r,o.config.yaxis[i].axisTicks,i,n,e)}},{key:"drawYaxisInversed",value:function(t){var e=this.w,i=new H(this.ctx),a=i.group({class:"apexcharts-xaxis apexcharts-yaxis-inversed"}),n=i.group({class:"apexcharts-xaxis-texts-g",transform:"translate(".concat(e.globals.translateXAxisX,", ").concat(e.globals.translateXAxisY,")")});a.add(n);var o=e.globals.yAxisScale[t].result.length-1,r=e.globals.gridWidth/o+.1,h=r+e.config.xaxis.labels.offsetX,d=e.globals.xLabelFormatter,p=this.axesUtils.checkForReversedLabels(t,e.globals.yAxisScale[t].result.slice()),g=e.globals.timescaleLabels;if(g.length>0&&(this.xaxisLabels=g.slice(),o=(p=g.slice()).length),e.config.xaxis.labels.show)for(var f=g.length?0:o;g.length?f<g.length:f>=0;g.length?f++:f--){var x=d(p[f],f,e),y=e.globals.gridWidth+e.globals.padHorizontal-(h-r+e.config.xaxis.labels.offsetX);if(g.length){var b=this.axesUtils.getLabel(p,g,y,f,this.drawnLabels,this.xaxisFontSize);y=b.x,x=b.text,this.drawnLabels.push(b.text),0===f&&e.globals.skipFirstTimelinelabel&&(x=""),f===p.length-1&&e.globals.skipLastTimelinelabel&&(x="")}var k=i.drawText({x:y,y:this.xAxisoffX+e.config.xaxis.labels.offsetY+30-("top"===e.config.xaxis.position?e.globals.xAxisHeight+e.config.xaxis.axisTicks.height-2:0),text:x,textAnchor:"middle",foreColor:Array.isArray(this.xaxisForeColors)?this.xaxisForeColors[t]:this.xaxisForeColors,fontSize:this.xaxisFontSize,fontFamily:this.xaxisFontFamily,fontWeight:e.config.xaxis.labels.style.fontWeight,isPlainText:!1,cssClass:"apexcharts-xaxis-label ".concat(e.config.xaxis.labels.style.cssClass)});n.add(k),k.tspan(x),this.addTooltip(k,x),h+=r}return this.inversedYAxisTitleText(a),this.inversedYAxisBorder(a),a}},{key:"inversedYAxisBorder",value:function(t){var e=this.w,i=new H(this.ctx),a=e.config.xaxis.axisBorder;if(a.show){var n=0;"bar"===e.config.chart.type&&e.globals.isXNumeric&&(n-=15);var o=i.drawLine(e.globals.padHorizontal+n+a.offsetX,this.xAxisoffX,e.globals.gridWidth,this.xAxisoffX,a.color,0,a.height);this.elgrid&&this.elgrid.elGridBorders&&e.config.grid.show?this.elgrid.elGridBorders.add(o):t.add(o)}}},{key:"inversedYAxisTitleText",value:function(t){var e=this.w,i=new H(this.ctx);if(void 0!==e.config.xaxis.title.text){var a=i.group({class:"apexcharts-xaxis-title apexcharts-yaxis-title-inversed"}),n=i.drawText({x:e.globals.gridWidth/2+e.config.xaxis.title.offsetX,y:this.xAxisoffX+parseFloat(this.xaxisFontSize)+parseFloat(e.config.xaxis.title.style.fontSize)+e.config.xaxis.title.offsetY+20,text:e.config.xaxis.title.text,textAnchor:"middle",fontSize:e.config.xaxis.title.style.fontSize,fontFamily:e.config.xaxis.title.style.fontFamily,fontWeight:e.config.xaxis.title.style.fontWeight,foreColor:e.config.xaxis.title.style.color,cssClass:"apexcharts-xaxis-title-text ".concat(e.config.xaxis.title.style.cssClass)});a.add(n),t.add(a)}}},{key:"yAxisTitleRotate",value:function(t,e){var i=this.w,a=new H(this.ctx),n=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-texts-g")),o=n?n.getBoundingClientRect():{width:0,height:0},r=i.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(t,"'] .apexcharts-yaxis-title text")),h=r?r.getBoundingClientRect():{width:0,height:0};if(r){var d=this.xPaddingForYAxisTitle(t,o,h,e);r.setAttribute("x",d.xPos-(e?10:0));var p=a.rotateAroundCenter(r);r.setAttribute("transform","rotate(".concat(e?-1*i.config.yaxis[t].title.rotate:i.config.yaxis[t].title.rotate," ").concat(p.x," ").concat(p.y,")"))}}},{key:"xPaddingForYAxisTitle",value:function(t,e,i,a){var n=this.w,o=0,r=10;return void 0===n.config.yaxis[t].title.text||t<0?{xPos:o,padd:0}:(a?o=e.width+n.config.yaxis[t].title.offsetX+i.width/2+r/2:(o=-1*e.width+n.config.yaxis[t].title.offsetX+r/2+i.width/2,n.globals.isBarHorizontal&&(o=-1*e.width-n.config.yaxis[t].title.offsetX-(r=25))),{xPos:o,padd:r})}},{key:"setYAxisXPosition",value:function(t,e){var i=this.w,a=0,n=0,o=18,r=1;i.config.yaxis.length>1&&(this.multipleYs=!0),i.config.yaxis.forEach(function(h,d){var p=i.globals.ignoreYAxisIndexes.includes(d)||!h.show||h.floating||0===t[d].width,g=t[d].width+e[d].width;h.opposite?i.globals.isBarHorizontal?i.globals.translateYAxisX[d]=(n=i.globals.gridWidth+i.globals.translateX-1)-h.labels.offsetX:(n=i.globals.gridWidth+i.globals.translateX+r,p||(r+=g+20),i.globals.translateYAxisX[d]=n-h.labels.offsetX+20):(a=i.globals.translateX-o,p||(o+=g+20),i.globals.translateYAxisX[d]=a+h.labels.offsetX)})}},{key:"setYAxisTextAlignments",value:function(){var t=this.w;R.listToArray(t.globals.dom.baseEl.getElementsByClassName("apexcharts-yaxis")).forEach(function(e,i){var a=t.config.yaxis[i];if(a&&!a.floating&&void 0!==a.labels.align){var n=t.globals.dom.baseEl.querySelector(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-texts-g")),o=R.listToArray(t.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxis[rel='".concat(i,"'] .apexcharts-yaxis-label"))),r=n.getBoundingClientRect();o.forEach(function(h){h.setAttribute("text-anchor",a.labels.align)}),"left"!==a.labels.align||a.opposite?"center"===a.labels.align?n.setAttribute("transform","translate(".concat(r.width/2*(a.opposite?1:-1),", 0)")):"right"===a.labels.align&&a.opposite&&n.setAttribute("transform","translate(".concat(r.width,", 0)")):n.setAttribute("transform","translate(-".concat(r.width,", 0)"))}})}}]),A}(),ki=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w,this.documentEvent=R.bind(this.documentEvent,this)}return W(A,[{key:"addEventListener",value:function(t,e){var i=this.w;i.globals.events.hasOwnProperty(t)?i.globals.events[t].push(e):i.globals.events[t]=[e]}},{key:"removeEventListener",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){var a=i.globals.events[t].indexOf(e);-1!==a&&i.globals.events[t].splice(a,1)}}},{key:"fireEvent",value:function(t,e){var i=this.w;if(i.globals.events.hasOwnProperty(t)){e&&e.length||(e=[]);for(var a=i.globals.events[t],n=a.length,o=0;o<n;o++)a[o].apply(null,e)}}},{key:"setupEventHandlers",value:function(){var t=this,e=this.w,i=this.ctx,a=e.globals.dom.baseEl.querySelector(e.globals.chartClass);this.ctx.eventList.forEach(function(n){a.addEventListener(n,function(o){var r=Object.assign({},e,{seriesIndex:e.globals.axisCharts?e.globals.capturedSeriesIndex:0,dataPointIndex:e.globals.capturedDataPointIndex});"mousemove"===o.type||"touchmove"===o.type?"function"==typeof e.config.chart.events.mouseMove&&e.config.chart.events.mouseMove(o,i,r):"mouseleave"===o.type||"touchleave"===o.type?"function"==typeof e.config.chart.events.mouseLeave&&e.config.chart.events.mouseLeave(o,i,r):("mouseup"===o.type&&1===o.which||"touchend"===o.type)&&("function"==typeof e.config.chart.events.click&&e.config.chart.events.click(o,i,r),i.ctx.events.fireEvent("click",[o,i,r]))},{capture:!1,passive:!0})}),this.ctx.eventList.forEach(function(n){e.globals.dom.baseEl.addEventListener(n,t.documentEvent,{passive:!0})}),this.ctx.core.setupBrushHandler()}},{key:"documentEvent",value:function(t){var e=this.w,i=t.target.className;if("click"===t.type){var a=e.globals.dom.baseEl.querySelector(".apexcharts-menu");a&&a.classList.contains("apexcharts-menu-open")&&"apexcharts-menu-icon"!==i&&a.classList.remove("apexcharts-menu-open")}e.globals.clientX="touchmove"===t.type?t.touches[0].clientX:t.clientX,e.globals.clientY="touchmove"===t.type?t.touches[0].clientY:t.clientY}}]),A}(),Gi=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w}return W(A,[{key:"setCurrentLocaleValues",value:function(t){var e=this.w.config.chart.locales;window.Apex.chart&&window.Apex.chart.locales&&window.Apex.chart.locales.length>0&&(e=this.w.config.chart.locales.concat(window.Apex.chart.locales));var i=e.filter(function(n){return n.name===t})[0];if(!i)throw new Error("Wrong locale name provided. Please make sure you set the correct locale name in options");var a=R.extend(st,i);this.w.globals.locale=a.options}}]),A}(),Vi=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w}return W(A,[{key:"drawAxis",value:function(t,e){var i,a,n=this,o=this.w.globals,r=this.w.config,h=new _e(this.ctx,e),d=new pe(this.ctx,e);o.axisCharts&&"radar"!==t&&(o.isBarHorizontal?(a=d.drawYaxisInversed(0),i=h.drawXaxisInversed(0),o.dom.elGraphical.add(i),o.dom.elGraphical.add(a)):(i=h.drawXaxis(),o.dom.elGraphical.add(i),r.yaxis.map(function(p,g){if(-1===o.ignoreYAxisIndexes.indexOf(g)&&(a=d.drawYaxis(g),o.dom.Paper.add(a),"back"===n.w.config.grid.position)){var f=o.dom.Paper.children()[1];f.remove(),o.dom.Paper.add(f)}})))}}]),A}(),ni=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w}return W(A,[{key:"drawXCrosshairs",value:function(){var t=this.w,e=new H(this.ctx),i=new Dt(this.ctx),a=t.config.xaxis.crosshairs.fill.gradient,n=t.config.xaxis.crosshairs.dropShadow,f=n.enabled,x=n.left,y=n.top,b=n.blur,k=n.color,S=n.opacity,C=t.config.xaxis.crosshairs.fill.color;if(t.config.xaxis.crosshairs.show){"gradient"===t.config.xaxis.crosshairs.fill.type&&(C=e.drawGradient("vertical",a.colorFrom,a.colorTo,a.opacityFrom,a.opacityTo,null,a.stops,null));var c=e.drawRect();1===t.config.xaxis.crosshairs.width&&(c=e.drawLine());var m=t.globals.gridHeight;(!R.isNumber(m)||m<0)&&(m=0);var w=t.config.xaxis.crosshairs.width;(!R.isNumber(w)||w<0)&&(w=0),c.attr({class:"apexcharts-xcrosshairs",x:0,y:0,y2:m,width:w,height:m,fill:C,filter:"none","fill-opacity":t.config.xaxis.crosshairs.opacity,stroke:t.config.xaxis.crosshairs.stroke.color,"stroke-width":t.config.xaxis.crosshairs.stroke.width,"stroke-dasharray":t.config.xaxis.crosshairs.stroke.dashArray}),f&&(c=i.dropShadow(c,{left:x,top:y,blur:b,color:k,opacity:S})),t.globals.dom.elGraphical.add(c)}}},{key:"drawYCrosshairs",value:function(){var t=this.w,e=new H(this.ctx),i=t.config.yaxis[0].crosshairs,a=t.globals.barPadForNumericAxis;if(t.config.yaxis[0].crosshairs.show){var n=e.drawLine(-a,0,t.globals.gridWidth+a,0,i.stroke.color,i.stroke.dashArray,i.stroke.width);n.attr({class:"apexcharts-ycrosshairs"}),t.globals.dom.elGraphical.add(n)}var o=e.drawLine(-a,0,t.globals.gridWidth+a,0,i.stroke.color,0,0);o.attr({class:"apexcharts-ycrosshairs-hidden"}),t.globals.dom.elGraphical.add(o)}}]),A}(),Zi=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w}return W(A,[{key:"checkResponsiveConfig",value:function(t){var e=this,i=this.w,a=i.config;if(0!==a.responsive.length){var n=a.responsive.slice();n.sort(function(d,p){return d.breakpoint>p.breakpoint?1:p.breakpoint>d.breakpoint?-1:0}).reverse();var o=new Ct({}),r=function(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=window.innerWidth>0?window.innerWidth:screen.width;if(g>n[0].breakpoint){var f=R.clone(i.globals.initialConfig);f.series=R.clone(i.config.series);var x=Lt.extendArrayProps(o,f,i);d=R.extend(x,d),d=R.extend(i.config,d),e.overrideResponsiveOptions(d)}else for(var y=0;y<n.length;y++)g<n[y].breakpoint&&(d=Lt.extendArrayProps(o,n[y].options,i),d=R.extend(i.config,d),e.overrideResponsiveOptions(d))};if(t){var h=Lt.extendArrayProps(o,t,i);h=R.extend(i.config,h),r(h=R.extend(h,t))}else r({})}}},{key:"overrideResponsiveOptions",value:function(t){var e=new Ct(t).init({responsiveOverride:!0});this.w.config=e}}]),A}(),ji=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w,this.colors=[],this.isColorFn=!1,this.isHeatmapDistributed=this.checkHeatmapDistributed(),this.isBarDistributed=this.checkBarDistributed()}return W(A,[{key:"checkHeatmapDistributed",value:function(){var t=this.w.config,e=t.chart,i=t.plotOptions;return"treemap"===e.type&&i.treemap&&i.treemap.distributed||"heatmap"===e.type&&i.heatmap&&i.heatmap.distributed}},{key:"checkBarDistributed",value:function(){var t=this.w.config,e=t.chart,i=t.plotOptions;return i.bar&&i.bar.distributed&&("bar"===e.type||"rangeBar"===e.type)}},{key:"init",value:function(){this.setDefaultColors()}},{key:"setDefaultColors",value:function(){var t=this.w,e=new R;t.globals.dom.elWrap.classList.add("apexcharts-theme-".concat(t.config.theme.mode));var i=Rt(t.config.colors||t.config.fill.colors||[]);t.globals.colors=this.getColors(i),this.applySeriesColors(t.globals.seriesColors,t.globals.colors),t.config.theme.monochrome.enabled&&(t.globals.colors=this.getMonochromeColors(t.config.theme.monochrome,t.globals.series,e));var a=t.globals.colors.slice();this.pushExtraColors(t.globals.colors),this.applyColorTypes(["fill","stroke"],a),this.applyDataLabelsColors(a),this.applyRadarPolygonsColors(),this.applyMarkersColors(a)}},{key:"getColors",value:function(t){var e=this,i=this.w;return t&&0!==t.length?Array.isArray(t)&&t.length>0&&"function"==typeof t[0]?(this.isColorFn=!0,i.config.series.map(function(a,n){var o=t[n]||t[0];return"function"==typeof o?o({value:i.globals.axisCharts?i.globals.series[n][0]||0:i.globals.series[n],seriesIndex:n,dataPointIndex:n,w:e.w}):o})):t:this.predefined()}},{key:"applySeriesColors",value:function(t,e){t.forEach(function(i,a){i&&(e[a]=i)})}},{key:"getMonochromeColors",value:function(t,e,i){var a=t.color,o=t.shadeTo,r=this.isBarDistributed||this.isHeatmapDistributed?e[0].length*e.length:e.length,h=1/(r/t.shadeIntensity),d=0;return Array.from({length:r},function(){var p=i.shadeColor("dark"===o?-1*d:d,a);return d+=h,p})}},{key:"applyColorTypes",value:function(t,e){var i=this,a=this.w;t.forEach(function(n){a.globals[n].colors=void 0===a.config[n].colors?i.isColorFn?a.config.colors:e:a.config[n].colors.slice(),i.pushExtraColors(a.globals[n].colors)})}},{key:"applyDataLabelsColors",value:function(t){var e=this.w;e.globals.dataLabels.style.colors=void 0===e.config.dataLabels.style.colors?t:e.config.dataLabels.style.colors.slice(),this.pushExtraColors(e.globals.dataLabels.style.colors,50)}},{key:"applyRadarPolygonsColors",value:function(){var t=this.w;t.globals.radarPolygons.fill.colors=void 0===t.config.plotOptions.radar.polygons.fill.colors?["dark"===t.config.theme.mode?"#424242":"none"]:t.config.plotOptions.radar.polygons.fill.colors.slice(),this.pushExtraColors(t.globals.radarPolygons.fill.colors,20)}},{key:"applyMarkersColors",value:function(t){var e=this.w;e.globals.markers.colors=void 0===e.config.markers.colors?t:e.config.markers.colors.slice(),this.pushExtraColors(e.globals.markers.colors)}},{key:"pushExtraColors",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=this.w,n=e||a.globals.series.length;if(null===i&&(i=this.isBarDistributed||this.isHeatmapDistributed||"heatmap"===a.config.chart.type&&a.config.plotOptions.heatmap&&a.config.plotOptions.heatmap.colorScale.inverse),i&&a.globals.series.length&&(n=a.globals.series[a.globals.maxValsInArrayIndex].length*a.globals.series.length),t.length<n)for(var o=n-t.length,r=0;r<o;r++)t.push(t[r])}},{key:"updateThemeOptions",value:function(t){t.chart=t.chart||{},t.tooltip=t.tooltip||{};var e=t.theme.mode,i="dark"===e?"palette4":"light"===e?"palette1":t.theme.palette||"palette1",a="dark"===e?"#f6f7f8":"light"===e?"#373d3f":t.chart.foreColor||"#373d3f";return t.tooltip.theme=e||"light",t.chart.foreColor=a,t.theme.palette=i,t}},{key:"predefined",value:function(){var t={palette1:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"],palette2:["#3f51b5","#03a9f4","#4caf50","#f9ce1d","#FF9800"],palette3:["#33b2df","#546E7A","#d4526e","#13d8aa","#A5978B"],palette4:["#4ecdc4","#c7f464","#81D4FA","#fd6a6a","#546E7A"],palette5:["#2b908f","#f9a3a4","#90ee7e","#fa4443","#69d2e7"],palette6:["#449DD1","#F86624","#EA3546","#662E9B","#C5D86D"],palette7:["#D7263D","#1B998B","#2E294E","#F46036","#E2C044"],palette8:["#662E9B","#F86624","#F9C80E","#EA3546","#43BCCD"],palette9:["#5C4742","#A5978B","#8D5B4C","#5A2A27","#C4BBAF"],palette10:["#A300D6","#7D02EB","#5653FE","#2983FF","#00B1F2"],default:["#008FFB","#00E396","#FEB019","#FF4560","#775DD0"]};return t[this.w.config.theme.palette]||t.default}}]),A}(),Ui=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w}return W(A,[{key:"draw",value:function(){this.drawTitleSubtitle("title"),this.drawTitleSubtitle("subtitle")}},{key:"drawTitleSubtitle",value:function(t){var e=this.w,i="title"===t?e.config.title:e.config.subtitle,a=e.globals.svgWidth/2,n=i.offsetY,o="middle";if("left"===i.align?(a=10,o="start"):"right"===i.align&&(a=e.globals.svgWidth-10,o="end"),a+=i.offsetX,n=n+parseInt(i.style.fontSize,10)+i.margin/2,void 0!==i.text){var r=new H(this.ctx).drawText({x:a,y:n,text:i.text,textAnchor:o,fontSize:i.style.fontSize,fontFamily:i.style.fontFamily,fontWeight:i.style.fontWeight,foreColor:i.style.color,opacity:1});r.node.setAttribute("class","apexcharts-".concat(t,"-text")),e.globals.dom.Paper.add(r)}}}]),A}(),oi=function(){function A(t){q(this,A),this.w=t.w,this.dCtx=t}return W(A,[{key:"getTitleSubtitleCoords",value:function(t){var e=this.w,i=0,a=0,n="title"===t?e.config.title.floating:e.config.subtitle.floating,o=e.globals.dom.baseEl.querySelector(".apexcharts-".concat(t,"-text"));if(null!==o&&!n){var r=o.getBoundingClientRect();i=r.width,a=e.globals.axisCharts?r.height+5:r.height}return{width:i,height:a}}},{key:"getLegendsRect",value:function(){var t=this.w,e=t.globals.dom.elLegendWrap;t.config.legend.height||"top"!==t.config.legend.position&&"bottom"!==t.config.legend.position||(e.style.maxHeight=t.globals.svgHeight/2+"px");var i=Object.assign({},R.getBoundingClientRect(e));return this.dCtx.lgRect=null!==e&&!t.config.legend.floating&&t.config.legend.show?{x:i.x,y:i.y,height:i.height,width:0===i.height?0:i.width}:{x:0,y:0,height:0,width:0},"left"!==t.config.legend.position&&"right"!==t.config.legend.position||1.5*this.dCtx.lgRect.width>t.globals.svgWidth&&(this.dCtx.lgRect.width=t.globals.svgWidth/1.5),this.dCtx.lgRect}},{key:"getDatalabelsRect",value:function(){var t=this,e=this.w,i=[];e.config.series.forEach(function(h,d){h.data.forEach(function(p,g){a=e.config.dataLabels.formatter(e.globals.series[d][g],{ctx:t.dCtx.ctx,seriesIndex:d,dataPointIndex:g,w:e}),i.push(a)})});var a=R.getLargestStringFromArr(i),n=new H(this.dCtx.ctx),o=e.config.dataLabels.style,r=n.getTextRects(a,parseInt(o.fontSize),o.fontFamily);return{width:1.05*r.width,height:r.height}}},{key:"getLargestStringFromMultiArr",value:function(t,e){var i=t;if(this.w.globals.isMultiLineX){var a=e.map(function(o,r){return Array.isArray(o)?o.length:1}),n=Math.max.apply(Math,Rt(a));i=e[a.indexOf(n)]}return i}}]),A}(),We=function(){function A(t){q(this,A),this.w=t.w,this.dCtx=t}return W(A,[{key:"getxAxisLabelsCoords",value:function(){var t,e=this.w,i=e.globals.labels.slice();if(e.config.xaxis.convertedCatToNumeric&&0===i.length&&(i=e.globals.categoryLabels),e.globals.timescaleLabels.length>0){var a=this.getxAxisTimeScaleLabelsCoords();t={width:a.width,height:a.height},e.globals.rotateXLabels=!1}else{this.dCtx.lgWidthForSideLegends="left"!==e.config.legend.position&&"right"!==e.config.legend.position||e.config.legend.floating?0:this.dCtx.lgRect.width;var n=e.globals.xLabelFormatter,o=R.getLargestStringFromArr(i),r=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,i);e.globals.isBarHorizontal&&(r=o=e.globals.yAxisScale[0].result.reduce(function(y,b){return y.length>b.length?y:b},0));var h=new Re(this.dCtx.ctx),d=o;o=h.xLabelFormat(n,o,d,{i:void 0,dateFormatter:new bt(this.dCtx.ctx).formatDate,w:e}),r=h.xLabelFormat(n,r,d,{i:void 0,dateFormatter:new bt(this.dCtx.ctx).formatDate,w:e}),(e.config.xaxis.convertedCatToNumeric&&void 0===o||""===String(o).trim())&&(r=o="1");var p=new H(this.dCtx.ctx),g=p.getTextRects(o,e.config.xaxis.labels.style.fontSize),f=g;if(o!==r&&(f=p.getTextRects(r,e.config.xaxis.labels.style.fontSize)),(t={width:g.width>=f.width?g.width:f.width,height:g.height>=f.height?g.height:f.height}).width*i.length>e.globals.svgWidth-this.dCtx.lgWidthForSideLegends-this.dCtx.yAxisWidth-this.dCtx.gridPad.left-this.dCtx.gridPad.right&&0!==e.config.xaxis.labels.rotate||e.config.xaxis.labels.rotateAlways){if(!e.globals.isBarHorizontal){e.globals.rotateXLabels=!0;var x=function(y){return p.getTextRects(y,e.config.xaxis.labels.style.fontSize,e.config.xaxis.labels.style.fontFamily,"rotate(".concat(e.config.xaxis.labels.rotate," 0 0)"),!1)};g=x(o),o!==r&&(f=x(r)),t.height=(g.height>f.height?g.height:f.height)/1.5,t.width=g.width>f.width?g.width:f.width}}else e.globals.rotateXLabels=!1}return e.config.xaxis.labels.show||(t={width:0,height:0}),{width:t.width,height:t.height}}},{key:"getxAxisGroupLabelsCoords",value:function(){var t,e=this.w;if(!e.globals.hasXaxisGroups)return{width:0,height:0};var i,a=(null===(t=e.config.xaxis.group.style)||void 0===t?void 0:t.fontSize)||e.config.xaxis.labels.style.fontSize,n=e.globals.groups.map(function(g){return g.title}),o=R.getLargestStringFromArr(n),r=this.dCtx.dimHelpers.getLargestStringFromMultiArr(o,n),h=new H(this.dCtx.ctx),d=h.getTextRects(o,a),p=d;return o!==r&&(p=h.getTextRects(r,a)),i={width:d.width>=p.width?d.width:p.width,height:d.height>=p.height?d.height:p.height},e.config.xaxis.labels.show||(i={width:0,height:0}),{width:i.width,height:i.height}}},{key:"getxAxisTitleCoords",value:function(){var t=this.w,e=0,i=0;if(void 0!==t.config.xaxis.title.text){var a=new H(this.dCtx.ctx).getTextRects(t.config.xaxis.title.text,t.config.xaxis.title.style.fontSize);e=a.width,i=a.height}return{width:e,height:i}}},{key:"getxAxisTimeScaleLabelsCoords",value:function(){var t,e=this.w;this.dCtx.timescaleLabels=e.globals.timescaleLabels.slice();var i=this.dCtx.timescaleLabels.map(function(n){return n.value}),a=i.reduce(function(n,o){return void 0===n?(console.error("You have possibly supplied invalid Date format. Please supply a valid JavaScript Date"),0):n.length>o.length?n:o},0);return 1.05*(t=new H(this.dCtx.ctx).getTextRects(a,e.config.xaxis.labels.style.fontSize)).width*i.length>e.globals.gridWidth&&0!==e.config.xaxis.labels.rotate&&(e.globals.overlappingXLabels=!0),t}},{key:"additionalPaddingXLabels",value:function(t){var e=this,i=this.w,a=i.globals,n=i.config,o=n.xaxis.type,r=t.width;a.skipLastTimelinelabel=!1,a.skipFirstTimelinelabel=!1;var h=i.config.yaxis[0].opposite&&i.globals.isBarHorizontal;n.yaxis.forEach(function(p,g){h?(e.dCtx.gridPad.left<r&&(e.dCtx.xPadLeft=r/2+1),e.dCtx.xPadRight=r/2+1):function(p,g){n.yaxis.length>1&&-1!==a.collapsedSeriesIndices.indexOf(g)||function(f){if(e.dCtx.timescaleLabels&&e.dCtx.timescaleLabels.length){var b=e.dCtx.timescaleLabels[0].position-r/1.75+e.dCtx.yAxisWidthLeft;e.dCtx.timescaleLabels[e.dCtx.timescaleLabels.length-1].position+r/1.75-e.dCtx.yAxisWidthRight>a.svgWidth-a.translateX-("right"===i.config.legend.position&&e.dCtx.lgRect.width>0?e.dCtx.lgRect.width:0)&&(a.skipLastTimelinelabel=!0),b<-(f.show&&!f.floating||"bar"!==n.chart.type&&"candlestick"!==n.chart.type&&"rangeBar"!==n.chart.type&&"boxPlot"!==n.chart.type?10:r/1.75)&&(a.skipFirstTimelinelabel=!0)}else"datetime"===o?e.dCtx.gridPad.right<r&&!a.rotateXLabels&&(a.skipLastTimelinelabel=!0):"datetime"!==o&&e.dCtx.gridPad.right<r/2-e.dCtx.yAxisWidthRight&&!a.rotateXLabels&&!i.config.xaxis.labels.trim&&(e.dCtx.xPadRight=r/2+1)}(p)}(p,g)})}}]),A}(),ie=function(){function A(t){q(this,A),this.w=t.w,this.dCtx=t}return W(A,[{key:"getyAxisLabelsCoords",value:function(){var t=this,e=this.w,i=[],a=10,n=new Ft(this.dCtx.ctx);return e.config.yaxis.map(function(o,r){var h={seriesIndex:r,dataPointIndex:-1,w:e},d=e.globals.yAxisScale[r],p=0;if(!n.isYAxisHidden(r)&&o.labels.show&&void 0!==o.labels.minWidth&&(p=o.labels.minWidth),!n.isYAxisHidden(r)&&o.labels.show&&d.result.length){var g=e.globals.yLabelFormatters[r],x=d.result.reduce(function(m,w){var T,P;return(null===(T=String(g(m,h)))||void 0===T?void 0:T.length)>(null===(P=String(g(w,h)))||void 0===P?void 0:P.length)?m:w},d.niceMin===Number.MIN_VALUE?0:d.niceMin),y=x=g(x,h);if(void 0!==x&&0!==x.length||(x=d.niceMax),e.globals.isBarHorizontal){a=0;var b=e.globals.labels.slice();x=R.getLargestStringFromArr(b),x=g(x,{seriesIndex:r,dataPointIndex:-1,w:e}),y=t.dCtx.dimHelpers.getLargestStringFromMultiArr(x,b)}var k=new H(t.dCtx.ctx),S="rotate(".concat(o.labels.rotate," 0 0)"),C=k.getTextRects(x,o.labels.style.fontSize,o.labels.style.fontFamily,S,!1),c=C;x!==y&&(c=k.getTextRects(y,o.labels.style.fontSize,o.labels.style.fontFamily,S,!1)),i.push({width:(p>c.width||p>C.width?p:c.width>C.width?c.width:C.width)+a,height:c.height>C.height?c.height:C.height})}else i.push({width:0,height:0})}),i}},{key:"getyAxisTitleCoords",value:function(){var t=this,i=[];return this.w.config.yaxis.map(function(a,n){if(a.show&&void 0!==a.title.text){var o=new H(t.dCtx.ctx),r="rotate(".concat(a.title.rotate," 0 0)"),h=o.getTextRects(a.title.text,a.title.style.fontSize,a.title.style.fontFamily,r,!1);i.push({width:h.width,height:h.height})}else i.push({width:0,height:0})}),i}},{key:"getTotalYAxisWidth",value:function(){var t=this.w,e=0,i=0,a=0,n=t.globals.yAxisScale.length>1?10:0,o=new Ft(this.dCtx.ctx),r=function(h,d){var p=t.config.yaxis[d].floating,g=0;h.width>0&&!p?(g=h.width+n,t.globals.ignoreYAxisIndexes.indexOf(d)>-1&&(g=g-h.width-n)):g=p||o.isYAxisHidden(d)?0:5,t.config.yaxis[d].opposite?a+=g:i+=g,e+=g};return t.globals.yLabelsCoords.map(function(h,d){r(h,d)}),t.globals.yTitleCoords.map(function(h,d){r(h,d)}),t.globals.isBarHorizontal&&!t.config.yaxis[0].floating&&(e=t.globals.yLabelsCoords[0].width+t.globals.yTitleCoords[0].width+15),this.dCtx.yAxisWidthLeft=i,this.dCtx.yAxisWidthRight=a,e}}]),A}(),tt=function(){function A(t){q(this,A),this.w=t.w,this.dCtx=t}return W(A,[{key:"gridPadForColumnsInNumericAxis",value:function(t){var e=this.w,i=e.config,a=e.globals;if(a.noData||a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===i.series.length)return 0;var n=function(x){return["bar","rangeBar","candlestick","boxPlot"].includes(x)},o=i.chart.type,r=0,h=n(o)?i.series.length:1;a.comboBarCount>0&&(h=a.comboBarCount),a.collapsedSeries.forEach(function(x){n(x.type)&&(h-=1)}),i.chart.stacked&&(h=1);var d=n(o)||a.comboBarCount>0,p=Math.abs(a.initialMaxX-a.initialMinX);if(d&&a.isXNumeric&&!a.isBarHorizontal&&h>0&&0!==p){p<=3&&(p=a.dataPoints);var g=p/t,f=a.minXDiff&&a.minXDiff/g>0?a.minXDiff/g:0;f>t/2&&(f/=2),(r=f*parseInt(i.plotOptions.bar.columnWidth,10)/100)<1&&(r=1),a.barPadForNumericAxis=r}return r}},{key:"gridPadFortitleSubtitle",value:function(){var t=this,e=this.w,i=e.globals,a=this.dCtx.isSparkline||!i.axisCharts?0:10;["title","subtitle"].forEach(function(r){a+=void 0!==e.config[r].text?e.config[r].margin:t.dCtx.isSparkline||!i.axisCharts?0:5}),!e.config.legend.show||"bottom"!==e.config.legend.position||e.config.legend.floating||i.axisCharts||(a+=10);var n=this.dCtx.dimHelpers.getTitleSubtitleCoords("title"),o=this.dCtx.dimHelpers.getTitleSubtitleCoords("subtitle");i.gridHeight-=n.height+o.height+a,i.translateY+=n.height+o.height+a}},{key:"setGridXPosForDualYAxis",value:function(t,e){var i=this.w,a=new Ft(this.dCtx.ctx);i.config.yaxis.forEach(function(n,o){-1!==i.globals.ignoreYAxisIndexes.indexOf(o)||n.floating||a.isYAxisHidden(o)||(n.opposite&&(i.globals.translateX-=e[o].width+t[o].width+parseInt(n.labels.style.fontSize,10)/1.2+12),i.globals.translateX<2&&(i.globals.translateX=2))})}}]),A}(),Xe=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w,this.lgRect={},this.yAxisWidth=0,this.yAxisWidthLeft=0,this.yAxisWidthRight=0,this.xAxisHeight=0,this.isSparkline=this.w.config.chart.sparkline.enabled,this.dimHelpers=new oi(this),this.dimYAxis=new ie(this),this.dimXAxis=new We(this),this.dimGrid=new tt(this),this.lgWidthForSideLegends=0,this.gridPad=this.w.config.grid.padding,this.xPadRight=0,this.xPadLeft=0}return W(A,[{key:"plotCoords",value:function(){var t=this,e=this.w,i=e.globals;this.lgRect=this.dimHelpers.getLegendsRect(),this.datalabelsCoords={width:0,height:0};var a=Array.isArray(e.config.stroke.width)?Math.max.apply(Math,Rt(e.config.stroke.width)):e.config.stroke.width;this.isSparkline&&((e.config.markers.discrete.length>0||e.config.markers.size>0)&&Object.entries(this.gridPad).forEach(function(o){var r=ii(o,2);t.gridPad[r[0]]=Math.max(r[1],t.w.globals.markers.largestSize/1.5)}),this.gridPad.top=Math.max(a/2,this.gridPad.top),this.gridPad.bottom=Math.max(a/2,this.gridPad.bottom)),i.axisCharts?this.setDimensionsForAxisCharts():this.setDimensionsForNonAxisCharts(),this.dimGrid.gridPadFortitleSubtitle(),i.gridHeight=i.gridHeight-this.gridPad.top-this.gridPad.bottom,i.gridWidth=i.gridWidth-this.gridPad.left-this.gridPad.right-this.xPadRight-this.xPadLeft;var n=this.dimGrid.gridPadForColumnsInNumericAxis(i.gridWidth);i.gridWidth=i.gridWidth-2*n,i.translateX=i.translateX+this.gridPad.left+this.xPadLeft+(n>0?n:0),i.translateY=i.translateY+this.gridPad.top}},{key:"setDimensionsForAxisCharts",value:function(){var t=this,e=this.w,i=e.globals,a=this.dimYAxis.getyAxisLabelsCoords(),n=this.dimYAxis.getyAxisTitleCoords();i.isSlopeChart&&(this.datalabelsCoords=this.dimHelpers.getDatalabelsRect()),e.globals.yLabelsCoords=[],e.globals.yTitleCoords=[],e.config.yaxis.map(function(x,y){e.globals.yLabelsCoords.push({width:a[y].width,index:y}),e.globals.yTitleCoords.push({width:n[y].width,index:y})}),this.yAxisWidth=this.dimYAxis.getTotalYAxisWidth();var o=this.dimXAxis.getxAxisLabelsCoords(),r=this.dimXAxis.getxAxisGroupLabelsCoords(),h=this.dimXAxis.getxAxisTitleCoords();this.conditionalChecksForAxisCoords(o,h,r),i.translateXAxisY=e.globals.rotateXLabels?this.xAxisHeight/8:-4,i.translateXAxisX=e.globals.rotateXLabels&&e.globals.isXNumeric&&e.config.xaxis.labels.rotate<=-45?-this.xAxisWidth/4:0,e.globals.isBarHorizontal&&(i.rotateXLabels=!1,i.translateXAxisY=parseInt(e.config.xaxis.labels.style.fontSize,10)/1.5*-1),i.translateXAxisY=i.translateXAxisY+e.config.xaxis.labels.offsetY,i.translateXAxisX=i.translateXAxisX+e.config.xaxis.labels.offsetX;var d=this.yAxisWidth,p=this.xAxisHeight;i.xAxisLabelsHeight=this.xAxisHeight-h.height,i.xAxisGroupLabelsHeight=i.xAxisLabelsHeight-o.height,i.xAxisLabelsWidth=this.xAxisWidth,i.xAxisHeight=this.xAxisHeight;var g=10;("radar"===e.config.chart.type||this.isSparkline)&&(d=0,p=0),this.isSparkline&&(this.lgRect={height:0,width:0}),(this.isSparkline||"treemap"===e.config.chart.type)&&(d=0,p=0,g=0),this.isSparkline||"treemap"===e.config.chart.type||this.dimXAxis.additionalPaddingXLabels(o);var f=function(){i.translateX=d+t.datalabelsCoords.width,i.gridHeight=i.svgHeight-t.lgRect.height-p-(t.isSparkline||"treemap"===e.config.chart.type?0:e.globals.rotateXLabels?10:15),i.gridWidth=i.svgWidth-d-2*t.datalabelsCoords.width};switch("top"===e.config.xaxis.position&&(g=i.xAxisHeight-e.config.xaxis.axisTicks.height-5),e.config.legend.position){case"bottom":i.translateY=g,f();break;case"top":i.translateY=this.lgRect.height+g,f();break;case"left":i.translateY=g,i.translateX=this.lgRect.width+d+this.datalabelsCoords.width,i.gridHeight=i.svgHeight-p-12,i.gridWidth=i.svgWidth-this.lgRect.width-d-2*this.datalabelsCoords.width;break;case"right":i.translateY=g,i.translateX=d+this.datalabelsCoords.width,i.gridHeight=i.svgHeight-p-12,i.gridWidth=i.svgWidth-this.lgRect.width-d-2*this.datalabelsCoords.width-5;break;default:throw new Error("Legend position not supported")}this.dimGrid.setGridXPosForDualYAxis(n,a),new pe(this.ctx).setYAxisXPosition(a,n)}},{key:"setDimensionsForNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=t.config,a=0;t.config.legend.show&&!t.config.legend.floating&&(a=20);var n="pie"===i.chart.type||"polarArea"===i.chart.type||"donut"===i.chart.type?"pie":"radialBar",o=i.plotOptions[n].offsetY,r=i.plotOptions[n].offsetX;if(!i.legend.show||i.legend.floating){e.gridHeight=e.svgHeight;var h=e.dom.elWrap.getBoundingClientRect().width;return e.gridWidth=Math.min(h,e.gridHeight),e.translateY=o,void(e.translateX=r+(e.svgWidth-e.gridWidth)/2)}switch(i.legend.position){case"bottom":e.gridHeight=e.svgHeight-this.lgRect.height,e.gridWidth=e.svgWidth,e.translateY=o-10,e.translateX=r+(e.svgWidth-e.gridWidth)/2;break;case"top":e.gridHeight=e.svgHeight-this.lgRect.height,e.gridWidth=e.svgWidth,e.translateY=this.lgRect.height+o+10,e.translateX=r+(e.svgWidth-e.gridWidth)/2;break;case"left":e.gridWidth=e.svgWidth-this.lgRect.width-a,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=o,e.translateX=r+this.lgRect.width+a;break;case"right":e.gridWidth=e.svgWidth-this.lgRect.width-a-5,e.gridHeight="auto"!==i.chart.height?e.svgHeight:e.gridWidth,e.translateY=o,e.translateX=r+10;break;default:throw new Error("Legend position not supported")}}},{key:"conditionalChecksForAxisCoords",value:function(t,e,i){var a=this.w;this.xAxisHeight=(i.height+t.height+e.height)*(a.globals.isMultiLineX?1.2:a.globals.LINE_HEIGHT_RATIO)+(a.globals.hasXaxisGroups?2:1)*(a.globals.rotateXLabels?22:10)+(a.globals.rotateXLabels&&"bottom"===a.config.legend.position?10:0),this.xAxisWidth=t.width,this.xAxisHeight-e.height>a.config.xaxis.labels.maxHeight&&(this.xAxisHeight=a.config.xaxis.labels.maxHeight),a.config.xaxis.labels.minHeight&&this.xAxisHeight<a.config.xaxis.labels.minHeight&&(this.xAxisHeight=a.config.xaxis.labels.minHeight),a.config.xaxis.floating&&(this.xAxisHeight=0);var p=0,g=0;a.config.yaxis.forEach(function(f){p+=f.labels.minWidth,g+=f.labels.maxWidth}),this.yAxisWidth<p&&(this.yAxisWidth=p),this.yAxisWidth>g&&(this.yAxisWidth=g)}}]),A}(),Ai=function(){function A(t){q(this,A),this.w=t.w,this.lgCtx=t}return W(A,[{key:"getLegendStyles",value:function(){var t,e,i,a=document.createElement("style");a.setAttribute("type","text/css");var n=(null===(t=this.lgCtx.ctx)||void 0===t||null===(e=t.opts)||void 0===e||null===(i=e.chart)||void 0===i?void 0:i.nonce)||this.w.config.chart.nonce;n&&a.setAttribute("nonce",n);var o=document.createTextNode("\n      .apexcharts-flip-y {\n        transform: scaleY(-1) translateY(-100%);\n        transform-origin: top;\n        transform-box: fill-box;\n      }\n      .apexcharts-flip-x {\n        transform: scaleX(-1);\n        transform-origin: center;\n        transform-box: fill-box;\n      }\n      .apexcharts-legend {\n        display: flex;\n        overflow: auto;\n        padding: 0 10px;\n      }\n      .apexcharts-legend.apx-legend-position-bottom, .apexcharts-legend.apx-legend-position-top {\n        flex-wrap: wrap\n      }\n      .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\n        flex-direction: column;\n        bottom: 0;\n      }\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-left, .apexcharts-legend.apx-legend-position-top.apexcharts-align-left, .apexcharts-legend.apx-legend-position-right, .apexcharts-legend.apx-legend-position-left {\n        justify-content: flex-start;\n      }\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-center, .apexcharts-legend.apx-legend-position-top.apexcharts-align-center {\n        justify-content: center;\n      }\n      .apexcharts-legend.apx-legend-position-bottom.apexcharts-align-right, .apexcharts-legend.apx-legend-position-top.apexcharts-align-right {\n        justify-content: flex-end;\n      }\n      .apexcharts-legend-series {\n        cursor: pointer;\n        line-height: normal;\n        display: flex;\n        align-items: center;\n      }\n      .apexcharts-legend-text {\n        position: relative;\n        font-size: 14px;\n      }\n      .apexcharts-legend-text *, .apexcharts-legend-marker * {\n        pointer-events: none;\n      }\n      .apexcharts-legend-marker {\n        position: relative;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        margin-right: 1px;\n      }\n\n      .apexcharts-legend-series.apexcharts-no-click {\n        cursor: auto;\n      }\n      .apexcharts-legend .apexcharts-hidden-zero-series, .apexcharts-legend .apexcharts-hidden-null-series {\n        display: none !important;\n      }\n      .apexcharts-inactive-legend {\n        opacity: 0.45;\n      }");return a.appendChild(o),a}},{key:"getLegendDimensions",value:function(){var t=this.w.globals.dom.baseEl.querySelector(".apexcharts-legend").getBoundingClientRect();return{clwh:t.height,clww:t.width}}},{key:"appendToForeignObject",value:function(){this.w.globals.dom.elLegendForeign.appendChild(this.getLegendStyles())}},{key:"toggleDataSeries",value:function(t,e){var i=this,a=this.w;if(a.globals.axisCharts||"radialBar"===a.config.chart.type){a.globals.resized=!0;var n=null,o=null;a.globals.risingSeries=[],a.globals.axisCharts?(n=a.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(t,"']")),o=parseInt(n.getAttribute("data:realIndex"),10)):(n=a.globals.dom.baseEl.querySelector(".apexcharts-series[rel='".concat(t+1,"']")),o=parseInt(n.getAttribute("rel"),10)-1),e?[{cs:a.globals.collapsedSeries,csi:a.globals.collapsedSeriesIndices},{cs:a.globals.ancillaryCollapsedSeries,csi:a.globals.ancillaryCollapsedSeriesIndices}].forEach(function(p){i.riseCollapsedSeries(p.cs,p.csi,o)}):this.hideSeries({seriesEl:n,realIndex:o})}else{var r=a.globals.dom.Paper.select(" .apexcharts-series[rel='".concat(t+1,"'] path")),h=a.config.chart.type;if("pie"===h||"polarArea"===h||"donut"===h){var d=a.config.plotOptions.pie.donut.labels;new H(this.lgCtx.ctx).pathMouseDown(r.members[0],null),this.lgCtx.ctx.pie.printDataLabelsInner(r.members[0].node,d)}r.fire("click")}}},{key:"getSeriesAfterCollapsing",value:function(t){var e=t.realIndex,i=this.w,a=i.globals,n=R.clone(i.config.series);if(a.axisCharts){var o=i.config.yaxis[a.seriesYAxisReverseMap[e]],r={index:e,data:n[e].data.slice(),type:n[e].type||i.config.chart.type};if(o&&o.show&&o.showAlways)a.ancillaryCollapsedSeriesIndices.indexOf(e)<0&&(a.ancillaryCollapsedSeries.push(r),a.ancillaryCollapsedSeriesIndices.push(e));else if(a.collapsedSeriesIndices.indexOf(e)<0){a.collapsedSeries.push(r),a.collapsedSeriesIndices.push(e);var h=a.risingSeries.indexOf(e);a.risingSeries.splice(h,1)}}else a.collapsedSeries.push({index:e,data:n[e]}),a.collapsedSeriesIndices.push(e);return a.allSeriesCollapsed=a.collapsedSeries.length+a.ancillaryCollapsedSeries.length===i.config.series.length,this._getSeriesBasedOnCollapsedState(n)}},{key:"hideSeries",value:function(t){for(var e=t.seriesEl,a=this.w,n=this.getSeriesAfterCollapsing({realIndex:t.realIndex}),o=e.childNodes,r=0;r<o.length;r++)o[r].classList.contains("apexcharts-series-markers-wrap")&&(o[r].classList.contains("apexcharts-hide")?o[r].classList.remove("apexcharts-hide"):o[r].classList.add("apexcharts-hide"));this.lgCtx.ctx.updateHelpers._updateSeries(n,a.config.chart.animations.dynamicAnimation.enabled)}},{key:"riseCollapsedSeries",value:function(t,e,i){var a=this.w,n=R.clone(a.config.series);if(t.length>0){for(var o=0;o<t.length;o++)t[o].index===i&&(a.globals.axisCharts?n[i].data=t[o].data.slice():n[i]=t[o].data,n[i].hidden=!1,t.splice(o,1),e.splice(o,1),a.globals.risingSeries.push(i));n=this._getSeriesBasedOnCollapsedState(n),this.lgCtx.ctx.updateHelpers._updateSeries(n,a.config.chart.animations.dynamicAnimation.enabled)}}},{key:"_getSeriesBasedOnCollapsedState",value:function(t){var e=this.w,i=0;return t.forEach(e.globals.axisCharts?function(a,n){e.globals.collapsedSeriesIndices.indexOf(n)<0&&e.globals.ancillaryCollapsedSeriesIndices.indexOf(n)<0||(t[n].data=[],i++)}:function(a,n){!e.globals.collapsedSeriesIndices.indexOf(n)<0&&(t[n]=0,i++)}),e.globals.allSeriesCollapsed=i===t.length,t}}]),A}(),ri=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w,this.onLegendClick=this.onLegendClick.bind(this),this.onLegendHovered=this.onLegendHovered.bind(this),this.isBarsDistributed="bar"===this.w.config.chart.type&&this.w.config.plotOptions.bar.distributed&&1===this.w.config.series.length,this.legendHelpers=new Ai(this)}return W(A,[{key:"init",value:function(){var t=this.w,e=t.globals,i=t.config,a=i.legend.showForSingleSeries&&1===e.series.length||this.isBarsDistributed||e.series.length>1;if(this.legendHelpers.appendToForeignObject(),(a||!e.axisCharts)&&i.legend.show){for(;e.dom.elLegendWrap.firstChild;)e.dom.elLegendWrap.removeChild(e.dom.elLegendWrap.firstChild);this.drawLegends(),"bottom"===i.legend.position||"top"===i.legend.position?this.legendAlignHorizontal():"right"!==i.legend.position&&"left"!==i.legend.position||this.legendAlignVertical()}}},{key:"createLegendMarker",value:function(t){var e=t.i,i=t.fillcolor,a=this.w,n=document.createElement("span");n.classList.add("apexcharts-legend-marker");var o=a.config.legend.markers.shape||a.config.markers.shape,r=o;Array.isArray(o)&&(r=o[e]);var h=Array.isArray(a.config.legend.markers.size)?parseFloat(a.config.legend.markers.size[e]):parseFloat(a.config.legend.markers.size),d=Array.isArray(a.config.legend.markers.offsetX)?parseFloat(a.config.legend.markers.offsetX[e]):parseFloat(a.config.legend.markers.offsetX),p=Array.isArray(a.config.legend.markers.offsetY)?parseFloat(a.config.legend.markers.offsetY[e]):parseFloat(a.config.legend.markers.offsetY),g=Array.isArray(a.config.legend.markers.strokeWidth)?parseFloat(a.config.legend.markers.strokeWidth[e]):parseFloat(a.config.legend.markers.strokeWidth),f=n.style;if(f.height=2*(h+g)+"px",f.width=2*(h+g)+"px",f.left=d+"px",f.top=p+"px",a.config.legend.markers.customHTML)f.background="transparent",f.color=i[e],Array.isArray(a.config.legend.markers.customHTML)?a.config.legend.markers.customHTML[e]&&(n.innerHTML=a.config.legend.markers.customHTML[e]()):n.innerHTML=a.config.legend.markers.customHTML();else{var x=new jt(this.ctx).getMarkerConfig({cssClass:"apexcharts-legend-marker apexcharts-marker apexcharts-marker-".concat(r),seriesIndex:e,strokeWidth:g,size:h}),y=SVG(n).size("100%","100%"),b=new H(this.ctx).drawMarker(0,0,Z(Z({},x),{},{pointFillColor:Array.isArray(i)?i[e]:x.pointFillColor,shape:r}));SVG.select(".apexcharts-legend-marker.apexcharts-marker").members.forEach(function(k){k.node.style.transform=k.node.classList.contains("apexcharts-marker-triangle")?"translate(50%, 45%)":"translate(50%, 50%)"}),y.add(b)}return n}},{key:"drawLegends",value:function(){var t=this,e=this.w,i=e.config.legend.fontFamily,a=e.globals.seriesNames,n=e.config.legend.markers.fillColors?e.config.legend.markers.fillColors.slice():e.globals.colors.slice();if("heatmap"===e.config.chart.type){var o=e.config.plotOptions.heatmap.colorScale.ranges;a=o.map(function(w){return w.name?w.name:w.from+" - "+w.to}),n=o.map(function(w){return w.color})}else this.isBarsDistributed&&(a=e.globals.labels.slice());e.config.legend.customLegendItems.length&&(a=e.config.legend.customLegendItems);for(var r=e.globals.legendFormatter,h=e.config.legend.inverseOrder,d=h?a.length-1:0;h?d>=0:d<=a.length-1;h?d--:d++){var p,g=r(a[d],{seriesIndex:d,w:e}),f=!1,x=!1;if(e.globals.collapsedSeries.length>0)for(var y=0;y<e.globals.collapsedSeries.length;y++)e.globals.collapsedSeries[y].index===d&&(f=!0);if(e.globals.ancillaryCollapsedSeriesIndices.length>0)for(var b=0;b<e.globals.ancillaryCollapsedSeriesIndices.length;b++)e.globals.ancillaryCollapsedSeriesIndices[b]===d&&(x=!0);var k=this.createLegendMarker({i:d,fillcolor:n});H.setAttrs(k,{rel:d+1,"data:collapsed":f||x}),(f||x)&&k.classList.add("apexcharts-inactive-legend");var S=document.createElement("div"),C=document.createElement("span");C.classList.add("apexcharts-legend-text"),C.innerHTML=Array.isArray(g)?g.join(" "):g;var c=e.config.legend.labels.useSeriesColors?e.globals.colors[d]:Array.isArray(e.config.legend.labels.colors)?null===(p=e.config.legend.labels.colors)||void 0===p?void 0:p[d]:e.config.legend.labels.colors;c||(c=e.config.chart.foreColor),C.style.color=c,C.style.fontSize=parseFloat(e.config.legend.fontSize)+"px",C.style.fontWeight=e.config.legend.fontWeight,C.style.fontFamily=i||e.config.chart.fontFamily,H.setAttrs(C,{rel:d+1,i:d,"data:default-text":encodeURIComponent(g),"data:collapsed":f||x}),S.appendChild(k),S.appendChild(C);var m=new Lt(this.ctx);e.config.legend.showForZeroSeries||0===m.getSeriesTotalByIndex(d)&&m.seriesHaveSameValues(d)&&!m.isSeriesNull(d)&&-1===e.globals.collapsedSeriesIndices.indexOf(d)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(d)&&S.classList.add("apexcharts-hidden-zero-series"),e.config.legend.showForNullSeries||m.isSeriesNull(d)&&-1===e.globals.collapsedSeriesIndices.indexOf(d)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(d)&&S.classList.add("apexcharts-hidden-null-series"),e.globals.dom.elLegendWrap.appendChild(S),e.globals.dom.elLegendWrap.classList.add("apexcharts-align-".concat(e.config.legend.horizontalAlign)),e.globals.dom.elLegendWrap.classList.add("apx-legend-position-"+e.config.legend.position),S.classList.add("apexcharts-legend-series"),S.style.margin="".concat(e.config.legend.itemMargin.vertical,"px ").concat(e.config.legend.itemMargin.horizontal,"px"),e.globals.dom.elLegendWrap.style.width=e.config.legend.width?e.config.legend.width+"px":"",e.globals.dom.elLegendWrap.style.height=e.config.legend.height?e.config.legend.height+"px":"",H.setAttrs(S,{rel:d+1,seriesName:R.escapeString(a[d]),"data:collapsed":f||x}),(f||x)&&S.classList.add("apexcharts-inactive-legend"),e.config.legend.onItemClick.toggleDataSeries||S.classList.add("apexcharts-no-click")}e.globals.dom.elWrap.addEventListener("click",t.onLegendClick,!0),e.config.legend.onItemHover.highlightDataSeries&&0===e.config.legend.customLegendItems.length&&(e.globals.dom.elWrap.addEventListener("mousemove",t.onLegendHovered,!0),e.globals.dom.elWrap.addEventListener("mouseout",t.onLegendHovered,!0))}},{key:"setLegendWrapXY",value:function(t,e){var i=this.w,a=i.globals.dom.elLegendWrap,o=0,r=0;if("bottom"===i.config.legend.position)r=i.globals.svgHeight-Math.min(a.clientHeight,i.globals.svgHeight/2)-5;else if("top"===i.config.legend.position){var h=new Xe(this.ctx),d=h.dimHelpers.getTitleSubtitleCoords("title").height,p=h.dimHelpers.getTitleSubtitleCoords("subtitle").height;r=(d>0?d-10:0)+(p>0?p-10:0)}a.style.position="absolute",r=r+e+i.config.legend.offsetY,a.style.left=(o=o+t+i.config.legend.offsetX)+"px",a.style.top=r+"px","right"===i.config.legend.position&&(a.style.left="auto",a.style.right=25+i.config.legend.offsetX+"px"),["width","height"].forEach(function(g){a.style[g]&&(a.style[g]=parseInt(i.config.legend[g],10)+"px")})}},{key:"legendAlignHorizontal",value:function(){var t=this.w;t.globals.dom.elLegendWrap.style.right=0;var e=new Xe(this.ctx),i=e.dimHelpers.getTitleSubtitleCoords("title"),a=e.dimHelpers.getTitleSubtitleCoords("subtitle"),n=0;"top"===t.config.legend.position&&(n=i.height+a.height+t.config.title.margin+t.config.subtitle.margin-10),this.setLegendWrapXY(20,n)}},{key:"legendAlignVertical",value:function(){var t=this.w,e=this.legendHelpers.getLegendDimensions(),i=0;"left"===t.config.legend.position&&(i=20),"right"===t.config.legend.position&&(i=t.globals.svgWidth-e.clww-10),this.setLegendWrapXY(i,20)}},{key:"onLegendHovered",value:function(t){var e=this.w,i=t.target.classList.contains("apexcharts-legend-series")||t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker");if("heatmap"===e.config.chart.type||this.isBarsDistributed){if(i){var a=parseInt(t.target.getAttribute("rel"),10)-1;this.ctx.events.fireEvent("legendHover",[this.ctx,a,this.w]),new Nt(this.ctx).highlightRangeInSeries(t,t.target)}}else!t.target.classList.contains("apexcharts-inactive-legend")&&i&&new Nt(this.ctx).toggleSeriesOnHover(t,t.target)}},{key:"onLegendClick",value:function(t){var e=this.w;if(!e.config.legend.customLegendItems.length&&(t.target.classList.contains("apexcharts-legend-series")||t.target.classList.contains("apexcharts-legend-text")||t.target.classList.contains("apexcharts-legend-marker"))){var i=parseInt(t.target.getAttribute("rel"),10)-1,a="true"===t.target.getAttribute("data:collapsed"),n=this.w.config.chart.events.legendClick;"function"==typeof n&&n(this.ctx,i,this.w),this.ctx.events.fireEvent("legendClick",[this.ctx,i,this.w]);var o=this.w.config.legend.markers.onClick;"function"==typeof o&&t.target.classList.contains("apexcharts-legend-marker")&&(o(this.ctx,i,this.w),this.ctx.events.fireEvent("legendMarkerClick",[this.ctx,i,this.w])),"treemap"!==e.config.chart.type&&"heatmap"!==e.config.chart.type&&!this.isBarsDistributed&&e.config.legend.onItemClick.toggleDataSeries&&this.legendHelpers.toggleDataSeries(i,a)}}}]),A}(),li=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w;var e=this.w;this.ev=this.w.config.chart.events,this.selectedClass="apexcharts-selected",this.localeValues=this.w.globals.locale.toolbar,this.minX=e.globals.minX,this.maxX=e.globals.maxX}return W(A,[{key:"createToolbar",value:function(){var t=this,e=this.w,i=function(){return document.createElement("div")},a=i();if(a.setAttribute("class","apexcharts-toolbar"),a.style.top=e.config.chart.toolbar.offsetY+"px",a.style.right=3-e.config.chart.toolbar.offsetX+"px",e.globals.dom.elWrap.appendChild(a),this.elZoom=i(),this.elZoomIn=i(),this.elZoomOut=i(),this.elPan=i(),this.elSelection=i(),this.elZoomReset=i(),this.elMenuIcon=i(),this.elMenu=i(),this.elCustomIcons=[],this.t=e.config.chart.toolbar.tools,Array.isArray(this.t.customIcons))for(var n=0;n<this.t.customIcons.length;n++)this.elCustomIcons.push(i());var o=[],r=function(g,f,x){var y=g.toLowerCase();t.t[y]&&e.config.chart.zoom.enabled&&o.push({el:f,icon:"string"==typeof t.t[y]?t.t[y]:x,title:t.localeValues[g],class:"apexcharts-".concat(y,"-icon")})};r("zoomIn",this.elZoomIn,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n'),r("zoomOut",this.elZoomOut,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>\n</svg>\n');var h=function(g){t.t[g]&&e.config.chart[g].enabled&&o.push({el:"zoom"===g?t.elZoom:t.elSelection,icon:"string"==typeof t.t[g]?t.t[g]:"zoom"===g?'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>\n    <path d="M0 0h24v24H0V0z" fill="none"/>\n    <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>\n</svg>':'<svg fill="#6E8192" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M0 0h24v24H0z" fill="none"/>\n    <path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2z"/>\n</svg>',title:t.localeValues["zoom"===g?"selectionZoom":"selection"],class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-".concat(g,"-icon")})};h("zoom"),h("selection"),this.t.pan&&e.config.chart.zoom.enabled&&o.push({el:this.elPan,icon:"string"==typeof this.t.pan?this.t.pan:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="24" viewBox="0 0 24 24" width="24">\n    <defs>\n        <path d="M0 0h24v24H0z" id="a"/>\n    </defs>\n    <clipPath id="b">\n        <use overflow="visible" xlink:href="#a"/>\n    </clipPath>\n    <path clip-path="url(#b)" d="M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"/>\n</svg>',title:this.localeValues.pan,class:e.globals.isTouchDevice?"apexcharts-element-hidden":"apexcharts-pan-icon"}),r("reset",this.elZoomReset,'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>'),this.t.download&&o.push({el:this.elMenuIcon,icon:"string"==typeof this.t.download?this.t.download:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>',title:this.localeValues.menu,class:"apexcharts-menu-icon"});for(var d=0;d<this.elCustomIcons.length;d++)o.push({el:this.elCustomIcons[d],icon:this.t.customIcons[d].icon,title:this.t.customIcons[d].title,index:this.t.customIcons[d].index,class:"apexcharts-toolbar-custom-icon "+this.t.customIcons[d].class});o.forEach(function(g,f){g.index&&R.moveIndexInArray(o,f,g.index)});for(var p=0;p<o.length;p++)H.setAttrs(o[p].el,{class:o[p].class,title:o[p].title}),o[p].el.innerHTML=o[p].icon,a.appendChild(o[p].el);this._createHamburgerMenu(a),e.globals.zoomEnabled?this.elZoom.classList.add(this.selectedClass):e.globals.panEnabled?this.elPan.classList.add(this.selectedClass):e.globals.selectionEnabled&&this.elSelection.classList.add(this.selectedClass),this.addToolbarEventListeners()}},{key:"_createHamburgerMenu",value:function(t){this.elMenuItems=[],t.appendChild(this.elMenu),H.setAttrs(this.elMenu,{class:"apexcharts-menu"});for(var e=[{name:"exportSVG",title:this.localeValues.exportToSVG},{name:"exportPNG",title:this.localeValues.exportToPNG},{name:"exportCSV",title:this.localeValues.exportToCSV}],i=0;i<e.length;i++)this.elMenuItems.push(document.createElement("div")),this.elMenuItems[i].innerHTML=e[i].title,H.setAttrs(this.elMenuItems[i],{class:"apexcharts-menu-item ".concat(e[i].name),title:e[i].title}),this.elMenu.appendChild(this.elMenuItems[i])}},{key:"addToolbarEventListeners",value:function(){var t=this;this.elZoomReset.addEventListener("click",this.handleZoomReset.bind(this)),this.elSelection.addEventListener("click",this.toggleZoomSelection.bind(this,"selection")),this.elZoom.addEventListener("click",this.toggleZoomSelection.bind(this,"zoom")),this.elZoomIn.addEventListener("click",this.handleZoomIn.bind(this)),this.elZoomOut.addEventListener("click",this.handleZoomOut.bind(this)),this.elPan.addEventListener("click",this.togglePanning.bind(this)),this.elMenuIcon.addEventListener("click",this.toggleMenu.bind(this)),this.elMenuItems.forEach(function(i){i.classList.contains("exportSVG")?i.addEventListener("click",t.handleDownload.bind(t,"svg")):i.classList.contains("exportPNG")?i.addEventListener("click",t.handleDownload.bind(t,"png")):i.classList.contains("exportCSV")&&i.addEventListener("click",t.handleDownload.bind(t,"csv"))});for(var e=0;e<this.t.customIcons.length;e++)this.elCustomIcons[e].addEventListener("click",this.t.customIcons[e].click.bind(this,this.ctx,this.ctx.w))}},{key:"toggleZoomSelection",value:function(t){this.ctx.getSyncedCharts().forEach(function(e){e.ctx.toolbar.toggleOtherControls();var i="selection"===t?e.ctx.toolbar.elSelection:e.ctx.toolbar.elZoom,a="selection"===t?"selectionEnabled":"zoomEnabled";e.w.globals[a]=!e.w.globals[a],i.classList.contains(e.ctx.toolbar.selectedClass)?i.classList.remove(e.ctx.toolbar.selectedClass):i.classList.add(e.ctx.toolbar.selectedClass)})}},{key:"getToolbarIconsReference",value:function(){var t=this.w;this.elZoom||(this.elZoom=t.globals.dom.baseEl.querySelector(".apexcharts-zoom-icon")),this.elPan||(this.elPan=t.globals.dom.baseEl.querySelector(".apexcharts-pan-icon")),this.elSelection||(this.elSelection=t.globals.dom.baseEl.querySelector(".apexcharts-selection-icon"))}},{key:"enableZoomPanFromToolbar",value:function(t){this.toggleOtherControls(),"pan"===t?this.w.globals.panEnabled=!0:this.w.globals.zoomEnabled=!0;var e="pan"===t?this.elPan:this.elZoom,i="pan"===t?this.elZoom:this.elPan;e&&e.classList.add(this.selectedClass),i&&i.classList.remove(this.selectedClass)}},{key:"togglePanning",value:function(){this.ctx.getSyncedCharts().forEach(function(t){t.ctx.toolbar.toggleOtherControls(),t.w.globals.panEnabled=!t.w.globals.panEnabled,t.ctx.toolbar.elPan.classList.contains(t.ctx.toolbar.selectedClass)?t.ctx.toolbar.elPan.classList.remove(t.ctx.toolbar.selectedClass):t.ctx.toolbar.elPan.classList.add(t.ctx.toolbar.selectedClass)})}},{key:"toggleOtherControls",value:function(){var t=this,e=this.w;e.globals.panEnabled=!1,e.globals.zoomEnabled=!1,e.globals.selectionEnabled=!1,this.getToolbarIconsReference(),[this.elPan,this.elSelection,this.elZoom].forEach(function(i){i&&i.classList.remove(t.selectedClass)})}},{key:"handleZoomIn",value:function(){var t=this.w;t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY);var e=(this.minX+this.maxX)/2,n=this._getNewMinXMaxX((this.minX+e)/2,(this.maxX+e)/2);t.globals.disableZoomIn||this.zoomUpdateOptions(n.minX,n.maxX)}},{key:"handleZoomOut",value:function(){var t=this.w;if(t.globals.isRangeBar&&(this.minX=t.globals.minY,this.maxX=t.globals.maxY),!("datetime"===t.config.xaxis.type&&new Date(this.minX).getUTCFullYear()<1e3)){var e=(this.minX+this.maxX)/2,n=this._getNewMinXMaxX(this.minX-(e-this.minX),this.maxX-(e-this.maxX));t.globals.disableZoomOut||this.zoomUpdateOptions(n.minX,n.maxX)}}},{key:"_getNewMinXMaxX",value:function(t,e){var i=this.w.config.xaxis.convertedCatToNumeric;return{minX:i?Math.floor(t):t,maxX:i?Math.floor(e):e}}},{key:"zoomUpdateOptions",value:function(t,e){var i=this.w;if(void 0!==t||void 0!==e){if(!(i.config.xaxis.convertedCatToNumeric&&(t<1&&(t=1,e=i.globals.dataPoints),e-t<2))){var a={min:t,max:e},n=this.getBeforeZoomRange(a);n&&(a=n.xaxis);var o={xaxis:a},r=R.clone(i.globals.initialConfig.yaxis);i.config.chart.group||(o.yaxis=r),this.w.globals.zoomed=!0,this.ctx.updateHelpers._updateOptions(o,!1,this.w.config.chart.animations.dynamicAnimation.enabled),this.zoomCallback(a,r)}}else this.handleZoomReset()}},{key:"zoomCallback",value:function(t,e){"function"==typeof this.ev.zoomed&&this.ev.zoomed(this.ctx,{xaxis:t,yaxis:e})}},{key:"getBeforeZoomRange",value:function(t,e){var i=null;return"function"==typeof this.ev.beforeZoom&&(i=this.ev.beforeZoom(this,{xaxis:t,yaxis:e})),i}},{key:"toggleMenu",value:function(){var t=this;window.setTimeout(function(){t.elMenu.classList.contains("apexcharts-menu-open")?t.elMenu.classList.remove("apexcharts-menu-open"):t.elMenu.classList.add("apexcharts-menu-open")},0)}},{key:"handleDownload",value:function(t){var e=this.w,i=new He(this.ctx);switch(t){case"svg":i.exportToSVG(this.ctx);break;case"png":i.exportToPng(this.ctx);break;case"csv":i.exportToCSV({series:e.config.series,columnDelimiter:e.config.chart.toolbar.export.csv.columnDelimiter})}}},{key:"handleZoomReset",value:function(t){this.ctx.getSyncedCharts().forEach(function(e){var i=e.w;if(i.globals.lastXAxis.min=i.globals.initialConfig.xaxis.min,i.globals.lastXAxis.max=i.globals.initialConfig.xaxis.max,e.updateHelpers.revertDefaultAxisMinMax(),"function"==typeof i.config.chart.events.beforeResetZoom){var a=i.config.chart.events.beforeResetZoom(e,i);a&&e.updateHelpers.revertDefaultAxisMinMax(a)}"function"==typeof i.config.chart.events.zoomed&&e.ctx.toolbar.zoomCallback({min:i.config.xaxis.min,max:i.config.xaxis.max}),i.globals.zoomed=!1;var n=e.ctx.series.emptyCollapsedSeries(R.clone(i.globals.initialSeries));e.updateHelpers._updateSeries(n,i.config.chart.animations.dynamicAnimation.enabled)})}},{key:"destroy",value:function(){this.elZoom=null,this.elZoomIn=null,this.elZoomOut=null,this.elPan=null,this.elSelection=null,this.elZoomReset=null,this.elMenuIcon=null}}]),A}(),hi=function(A){kt(e,A);var t=ct(e);function e(i){var a;return q(this,e),(a=t.call(this,i)).ctx=i,a.w=i.w,a.dragged=!1,a.graphics=new H(a.ctx),a.eventList=["mousedown","mouseleave","mousemove","touchstart","touchmove","mouseup","touchend","wheel"],a.clientX=0,a.clientY=0,a.startX=0,a.endX=0,a.dragX=0,a.startY=0,a.endY=0,a.dragY=0,a.moveDirection="none",a.debounceTimer=null,a.debounceDelay=100,a.wheelDelay=400,a}return W(e,[{key:"init",value:function(i){var a=this,n=i.xyRatios,o=this.w,r=this;this.xyRatios=n,this.zoomRect=this.graphics.drawRect(0,0,0,0),this.selectionRect=this.graphics.drawRect(0,0,0,0),this.gridRect=o.globals.dom.baseEl.querySelector(".apexcharts-grid"),this.zoomRect.node.classList.add("apexcharts-zoom-rect"),this.selectionRect.node.classList.add("apexcharts-selection-rect"),o.globals.dom.elGraphical.add(this.zoomRect),o.globals.dom.elGraphical.add(this.selectionRect),this.slDraggableRect="x"===o.config.chart.selection.type?this.selectionRect.draggable({minX:0,minY:0,maxX:o.globals.gridWidth,maxY:o.globals.gridHeight}).on("dragmove",this.selectionDragging.bind(this,"dragging")):"y"===o.config.chart.selection.type?this.selectionRect.draggable({minX:0,maxX:o.globals.gridWidth}).on("dragmove",this.selectionDragging.bind(this,"dragging")):this.selectionRect.draggable().on("dragmove",this.selectionDragging.bind(this,"dragging")),this.preselectedSelection(),this.hoverArea=o.globals.dom.baseEl.querySelector("".concat(o.globals.chartClass," .apexcharts-svg")),this.hoverArea.classList.add("apexcharts-zoomable"),this.eventList.forEach(function(h){a.hoverArea.addEventListener(h,r.svgMouseEvents.bind(r,n),{capture:!1,passive:!0})}),o.config.chart.zoom.allowMouseWheelZoom&&this.hoverArea.addEventListener("wheel",r.mouseWheelEvent.bind(r),{capture:!1,passive:!1})}},{key:"destroy",value:function(){this.slDraggableRect&&(this.slDraggableRect.draggable(!1),this.slDraggableRect.off(),this.selectionRect.off()),this.selectionRect=null,this.zoomRect=null,this.gridRect=null}},{key:"svgMouseEvents",value:function(i,a){var n=this.w,o=this,r=this.ctx.toolbar,h=n.globals.zoomEnabled?n.config.chart.zoom.type:n.config.chart.selection.type,d=n.config.chart.toolbar.autoSelected;if(a.shiftKey?(this.shiftWasPressed=!0,r.enableZoomPanFromToolbar("pan"===d?"zoom":"pan")):this.shiftWasPressed&&(r.enableZoomPanFromToolbar(d),this.shiftWasPressed=!1),a.target){var p,g=a.target.classList;if(a.target.parentNode&&null!==a.target.parentNode&&(p=a.target.parentNode.classList),!(g.contains("apexcharts-selection-rect")||g.contains("apexcharts-legend-marker")||g.contains("apexcharts-legend-text")||p&&p.contains("apexcharts-toolbar"))){if(o.clientX="touchmove"===a.type||"touchstart"===a.type?a.touches[0].clientX:"touchend"===a.type?a.changedTouches[0].clientX:a.clientX,o.clientY="touchmove"===a.type||"touchstart"===a.type?a.touches[0].clientY:"touchend"===a.type?a.changedTouches[0].clientY:a.clientY,"mousedown"===a.type&&1===a.which){var f=o.gridRect.getBoundingClientRect();o.startX=o.clientX-f.left,o.startY=o.clientY-f.top,o.dragged=!1,o.w.globals.mousedown=!0}if(("mousemove"===a.type&&1===a.which||"touchmove"===a.type)&&(o.dragged=!0,n.globals.panEnabled?(n.globals.selection=null,o.w.globals.mousedown&&o.panDragging({context:o,zoomtype:h,xyRatios:i})):(o.w.globals.mousedown&&n.globals.zoomEnabled||o.w.globals.mousedown&&n.globals.selectionEnabled)&&(o.selection=o.selectionDrawing({context:o,zoomtype:h}))),"mouseup"===a.type||"touchend"===a.type||"mouseleave"===a.type){var x,y=null===(x=o.gridRect)||void 0===x?void 0:x.getBoundingClientRect();y&&o.w.globals.mousedown&&(o.endX=o.clientX-y.left,o.endY=o.clientY-y.top,o.dragX=Math.abs(o.endX-o.startX),o.dragY=Math.abs(o.endY-o.startY),(n.globals.zoomEnabled||n.globals.selectionEnabled)&&o.selectionDrawn({context:o,zoomtype:h}),n.globals.panEnabled&&n.config.xaxis.convertedCatToNumeric&&o.delayedPanScrolled()),n.globals.zoomEnabled&&o.hideSelectionRect(this.selectionRect),o.dragged=!1,o.w.globals.mousedown=!1}this.makeSelectionRectDraggable()}}}},{key:"mouseWheelEvent",value:function(i){var a=this,n=this.w;i.preventDefault();var o=Date.now();o-n.globals.lastWheelExecution>this.wheelDelay&&(this.executeMouseWheelZoom(i),n.globals.lastWheelExecution=o),this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){o-n.globals.lastWheelExecution>a.wheelDelay&&(a.executeMouseWheelZoom(i),n.globals.lastWheelExecution=o)},this.debounceDelay)}},{key:"executeMouseWheelZoom",value:function(i){var a,n=this.w;this.minX=n.globals.isRangeBar?n.globals.minY:n.globals.minX,this.maxX=n.globals.isRangeBar?n.globals.maxY:n.globals.maxX;var o=null===(a=this.gridRect)||void 0===a?void 0:a.getBoundingClientRect();if(o){var r,h,d,g=this.minX,f=this.maxX,x=f-g;if(i.deltaY<0){var y=g+(i.clientX-o.left)/o.width*x;h=y-(r=.5*x)/2,d=y+r/2}else h=g-(r=1.5*x)/2,d=f+r/2;if(!n.globals.isRangeBar){h=Math.max(h,n.globals.initialMinX),d=Math.min(d,n.globals.initialMaxX);var b=.01*(n.globals.initialMaxX-n.globals.initialMinX);if(d-h<b){var k=(h+d)/2;h=k-b/2,d=k+b/2}}var S=this._getNewMinXMaxX(h,d);isNaN(S.minX)||isNaN(S.maxX)||this.zoomUpdateOptions(S.minX,S.maxX)}}},{key:"makeSelectionRectDraggable",value:function(){var i=this.w;if(this.selectionRect){var a=this.selectionRect.node.getBoundingClientRect();a.width>0&&a.height>0&&this.slDraggableRect.selectize({points:"l, r",pointSize:8,pointType:"rect"}).resize({constraint:{minX:0,minY:0,maxX:i.globals.gridWidth,maxY:i.globals.gridHeight}}).on("resizing",this.selectionDragging.bind(this,"resizing"))}}},{key:"preselectedSelection",value:function(){var i=this.w,a=this.xyRatios;if(!i.globals.zoomEnabled)if(null!=i.globals.selection)this.drawSelectionRect(i.globals.selection);else if(void 0!==i.config.chart.selection.xaxis.min&&void 0!==i.config.chart.selection.xaxis.max){var n=(i.config.chart.selection.xaxis.min-i.globals.minX)/a.xRatio,o=i.globals.gridWidth-(i.globals.maxX-i.config.chart.selection.xaxis.max)/a.xRatio-n;i.globals.isRangeBar&&(n=(i.config.chart.selection.xaxis.min-i.globals.yAxisScale[0].niceMin)/a.invertedYRatio,o=(i.config.chart.selection.xaxis.max-i.config.chart.selection.xaxis.min)/a.invertedYRatio),this.drawSelectionRect({x:n,y:0,width:o,height:i.globals.gridHeight,translateX:0,translateY:0,selectionEnabled:!0}),this.makeSelectionRectDraggable(),"function"==typeof i.config.chart.events.selection&&i.config.chart.events.selection(this.ctx,{xaxis:{min:i.config.chart.selection.xaxis.min,max:i.config.chart.selection.xaxis.max},yaxis:{}})}}},{key:"drawSelectionRect",value:function(i){var a=i.x,n=i.y,o=i.width,r=i.height,h=i.translateX,p=i.translateY,f=this.w,x=this.zoomRect,y=this.selectionRect;if(this.dragged||null!==f.globals.selection){var b={transform:"translate("+(void 0===h?0:h)+", "+(void 0===p?0:p)+")"};f.globals.zoomEnabled&&this.dragged&&(o<0&&(o=1),x.attr({x:a,y:n,width:o,height:r,fill:f.config.chart.zoom.zoomedArea.fill.color,"fill-opacity":f.config.chart.zoom.zoomedArea.fill.opacity,stroke:f.config.chart.zoom.zoomedArea.stroke.color,"stroke-width":f.config.chart.zoom.zoomedArea.stroke.width,"stroke-opacity":f.config.chart.zoom.zoomedArea.stroke.opacity}),H.setAttrs(x.node,b)),f.globals.selectionEnabled&&(y.attr({x:a,y:n,width:o>0?o:0,height:r>0?r:0,fill:f.config.chart.selection.fill.color,"fill-opacity":f.config.chart.selection.fill.opacity,stroke:f.config.chart.selection.stroke.color,"stroke-width":f.config.chart.selection.stroke.width,"stroke-dasharray":f.config.chart.selection.stroke.dashArray,"stroke-opacity":f.config.chart.selection.stroke.opacity}),H.setAttrs(y.node,b))}}},{key:"hideSelectionRect",value:function(i){i&&i.attr({x:0,y:0,width:0,height:0})}},{key:"selectionDrawing",value:function(i){var b,n=i.zoomtype,o=this.w,r=i.context,h=this.gridRect.getBoundingClientRect(),d=r.startX-1,p=r.startY,g=!1,f=!1,x=r.clientX-h.left-d,y=r.clientY-h.top-p;return Math.abs(x+d)>o.globals.gridWidth?x=o.globals.gridWidth-d:r.clientX-h.left<0&&(x=d),d>r.clientX-h.left&&(g=!0,x=Math.abs(x)),p>r.clientY-h.top&&(f=!0,y=Math.abs(y)),r.drawSelectionRect(b="x"===n?{x:g?d-x:d,y:0,width:x,height:o.globals.gridHeight}:"y"===n?{x:0,y:f?p-y:p,width:o.globals.gridWidth,height:y}:{x:g?d-x:d,y:f?p-y:p,width:x,height:y}),r.selectionDragging("resizing"),b}},{key:"selectionDragging",value:function(i,a){var n=this,o=this.w,r=this.xyRatios,h=this.selectionRect,d=0;"resizing"===i&&(d=30);var p=function(f){return parseFloat(h.node.getAttribute(f))},g={x:p("x"),y:p("y"),width:p("width"),height:p("height")};o.globals.selection=g,"function"==typeof o.config.chart.events.selection&&o.globals.selectionEnabled&&(clearTimeout(this.w.globals.selectionResizeTimer),this.w.globals.selectionResizeTimer=window.setTimeout(function(){var f,x,y,b,k=n.gridRect.getBoundingClientRect(),S=h.node.getBoundingClientRect();o.globals.isRangeBar?(f=o.globals.yAxisScale[0].niceMin+(S.left-k.left)*r.invertedYRatio,x=o.globals.yAxisScale[0].niceMin+(S.right-k.left)*r.invertedYRatio,y=0,b=1):(f=o.globals.xAxisScale.niceMin+(S.left-k.left)*r.xRatio,x=o.globals.xAxisScale.niceMin+(S.right-k.left)*r.xRatio,y=o.globals.yAxisScale[0].niceMin+(k.bottom-S.bottom)*r.yRatio[0],b=o.globals.yAxisScale[0].niceMax-(S.top-k.top)*r.yRatio[0]);var C={xaxis:{min:f,max:x},yaxis:{min:y,max:b}};o.config.chart.events.selection(n.ctx,C),o.config.chart.brush.enabled&&void 0!==o.config.chart.events.brushScrolled&&o.config.chart.events.brushScrolled(n.ctx,C)},d))}},{key:"selectionDrawn",value:function(i){var n=i.zoomtype,o=this.w,r=i.context,h=this.xyRatios,d=this.ctx.toolbar;if(r.startX>r.endX){var p=r.startX;r.startX=r.endX,r.endX=p}if(r.startY>r.endY){var g=r.startY;r.startY=r.endY,r.endY=g}var f=void 0,x=void 0;o.globals.isRangeBar?(f=o.globals.yAxisScale[0].niceMin+r.startX*h.invertedYRatio,x=o.globals.yAxisScale[0].niceMin+r.endX*h.invertedYRatio):(f=o.globals.xAxisScale.niceMin+r.startX*h.xRatio,x=o.globals.xAxisScale.niceMin+r.endX*h.xRatio);var y=[],b=[];if(o.config.yaxis.forEach(function(T,P){var M=o.globals.seriesYAxisMap[P][0];y.push(o.globals.yAxisScale[P].niceMax-h.yRatio[M]*r.startY),b.push(o.globals.yAxisScale[P].niceMax-h.yRatio[M]*r.endY)}),r.dragged&&(r.dragX>10||r.dragY>10)&&f!==x)if(o.globals.zoomEnabled){var k=R.clone(o.globals.initialConfig.yaxis),S=R.clone(o.globals.initialConfig.xaxis);if(o.globals.zoomed=!0,o.config.xaxis.convertedCatToNumeric&&(f=Math.floor(f),x=Math.floor(x),f<1&&(f=1,x=o.globals.dataPoints),x-f<2&&(x=f+1)),"xy"!==n&&"x"!==n||(S={min:f,max:x}),"xy"!==n&&"y"!==n||k.forEach(function(T,P){k[P].min=b[P],k[P].max=y[P]}),d){var C=d.getBeforeZoomRange(S,k);C&&(S=C.xaxis?C.xaxis:S,k=C.yaxis?C.yaxis:k)}var c={xaxis:S};o.config.chart.group||(c.yaxis=k),r.ctx.updateHelpers._updateOptions(c,!1,r.w.config.chart.animations.dynamicAnimation.enabled),"function"==typeof o.config.chart.events.zoomed&&d.zoomCallback(S,k)}else if(o.globals.selectionEnabled){var m,w=null;m={min:f,max:x},"xy"!==n&&"y"!==n||(w=R.clone(o.config.yaxis)).forEach(function(T,P){w[P].min=b[P],w[P].max=y[P]}),o.globals.selection=r.selection,"function"==typeof o.config.chart.events.selection&&o.config.chart.events.selection(r.ctx,{xaxis:m,yaxis:w})}}},{key:"panDragging",value:function(i){var n=this.w,o=i.context;if(void 0!==n.globals.lastClientPosition.x){var r=n.globals.lastClientPosition.x-o.clientX,h=n.globals.lastClientPosition.y-o.clientY;Math.abs(r)>Math.abs(h)&&r>0?this.moveDirection="left":Math.abs(r)>Math.abs(h)&&r<0?this.moveDirection="right":Math.abs(h)>Math.abs(r)&&h>0?this.moveDirection="up":Math.abs(h)>Math.abs(r)&&h<0&&(this.moveDirection="down")}n.globals.lastClientPosition={x:o.clientX,y:o.clientY},n.config.xaxis.convertedCatToNumeric||o.panScrolled(n.globals.isRangeBar?n.globals.minY:n.globals.minX,n.globals.isRangeBar?n.globals.maxY:n.globals.maxX)}},{key:"delayedPanScrolled",value:function(){var i=this.w,a=i.globals.minX,n=i.globals.maxX,o=(i.globals.maxX-i.globals.minX)/2;"left"===this.moveDirection?(a=i.globals.minX+o,n=i.globals.maxX+o):"right"===this.moveDirection&&(a=i.globals.minX-o,n=i.globals.maxX-o),a=Math.floor(a),n=Math.floor(n),this.updateScrolledChart({xaxis:{min:a,max:n}},a,n)}},{key:"panScrolled",value:function(i,a){var n=this.w,o=this.xyRatios,r=R.clone(n.globals.initialConfig.yaxis),h=o.xRatio,d=n.globals.minX,p=n.globals.maxX;n.globals.isRangeBar&&(h=o.invertedYRatio,d=n.globals.minY,p=n.globals.maxY),"left"===this.moveDirection?(i=d+n.globals.gridWidth/15*h,a=p+n.globals.gridWidth/15*h):"right"===this.moveDirection&&(i=d-n.globals.gridWidth/15*h,a=p-n.globals.gridWidth/15*h),n.globals.isRangeBar||(i<n.globals.initialMinX||a>n.globals.initialMaxX)&&(i=d,a=p);var g={xaxis:{min:i,max:a}};n.config.chart.group||(g.yaxis=r),this.updateScrolledChart(g,i,a)}},{key:"updateScrolledChart",value:function(i,a,n){var o=this.w;this.ctx.updateHelpers._updateOptions(i,!1,!1),"function"==typeof o.config.chart.events.scrolled&&o.config.chart.events.scrolled(this.ctx,{xaxis:{min:a,max:n}})}}]),e}(li),ci=function(){function A(t){q(this,A),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx}return W(A,[{key:"getNearestValues",value:function(t){var e=t.hoverArea,a=t.clientX,n=t.clientY,o=this.w,r=t.elGrid.getBoundingClientRect(),h=r.width,d=r.height,p=h/(o.globals.dataPoints-1),g=d/o.globals.dataPoints,f=this.hasBars();!o.globals.comboCharts&&!f||o.config.xaxis.convertedCatToNumeric||(p=h/o.globals.dataPoints);var x=a-r.left-o.globals.barPadForNumericAxis,y=n-r.top;x<0||y<0||x>h||y>d?(e.classList.remove("hovering-zoom"),e.classList.remove("hovering-pan")):o.globals.zoomEnabled?(e.classList.remove("hovering-pan"),e.classList.add("hovering-zoom")):o.globals.panEnabled&&(e.classList.remove("hovering-zoom"),e.classList.add("hovering-pan"));var b=Math.round(x/p),k=Math.floor(y/g);f&&!o.config.xaxis.convertedCatToNumeric&&(b=Math.ceil(x/p),b-=1);var S=null,C=null,c=o.globals.seriesXvalues.map(function(M){return M.filter(function(I){return R.isNumber(I)})}),m=o.globals.seriesYvalues.map(function(M){return M.filter(function(I){return R.isNumber(I)})});if(o.globals.isXNumeric){var w=this.ttCtx.getElGrid().getBoundingClientRect(),T=x*(w.width/h);S=(C=this.closestInMultiArray(T,y*(w.height/d),c,m)).index,b=C.j,null!==S&&(b=(C=this.closestInArray(T,c=o.globals.seriesXvalues[S])).index)}return o.globals.capturedSeriesIndex=null===S?-1:S,(!b||b<1)&&(b=0),o.globals.capturedDataPointIndex=o.globals.isBarHorizontal?k:b,{capturedSeries:S,j:o.globals.isBarHorizontal?k:b,hoverX:x,hoverY:y}}},{key:"closestInMultiArray",value:function(t,e,i,a){var o=0,r=null,h=-1;this.w.globals.series.length>1?o=this.getFirstActiveXArray(i):r=0;var p=Math.abs(t-i[o][0]);if(i.forEach(function(x){x.forEach(function(y,b){var k=Math.abs(t-y);k<=p&&(p=k,h=b)})}),-1!==h){var f=Math.abs(e-a[o][h]);r=o,a.forEach(function(x,y){var b=Math.abs(e-x[h]);b<=f&&(f=b,r=y)})}return{index:r,j:h}}},{key:"getFirstActiveXArray",value:function(t){for(var e=this.w,i=0,a=t.map(function(o,r){return o.length>0?r:-1}),n=0;n<a.length;n++)if(-1!==a[n]&&-1===e.globals.collapsedSeriesIndices.indexOf(n)&&-1===e.globals.ancillaryCollapsedSeriesIndices.indexOf(n)){i=a[n];break}return i}},{key:"closestInArray",value:function(t,e){for(var a=null,n=Math.abs(t-e[0]),o=0;o<e.length;o++){var r=Math.abs(t-e[o]);r<n&&(n=r,a=o)}return{index:a}}},{key:"isXoverlap",value:function(t){var e=[],i=this.w.globals.seriesX.filter(function(n){return void 0!==n[0]});if(i.length>0)for(var a=0;a<i.length-1;a++)void 0!==i[a][t]&&void 0!==i[a+1][t]&&i[a][t]!==i[a+1][t]&&e.push("unEqual");return 0===e.length}},{key:"isInitialSeriesSameLen",value:function(){for(var t=!0,e=this.w.globals.initialSeries,i=0;i<e.length-1;i++)if(e[i].data.length!==e[i+1].data.length){t=!1;break}return t}},{key:"getBarsHeight",value:function(t){return Rt(t).reduce(function(e,i){return e+i.getBBox().height},0)}},{key:"getElMarkers",value:function(t){return this.w.globals.dom.baseEl.querySelectorAll("number"==typeof t?".apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-series-markers-wrap > *"):".apexcharts-series-markers-wrap > *")}},{key:"getAllMarkers",value:function(){var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers-wrap");(t=Rt(t)).sort(function(i,a){var n=Number(i.getAttribute("data:realIndex")),o=Number(a.getAttribute("data:realIndex"));return o<n?1:o>n?-1:0});var e=[];return t.forEach(function(i){e.push(i.querySelector(".apexcharts-marker"))}),e}},{key:"hasMarkers",value:function(t){return this.getElMarkers(t).length>0}},{key:"getPathFromPoint",value:function(t,e){var i=Number(t.getAttribute("cx")),a=Number(t.getAttribute("cy")),n=t.getAttribute("shape");return new H(this.ctx).getMarkerPath(i,a,n,e)}},{key:"getElBars",value:function(){return this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-bar-series,  .apexcharts-candlestick-series, .apexcharts-boxPlot-series, .apexcharts-rangebar-series")}},{key:"hasBars",value:function(){return this.getElBars().length>0}},{key:"getHoverMarkerSize",value:function(t){var e=this.w,i=e.config.markers.hover.size;return void 0===i&&(i=e.globals.markers.size[t]+e.config.markers.hover.sizeOffset),i}},{key:"toggleAllTooltipSeriesGroups",value:function(t){var e=this.w,i=this.ttCtx;0===i.allTooltipSeriesGroups.length&&(i.allTooltipSeriesGroups=e.globals.dom.baseEl.querySelectorAll(".apexcharts-tooltip-series-group"));for(var a=i.allTooltipSeriesGroups,n=0;n<a.length;n++)"enable"===t?(a[n].classList.add("apexcharts-active"),a[n].style.display=e.config.tooltip.items.display):(a[n].classList.remove("apexcharts-active"),a[n].style.display="none")}}]),A}(),Ae=function(){function A(t){q(this,A),this.w=t.w,this.ctx=t.ctx,this.ttCtx=t,this.tooltipUtil=new ci(t)}return W(A,[{key:"drawSeriesTexts",value:function(t){var e=t.shared,i=void 0===e||e,a=t.ttItems,n=t.i,o=void 0===n?0:n,r=t.j,h=void 0===r?null:r,g=t.e,f=this.w;void 0!==f.config.tooltip.custom?this.handleCustomTooltip({i:o,j:h,y1:t.y1,y2:t.y2,w:f}):this.toggleActiveInactiveSeries(i,o);var x=this.getValuesToPrint({i:o,j:h});this.printLabels({i:o,j:h,values:x,ttItems:a,shared:i,e:g});var y=this.ttCtx.getElTooltip();this.ttCtx.tooltipRect.ttWidth=y.getBoundingClientRect().width,this.ttCtx.tooltipRect.ttHeight=y.getBoundingClientRect().height}},{key:"printLabels",value:function(t){var e,i=this,a=t.i,n=t.j,o=t.values,r=t.ttItems,h=t.shared,d=t.e,p=this.w,g=[],f=function(w){return p.globals.seriesGoals[w]&&p.globals.seriesGoals[w][n]&&Array.isArray(p.globals.seriesGoals[w][n])},x=o.xVal,y=o.zVal,b=o.xAxisTTVal,k="",S=p.globals.colors[a];null!==n&&p.config.plotOptions.bar.distributed&&(S=p.globals.colors[n]);for(var C=function(w,T){var P=i.getFormatters(a);k=i.getSeriesName({fn:P.yLbTitleFormatter,index:a,seriesIndex:a,j:n}),"treemap"===p.config.chart.type&&(k=P.yLbTitleFormatter(String(p.config.series[a].data[n].x),{series:p.globals.series,seriesIndex:a,dataPointIndex:n,w:p}));var M=p.config.tooltip.inverseOrder?T:w;if(p.globals.axisCharts){var I=function(F){var D,Y,G,$;return p.globals.isRangeData?P.yLbFormatter(null===(D=p.globals.seriesRangeStart)||void 0===D||null===(Y=D[F])||void 0===Y?void 0:Y[n],{series:p.globals.seriesRangeStart,seriesIndex:F,dataPointIndex:n,w:p})+" - "+P.yLbFormatter(null===(G=p.globals.seriesRangeEnd)||void 0===G||null===($=G[F])||void 0===$?void 0:$[n],{series:p.globals.seriesRangeEnd,seriesIndex:F,dataPointIndex:n,w:p}):P.yLbFormatter(p.globals.series[F][n],{series:p.globals.series,seriesIndex:F,dataPointIndex:n,w:p})};if(h)P=i.getFormatters(M),k=i.getSeriesName({fn:P.yLbTitleFormatter,index:M,seriesIndex:a,j:n}),S=p.globals.colors[M],e=I(M),f(M)&&(g=p.globals.seriesGoals[M][n].map(function(F){return{attrs:F,val:P.yLbFormatter(F.value,{seriesIndex:M,dataPointIndex:n,w:p})}}));else{var E,X=null==d||null===(E=d.target)||void 0===E?void 0:E.getAttribute("fill");X&&(-1!==X.indexOf("url")?-1!==X.indexOf("Pattern")&&(S=p.globals.dom.baseEl.querySelector(X.substr(4).slice(0,-1)).childNodes[0].getAttribute("stroke")):S=X),e=I(a),f(a)&&Array.isArray(p.globals.seriesGoals[a][n])&&(g=p.globals.seriesGoals[a][n].map(function(F){return{attrs:F,val:P.yLbFormatter(F.value,{seriesIndex:a,dataPointIndex:n,w:p})}}))}}null===n&&(e=P.yLbFormatter(p.globals.series[a],Z(Z({},p),{},{seriesIndex:a,dataPointIndex:a}))),i.DOMHandling({i:a,t:M,j:n,ttItems:r,values:{val:e,goalVals:g,xVal:x,xAxisTTVal:b,zVal:y},seriesName:k,shared:h,pColor:S})},c=0,m=p.globals.series.length-1;c<p.globals.series.length;c++,m--)C(c,m)}},{key:"getFormatters",value:function(t){var e,i=this.w,a=i.globals.yLabelFormatters[t];return void 0!==i.globals.ttVal?Array.isArray(i.globals.ttVal)?(a=i.globals.ttVal[t]&&i.globals.ttVal[t].formatter,e=i.globals.ttVal[t]&&i.globals.ttVal[t].title&&i.globals.ttVal[t].title.formatter):(a=i.globals.ttVal.formatter,"function"==typeof i.globals.ttVal.title.formatter&&(e=i.globals.ttVal.title.formatter)):e=i.config.tooltip.y.title.formatter,"function"!=typeof a&&(a=i.globals.yLabelFormatters[0]?i.globals.yLabelFormatters[0]:function(n){return n}),"function"!=typeof e&&(e=function(n){return n}),{yLbFormatter:a,yLbTitleFormatter:e}}},{key:"getSeriesName",value:function(t){var a=t.seriesIndex,n=t.j,o=this.w;return(0,t.fn)(String(o.globals.seriesNames[t.index]),{series:o.globals.series,seriesIndex:a,dataPointIndex:n,w:o})}},{key:"DOMHandling",value:function(t){var e=t.t,i=t.j,a=t.ttItems,n=t.values,o=t.seriesName,r=t.shared,h=t.pColor,d=this.w,p=this.ttCtx,g=n.val,f=n.goalVals,x=n.xVal,y=n.xAxisTTVal,b=n.zVal,k=null;k=a[e].children,d.config.tooltip.fillSeriesColor&&(a[e].style.backgroundColor=h,k[0].style.display="none"),p.showTooltipTitle&&(null===p.tooltipTitle&&(p.tooltipTitle=d.globals.dom.baseEl.querySelector(".apexcharts-tooltip-title")),p.tooltipTitle.innerHTML=x),p.isXAxisTooltipEnabled&&(p.xaxisTooltipText.innerHTML=""!==y?y:x);var S=a[e].querySelector(".apexcharts-tooltip-text-y-label");S&&(S.innerHTML=o||"");var C=a[e].querySelector(".apexcharts-tooltip-text-y-value");C&&(C.innerHTML=void 0!==g?g:""),k[0]&&k[0].classList.contains("apexcharts-tooltip-marker")&&(d.config.tooltip.marker.fillColors&&Array.isArray(d.config.tooltip.marker.fillColors)&&(h=d.config.tooltip.marker.fillColors[e]),k[0].style.backgroundColor=h),d.config.tooltip.marker.show||(k[0].style.display="none");var c=a[e].querySelector(".apexcharts-tooltip-text-goals-label"),m=a[e].querySelector(".apexcharts-tooltip-text-goals-value");if(f.length&&d.globals.seriesGoals[e]){var w=function(){var M="<div >",I="<div>";f.forEach(function(E,X){M+=' <div style="display: flex"><span class="apexcharts-tooltip-marker" style="background-color: '.concat(E.attrs.strokeColor,'; height: 3px; border-radius: 0; top: 5px;"></span> ').concat(E.attrs.name,"</div>"),I+="<div>".concat(E.val,"</div>")}),c.innerHTML=M+"</div>",m.innerHTML=I+"</div>"};r?d.globals.seriesGoals[e][i]&&Array.isArray(d.globals.seriesGoals[e][i])?w():(c.innerHTML="",m.innerHTML=""):w()}else c.innerHTML="",m.innerHTML="";if(null!==b&&(a[e].querySelector(".apexcharts-tooltip-text-z-label").innerHTML=d.config.tooltip.z.title,a[e].querySelector(".apexcharts-tooltip-text-z-value").innerHTML=void 0!==b?b:""),r&&k[0]){if(d.config.tooltip.hideEmptySeries){var T=a[e].querySelector(".apexcharts-tooltip-marker"),P=a[e].querySelector(".apexcharts-tooltip-text");0==parseFloat(g)?(T.style.display="none",P.style.display="none"):(T.style.display="block",P.style.display="block")}k[0].parentNode.style.display=null==g||d.globals.ancillaryCollapsedSeriesIndices.indexOf(e)>-1||d.globals.collapsedSeriesIndices.indexOf(e)>-1||Array.isArray(p.tConfig.enabledOnSeries)&&-1===p.tConfig.enabledOnSeries.indexOf(e)?"none":d.config.tooltip.items.display}else Array.isArray(p.tConfig.enabledOnSeries)&&-1===p.tConfig.enabledOnSeries.indexOf(e)&&(k[0].parentNode.style.display="none")}},{key:"toggleActiveInactiveSeries",value:function(t,e){var i=this.w;if(t)this.tooltipUtil.toggleAllTooltipSeriesGroups("enable");else{this.tooltipUtil.toggleAllTooltipSeriesGroups("disable");var a=i.globals.dom.baseEl.querySelector(".apexcharts-tooltip-series-group-".concat(e));a&&(a.classList.add("apexcharts-active"),a.style.display=i.config.tooltip.items.display)}}},{key:"getValuesToPrint",value:function(t){var e=t.i,i=t.j,a=this.w,n=this.ctx.series.filteredSeriesX(),o="",r="",h=null,d=null,p={series:a.globals.series,seriesIndex:e,dataPointIndex:i,w:a},g=a.globals.ttZFormatter;null===i?d=a.globals.series[e]:a.globals.isXNumeric&&"treemap"!==a.config.chart.type?(o=n[e][i],0===n[e].length&&(o=n[this.tooltipUtil.getFirstActiveXArray(n)][i])):o=new ue(this.ctx).isFormatXY()?void 0!==a.config.series[e].data[i]?a.config.series[e].data[i].x:"":void 0!==a.globals.labels[i]?a.globals.labels[i]:"";var f=o;return o=a.globals.isXNumeric&&"datetime"===a.config.xaxis.type?new Re(this.ctx).xLabelFormat(a.globals.ttKeyFormatter,f,f,{i:void 0,dateFormatter:new bt(this.ctx).formatDate,w:this.w}):a.globals.isBarHorizontal?a.globals.yLabelFormatters[0](f,p):a.globals.xLabelFormatter(f,p),void 0!==a.config.tooltip.x.formatter&&(o=a.globals.ttKeyFormatter(f,p)),a.globals.seriesZ.length>0&&a.globals.seriesZ[e].length>0&&(h=g(a.globals.seriesZ[e][i],a)),r="function"==typeof a.config.xaxis.tooltip.formatter?a.globals.xaxisTooltipFormatter(f,p):o,{val:Array.isArray(d)?d.join(" "):d,xVal:Array.isArray(o)?o.join(" "):o,xAxisTTVal:Array.isArray(r)?r.join(" "):r,zVal:h}}},{key:"handleCustomTooltip",value:function(t){var e=t.i,i=t.j,a=t.y1,n=t.y2,o=t.w,r=this.ttCtx.getElTooltip(),h=o.config.tooltip.custom;Array.isArray(h)&&h[e]&&(h=h[e]),r.innerHTML=h({ctx:this.ctx,series:o.globals.series,seriesIndex:e,dataPointIndex:i,y1:a,y2:n,w:o})}}]),A}(),di=function(){function A(t){q(this,A),this.ttCtx=t,this.ctx=t.ctx,this.w=t.w}return W(A,[{key:"moveXCrosshairs",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.ttCtx,a=this.w,n=i.getElXCrosshairs(),o=t-i.xcrosshairsWidth/2,r=a.globals.labels.slice().length;if(null!==e&&(o=a.globals.gridWidth/r*e),null===n||a.globals.isBarHorizontal||(n.setAttribute("x",o),n.setAttribute("x1",o),n.setAttribute("x2",o),n.setAttribute("y2",a.globals.gridHeight),n.classList.add("apexcharts-active")),o<0&&(o=0),o>a.globals.gridWidth&&(o=a.globals.gridWidth),i.isXAxisTooltipEnabled){var h=o;"tickWidth"!==a.config.xaxis.crosshairs.width&&"barWidth"!==a.config.xaxis.crosshairs.width||(h=o+i.xcrosshairsWidth/2),this.moveXAxisTooltip(h)}}},{key:"moveYCrosshairs",value:function(t){var e=this.ttCtx;null!==e.ycrosshairs&&H.setAttrs(e.ycrosshairs,{y1:t,y2:t}),null!==e.ycrosshairsHidden&&H.setAttrs(e.ycrosshairsHidden,{y1:t,y2:t})}},{key:"moveXAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;if(null!==i.xaxisTooltip&&0!==i.xcrosshairsWidth){i.xaxisTooltip.classList.add("apexcharts-active");var n,a=i.xaxisOffY+e.config.xaxis.tooltip.offsetY+e.globals.translateY+1+e.config.xaxis.offsetY;t-=i.xaxisTooltip.getBoundingClientRect().width/2,isNaN(t)||(t+=e.globals.translateX,n=new H(this.ctx).getTextRects(i.xaxisTooltipText.innerHTML),i.xaxisTooltipText.style.minWidth=n.width+"px",i.xaxisTooltip.style.left=t+"px",i.xaxisTooltip.style.top=a+"px")}}},{key:"moveYAxisTooltip",value:function(t){var e=this.w,i=this.ttCtx;null===i.yaxisTTEls&&(i.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));var a=parseInt(i.ycrosshairsHidden.getAttribute("y1"),10),n=e.globals.translateY+a,o=i.yaxisTTEls[t].getBoundingClientRect().height,r=e.globals.translateYAxisX[t]-2;e.config.yaxis[t].opposite&&(r-=26),n-=o/2,-1===e.globals.ignoreYAxisIndexes.indexOf(t)?(i.yaxisTTEls[t].classList.add("apexcharts-active"),i.yaxisTTEls[t].style.top=n+"px",i.yaxisTTEls[t].style.left=r+e.config.yaxis[t].tooltip.offsetX+"px"):i.yaxisTTEls[t].classList.remove("apexcharts-active")}},{key:"moveTooltip",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=this.w,n=this.ttCtx,o=n.getElTooltip(),r=n.tooltipRect,h=null!==i?parseFloat(i):1,d=parseFloat(t)+h+5,p=parseFloat(e)+h/2;if(d>a.globals.gridWidth/2&&(d=d-r.ttWidth-h-10),d>a.globals.gridWidth-r.ttWidth-10&&(d=a.globals.gridWidth-r.ttWidth),d<-20&&(d=-20),a.config.tooltip.followCursor){var g=n.getElGrid().getBoundingClientRect();(d=n.e.clientX-g.left)>a.globals.gridWidth/2&&(d-=n.tooltipRect.ttWidth),(p=n.e.clientY+a.globals.translateY-g.top)>a.globals.gridHeight/2&&(p-=n.tooltipRect.ttHeight)}else a.globals.isBarHorizontal||r.ttHeight/2+p>a.globals.gridHeight&&(p=a.globals.gridHeight-r.ttHeight+a.globals.translateY);isNaN(d)||(o.style.left=(d+=a.globals.translateX)+"px",o.style.top=p+"px")}},{key:"moveMarkers",value:function(t,e){var i=this.w,a=this.ttCtx;if(i.globals.markers.size[t]>0)for(var n=i.globals.dom.baseEl.querySelectorAll(" .apexcharts-series[data\\:realIndex='".concat(t,"'] .apexcharts-marker")),o=0;o<n.length;o++)parseInt(n[o].getAttribute("rel"),10)===e&&(a.marker.resetPointsSize(),a.marker.enlargeCurrentPoint(e,n[o]));else a.marker.resetPointsSize(),this.moveDynamicPointOnHover(e,t)}},{key:"moveDynamicPointOnHover",value:function(t,e){var i,a,n,o,r=this.w,h=this.ttCtx,d=new H(this.ctx),p=r.globals.pointsArray,g=h.tooltipUtil.getHoverMarkerSize(e),f=r.config.series[e].type;if(!f||"column"!==f&&"candlestick"!==f&&"boxPlot"!==f){n=null===(i=p[e][t])||void 0===i?void 0:i[0],o=(null===(a=p[e][t])||void 0===a?void 0:a[1])||0;var x=r.globals.dom.baseEl.querySelector(".apexcharts-series[data\\:realIndex='".concat(e,"'] .apexcharts-series-markers path"));if(x&&o<r.globals.gridHeight&&o>0){var y=x.getAttribute("shape"),b=d.getMarkerPath(n,o,y,1.5*g);x.setAttribute("d",b)}this.moveXCrosshairs(n),h.fixedTooltip||this.moveTooltip(n,o,g)}}},{key:"moveDynamicPointsOnHover",value:function(t){var e,i=this.ttCtx,a=i.w,n=0,o=0,r=a.globals.pointsArray,h=new Nt(this.ctx),d=new H(this.ctx);e=h.getActiveConfigSeriesIndex("asc",["line","area","scatter","bubble"]);var p=i.tooltipUtil.getHoverMarkerSize(e);r[e]&&(n=r[e][t][0],o=r[e][t][1]);var g=i.tooltipUtil.getAllMarkers();if(null!==g)for(var f=0;f<a.globals.series.length;f++){var x=r[f];if(a.globals.comboCharts&&void 0===x&&g.splice(f,0,null),x&&x.length){var y=r[f][t][1];g[f].setAttribute("cx",n);var k=g[f].getAttribute("shape");if("rangeArea"!==a.config.chart.type||a.globals.comboCharts||(y-=Math.abs(y-r[f][t+a.globals.series[f].length][1])/2),null!==y&&!isNaN(y)&&y<a.globals.gridHeight+p&&y+p>0){var C=d.getMarkerPath(n,y,k,p);g[f].setAttribute("d",C)}else g[f].setAttribute("d","")}}this.moveXCrosshairs(n),i.fixedTooltip||this.moveTooltip(n,o||a.globals.gridHeight,p)}},{key:"moveStickyTooltipOverBars",value:function(t,e){var i=this.w,a=this.ttCtx,n=i.globals.columnSeries?i.globals.columnSeries.length:i.globals.series.length,o=n>=2&&n%2==0?Math.floor(n/2):Math.floor(n/2)+1;i.globals.isBarHorizontal&&(o=new Nt(this.ctx).getActiveConfigSeriesIndex("desc")+1);var r=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[rel='".concat(o,"'] path[j='").concat(t,"'], .apexcharts-candlestick-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(t,"'], .apexcharts-boxPlot-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(t,"'], .apexcharts-rangebar-series .apexcharts-series[rel='").concat(o,"'] path[j='").concat(t,"']"));r||"number"!=typeof e||(r=i.globals.dom.baseEl.querySelector(".apexcharts-bar-series .apexcharts-series[data\\:realIndex='".concat(e,"'] path[j='").concat(t,"'],\n        .apexcharts-candlestick-series .apexcharts-series[data\\:realIndex='").concat(e,"'] path[j='").concat(t,"'],\n        .apexcharts-boxPlot-series .apexcharts-series[data\\:realIndex='").concat(e,"'] path[j='").concat(t,"'],\n        .apexcharts-rangebar-series .apexcharts-series[data\\:realIndex='").concat(e,"'] path[j='").concat(t,"']")));var h=r?parseFloat(r.getAttribute("cx")):0,d=r?parseFloat(r.getAttribute("cy")):0,p=r?parseFloat(r.getAttribute("barWidth")):0,g=a.getElGrid().getBoundingClientRect(),f=r&&(r.classList.contains("apexcharts-candlestick-area")||r.classList.contains("apexcharts-boxPlot-area"));i.globals.isXNumeric?(r&&!f&&(h-=n%2!=0?p/2:0),r&&f&&i.globals.comboCharts&&(h-=p/2)):i.globals.isBarHorizontal||(h=a.xAxisTicksPositions[t-1]+a.dataPointsDividedWidth/2,isNaN(h)&&(h=a.xAxisTicksPositions[t]-a.dataPointsDividedWidth/2)),i.globals.isBarHorizontal?d-=a.tooltipRect.ttHeight:i.config.tooltip.followCursor?d=a.e.clientY-g.top-a.tooltipRect.ttHeight/2:d+a.tooltipRect.ttHeight+15>i.globals.gridHeight&&(d=i.globals.gridHeight),i.globals.isBarHorizontal||this.moveXCrosshairs(h),a.fixedTooltip||this.moveTooltip(h,d||i.globals.gridHeight)}}]),A}(),qi=function(){function A(t){q(this,A),this.w=t.w,this.ttCtx=t,this.ctx=t.ctx,this.tooltipPosition=new di(t)}return W(A,[{key:"drawDynamicPoints",value:function(){var t=this.w,e=new H(this.ctx),i=new jt(this.ctx),a=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");a=Rt(a),t.config.chart.stacked&&a.sort(function(g,f){return parseFloat(g.getAttribute("data:realIndex"))-parseFloat(f.getAttribute("data:realIndex"))});for(var n=0;n<a.length;n++){var o=a[n].querySelector(".apexcharts-series-markers-wrap");if(null!==o){var r=void 0,h="apexcharts-marker w".concat((Math.random()+1).toString(36).substring(4));"line"!==t.config.chart.type&&"area"!==t.config.chart.type||t.globals.comboCharts||t.config.tooltip.intersect||(h+=" no-pointer-events");var d=i.getMarkerConfig({cssClass:h,seriesIndex:Number(o.getAttribute("data:realIndex"))});(r=e.drawMarker(0,0,d)).node.setAttribute("default-marker-size",0);var p=document.createElementNS(t.globals.SVGNS,"g");p.classList.add("apexcharts-series-markers"),p.appendChild(r.node),o.appendChild(p)}}}},{key:"enlargeCurrentPoint",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=this.w;"bubble"!==n.config.chart.type&&this.newPointSize(t,e);var o=e.getAttribute("cx"),r=e.getAttribute("cy");if(null!==i&&null!==a&&(o=i,r=a),this.tooltipPosition.moveXCrosshairs(o),!this.fixedTooltip){if("radar"===n.config.chart.type){var h=this.ttCtx.getElGrid().getBoundingClientRect();o=this.ttCtx.e.clientX-h.left}this.tooltipPosition.moveTooltip(o,r,n.config.markers.hover.size)}}},{key:"enlargePoints",value:function(t){for(var e=this.w,i=this,a=this.ttCtx,n=t,o=e.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),r=e.config.markers.hover.size,h=0;h<o.length;h++){var d=o[h].getAttribute("rel"),p=o[h].getAttribute("index");if(void 0===r&&(r=e.globals.markers.size[p]+e.config.markers.hover.sizeOffset),n===parseInt(d,10)){i.newPointSize(n,o[h]);var g=o[h].getAttribute("cx"),f=o[h].getAttribute("cy");i.tooltipPosition.moveXCrosshairs(g),a.fixedTooltip||i.tooltipPosition.moveTooltip(g,f,r)}else i.oldPointSize(o[h])}}},{key:"newPointSize",value:function(t,e){var i=this.w,a=i.config.markers.hover.size,n=0===t?e.parentNode.firstChild:e.parentNode.lastChild;if("0"!==n.getAttribute("default-marker-size")){var o=parseInt(n.getAttribute("index"),10);void 0===a&&(a=i.globals.markers.size[o]+i.config.markers.hover.sizeOffset),a<0&&(a=0);var r=this.ttCtx.tooltipUtil.getPathFromPoint(e,a);e.setAttribute("d",r)}}},{key:"oldPointSize",value:function(t){var e=parseFloat(t.getAttribute("default-marker-size")),i=this.ttCtx.tooltipUtil.getPathFromPoint(t,e);t.setAttribute("d",i)}},{key:"resetPointsSize",value:function(){for(var t=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series:not(.apexcharts-series-collapsed) .apexcharts-marker"),e=0;e<t.length;e++){var i=parseFloat(t[e].getAttribute("default-marker-size"));if(R.isNumber(i)&&i>=0){var a=this.ttCtx.tooltipUtil.getPathFromPoint(t[e],i);t[e].setAttribute("d",a)}else t[e].setAttribute("d","M0,0")}}}]),A}(),$i=function(){function A(t){q(this,A),this.w=t.w;var e=this.w;this.ttCtx=t,this.isVerticalGroupedRangeBar=!e.globals.isBarHorizontal&&"rangeBar"===e.config.chart.type&&e.config.plotOptions.bar.rangeBarGroupRows}return W(A,[{key:"getAttr",value:function(t,e){return parseFloat(t.target.getAttribute(e))}},{key:"handleHeatTreeTooltip",value:function(t){var e=t.e,i=t.opt,a=t.x,n=t.y,r=this.ttCtx,h=this.w;if(e.target.classList.contains("apexcharts-".concat(t.type,"-rect"))){var d=this.getAttr(e,"i"),p=this.getAttr(e,"j"),g=this.getAttr(e,"cx"),f=this.getAttr(e,"cy"),x=this.getAttr(e,"width"),y=this.getAttr(e,"height");if(r.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:d,j:p,shared:!1,e}),h.globals.capturedSeriesIndex=d,h.globals.capturedDataPointIndex=p,a=g+r.tooltipRect.ttWidth/2+x,n=f+r.tooltipRect.ttHeight/2-y/2,r.tooltipPosition.moveXCrosshairs(g+x/2),a>h.globals.gridWidth/2&&(a=g-r.tooltipRect.ttWidth/2+x),r.w.config.tooltip.followCursor){var b=h.globals.dom.elWrap.getBoundingClientRect();a=h.globals.clientX-b.left-(a>h.globals.gridWidth/2?r.tooltipRect.ttWidth:0),n=h.globals.clientY-b.top-(n>h.globals.gridHeight/2?r.tooltipRect.ttHeight:0)}}return{x:a,y:n}}},{key:"handleMarkerTooltip",value:function(t){var e,i,a=t.e,n=t.opt,o=t.x,r=t.y,h=this.w,d=this.ttCtx;if(a.target.classList.contains("apexcharts-marker")){var p=parseInt(n.paths.getAttribute("cx"),10),g=parseInt(n.paths.getAttribute("cy"),10),f=parseFloat(n.paths.getAttribute("val"));if(i=parseInt(n.paths.getAttribute("rel"),10),e=parseInt(n.paths.parentNode.parentNode.parentNode.getAttribute("rel"),10)-1,d.intersect){var x=R.findAncestor(n.paths,"apexcharts-series");x&&(e=parseInt(x.getAttribute("data:realIndex"),10))}if(d.tooltipLabels.drawSeriesTexts({ttItems:n.ttItems,i:e,j:i,shared:!d.showOnIntersect&&h.config.tooltip.shared,e:a}),"mouseup"===a.type&&d.markerClick(a,e,i),h.globals.capturedSeriesIndex=e,h.globals.capturedDataPointIndex=i,o=p,r=g+h.globals.translateY-1.4*d.tooltipRect.ttHeight,d.w.config.tooltip.followCursor){var y=d.getElGrid().getBoundingClientRect();r=d.e.clientY+h.globals.translateY-y.top}f<0&&(r=g),d.marker.enlargeCurrentPoint(i,n.paths,o,r)}return{x:o,y:r}}},{key:"handleBarTooltip",value:function(t){var e,i,a=t.e,n=t.opt,o=this.w,r=this.ttCtx,h=r.getElTooltip(),d=0,p=0,g=0,f=this.getBarTooltipXY({e:a,opt:n}),x=f.j;if(o.globals.capturedSeriesIndex=e=f.i,o.globals.capturedDataPointIndex=x,o.globals.isBarHorizontal&&r.tooltipUtil.hasBars()||!o.config.tooltip.shared?(p=f.x,g=f.y,i=Array.isArray(o.config.stroke.width)?o.config.stroke.width[e]:o.config.stroke.width,d=p):o.globals.comboCharts||o.config.tooltip.shared||(d/=2),isNaN(g)&&(g=o.globals.svgHeight-r.tooltipRect.ttHeight),parseInt(n.paths.parentNode.getAttribute("data:realIndex"),10),p+r.tooltipRect.ttWidth>o.globals.gridWidth?p-=r.tooltipRect.ttWidth:p<0&&(p=0),r.w.config.tooltip.followCursor){var b=r.getElGrid().getBoundingClientRect();g=r.e.clientY-b.top}null===r.tooltip&&(r.tooltip=o.globals.dom.baseEl.querySelector(".apexcharts-tooltip")),o.config.tooltip.shared||r.tooltipPosition.moveXCrosshairs(o.globals.comboBarCount>0?d+i/2:d),!r.fixedTooltip&&(!o.config.tooltip.shared||o.globals.isBarHorizontal&&r.tooltipUtil.hasBars())&&(g=g+o.globals.translateY-r.tooltipRect.ttHeight/2,h.style.left=p+o.globals.translateX+"px",h.style.top=g+"px")}},{key:"getBarTooltipXY",value:function(t){var e=this,i=t.e,a=t.opt,n=this.w,o=null,r=this.ttCtx,h=0,d=0,p=0,g=0,f=0,x=i.target.classList;if(x.contains("apexcharts-bar-area")||x.contains("apexcharts-candlestick-area")||x.contains("apexcharts-boxPlot-area")||x.contains("apexcharts-rangebar-area")){var y=i.target,b=y.getBoundingClientRect(),k=a.elGrid.getBoundingClientRect(),S=b.height;f=b.height;var C=b.width,c=parseInt(y.getAttribute("cx"),10),m=parseInt(y.getAttribute("cy"),10);g=parseFloat(y.getAttribute("barWidth"));var w="touchmove"===i.type?i.touches[0].clientX:i.clientX;o=parseInt(y.getAttribute("j"),10),h=parseInt(y.parentNode.getAttribute("rel"),10)-1;var T=y.getAttribute("data-range-y1"),P=y.getAttribute("data-range-y2");n.globals.comboCharts&&(h=parseInt(y.parentNode.getAttribute("data:realIndex"),10));var M=function(E){return n.globals.isXNumeric?c-C/2:e.isVerticalGroupedRangeBar?c+C/2:c-r.dataPointsDividedWidth+C/2},I=function(){return m-r.dataPointsDividedHeight+S/2-r.tooltipRect.ttHeight/2};r.tooltipLabels.drawSeriesTexts({ttItems:a.ttItems,i:h,j:o,y1:T?parseInt(T,10):null,y2:P?parseInt(P,10):null,shared:!r.showOnIntersect&&n.config.tooltip.shared,e:i}),n.config.tooltip.followCursor?n.globals.isBarHorizontal?(d=w-k.left+15,p=I()):(d=M(),p=i.clientY-k.top-r.tooltipRect.ttHeight/2-15):n.globals.isBarHorizontal?((d=c)<r.xyRatios.baseLineInvertedY&&(d=c-r.tooltipRect.ttWidth),p=I()):(d=M(),p=m)}return{x:d,y:p,barHeight:f,barWidth:g,i:h,j:o}}}]),A}(),Ki=function(){function A(t){q(this,A),this.w=t.w,this.ttCtx=t}return W(A,[{key:"drawXaxisTooltip",value:function(){var t=this.w,e=this.ttCtx,i="bottom"===t.config.xaxis.position;e.xaxisOffY=i?t.globals.gridHeight+1:-t.globals.xAxisHeight-t.config.xaxis.axisTicks.height+3;var a=i?"apexcharts-xaxistooltip apexcharts-xaxistooltip-bottom":"apexcharts-xaxistooltip apexcharts-xaxistooltip-top",n=t.globals.dom.elWrap;e.isXAxisTooltipEnabled&&null===t.globals.dom.baseEl.querySelector(".apexcharts-xaxistooltip")&&(e.xaxisTooltip=document.createElement("div"),e.xaxisTooltip.setAttribute("class",a+" apexcharts-theme-"+t.config.tooltip.theme),n.appendChild(e.xaxisTooltip),e.xaxisTooltipText=document.createElement("div"),e.xaxisTooltipText.classList.add("apexcharts-xaxistooltip-text"),e.xaxisTooltipText.style.fontFamily=t.config.xaxis.tooltip.style.fontFamily||t.config.chart.fontFamily,e.xaxisTooltipText.style.fontSize=t.config.xaxis.tooltip.style.fontSize,e.xaxisTooltip.appendChild(e.xaxisTooltipText))}},{key:"drawYaxisTooltip",value:function(){for(var t=this.w,e=this.ttCtx,i=0;i<t.config.yaxis.length;i++){var a=t.config.yaxis[i].opposite||t.config.yaxis[i].crosshairs.opposite;e.yaxisOffX=a?t.globals.gridWidth+1:1;var n="apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i,a?" apexcharts-yaxistooltip-right":" apexcharts-yaxistooltip-left"),o=t.globals.dom.elWrap;null===t.globals.dom.baseEl.querySelector(".apexcharts-yaxistooltip apexcharts-yaxistooltip-".concat(i))&&(e.yaxisTooltip=document.createElement("div"),e.yaxisTooltip.setAttribute("class",n+" apexcharts-theme-"+t.config.tooltip.theme),o.appendChild(e.yaxisTooltip),0===i&&(e.yaxisTooltipText=[]),e.yaxisTooltipText[i]=document.createElement("div"),e.yaxisTooltipText[i].classList.add("apexcharts-yaxistooltip-text"),e.yaxisTooltip.appendChild(e.yaxisTooltipText[i]))}}},{key:"setXCrosshairWidth",value:function(){var t=this.w,e=this.ttCtx,i=e.getElXCrosshairs();if(e.xcrosshairsWidth=parseInt(t.config.xaxis.crosshairs.width,10),t.globals.comboCharts){var a=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==a&&"barWidth"===t.config.xaxis.crosshairs.width){var n=parseFloat(a.getAttribute("barWidth"));e.xcrosshairsWidth=n}else"tickWidth"===t.config.xaxis.crosshairs.width&&(e.xcrosshairsWidth=t.globals.gridWidth/t.globals.labels.length)}else if("tickWidth"===t.config.xaxis.crosshairs.width)e.xcrosshairsWidth=t.globals.gridWidth/t.globals.labels.length;else if("barWidth"===t.config.xaxis.crosshairs.width){var h=t.globals.dom.baseEl.querySelector(".apexcharts-bar-area");if(null!==h){var d=parseFloat(h.getAttribute("barWidth"));e.xcrosshairsWidth=d}else e.xcrosshairsWidth=1}t.globals.isBarHorizontal&&(e.xcrosshairsWidth=0),null!==i&&e.xcrosshairsWidth>0&&i.setAttribute("width",e.xcrosshairsWidth)}},{key:"handleYCrosshair",value:function(){var t=this.w,e=this.ttCtx;e.ycrosshairs=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs"),e.ycrosshairsHidden=t.globals.dom.baseEl.querySelector(".apexcharts-ycrosshairs-hidden")}},{key:"drawYaxisTooltipText",value:function(t,e,i){var a=this.ttCtx,n=this.w,o=n.globals,r=o.seriesYAxisMap[t];if(a.yaxisTooltips[t]&&r.length>0){var h=o.yLabelFormatters[t],d=a.getElGrid().getBoundingClientRect(),p=r[0],g=0;i.yRatio.length>1&&(g=p);var f=(e-d.top)*i.yRatio[g],x=o.maxYArr[p]-o.minYArr[p],y=o.minYArr[p]+(x-f);n.config.yaxis[t].reversed&&(y=o.maxYArr[p]-(x-f)),a.tooltipPosition.moveYCrosshairs(e-d.top),a.yaxisTooltipText[t].innerHTML=h(y),a.tooltipPosition.moveYAxisTooltip(t)}}}]),A}(),ui=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w;var e=this.w;this.tConfig=e.config.tooltip,this.tooltipUtil=new ci(this),this.tooltipLabels=new Ae(this),this.tooltipPosition=new di(this),this.marker=new qi(this),this.intersect=new $i(this),this.axesTooltip=new Ki(this),this.showOnIntersect=this.tConfig.intersect,this.showTooltipTitle=this.tConfig.x.show,this.fixedTooltip=this.tConfig.fixed.enabled,this.xaxisTooltip=null,this.yaxisTTEls=null,this.isBarShared=!e.globals.isBarHorizontal&&this.tConfig.shared,this.lastHoverTime=Date.now()}return W(A,[{key:"getElTooltip",value:function(t){return t||(t=this),t.w.globals.dom.baseEl?t.w.globals.dom.baseEl.querySelector(".apexcharts-tooltip"):null}},{key:"getElXCrosshairs",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-xcrosshairs")}},{key:"getElGrid",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-grid")}},{key:"drawTooltip",value:function(t){var e=this.w;this.xyRatios=t,this.isXAxisTooltipEnabled=e.config.xaxis.tooltip.enabled&&e.globals.axisCharts,this.yaxisTooltips=e.config.yaxis.map(function(o,r){return!!(o.show&&o.tooltip.enabled&&e.globals.axisCharts)}),this.allTooltipSeriesGroups=[],e.globals.axisCharts||(this.showTooltipTitle=!1);var i=document.createElement("div");if(i.classList.add("apexcharts-tooltip"),e.config.tooltip.cssClass&&i.classList.add(e.config.tooltip.cssClass),i.classList.add("apexcharts-theme-".concat(this.tConfig.theme)),e.globals.dom.elWrap.appendChild(i),e.globals.axisCharts){this.axesTooltip.drawXaxisTooltip(),this.axesTooltip.drawYaxisTooltip(),this.axesTooltip.setXCrosshairWidth(),this.axesTooltip.handleYCrosshair();var a=new _e(this.ctx);this.xAxisTicksPositions=a.getXAxisTicksPositions()}if(!e.globals.comboCharts&&!this.tConfig.intersect&&"rangeBar"!==e.config.chart.type||this.tConfig.shared||(this.showOnIntersect=!0),0!==e.config.markers.size&&0!==e.globals.markers.largestSize||this.marker.drawDynamicPoints(this),e.globals.collapsedSeries.length!==e.globals.series.length){this.dataPointsDividedHeight=e.globals.gridHeight/e.globals.dataPoints,this.dataPointsDividedWidth=e.globals.gridWidth/e.globals.dataPoints,this.showTooltipTitle&&(this.tooltipTitle=document.createElement("div"),this.tooltipTitle.classList.add("apexcharts-tooltip-title"),this.tooltipTitle.style.fontFamily=this.tConfig.style.fontFamily||e.config.chart.fontFamily,this.tooltipTitle.style.fontSize=this.tConfig.style.fontSize,i.appendChild(this.tooltipTitle));var n=e.globals.series.length;(e.globals.xyCharts||e.globals.comboCharts)&&this.tConfig.shared&&(n=this.showOnIntersect?1:e.globals.series.length),this.legendLabels=e.globals.dom.baseEl.querySelectorAll(".apexcharts-legend-text"),this.ttItems=this.createTTElements(n),this.addSVGEvents()}}},{key:"createTTElements",value:function(t){for(var e=this,i=this.w,a=[],n=this.getElTooltip(),o=function(h){var d=document.createElement("div");d.classList.add("apexcharts-tooltip-series-group","apexcharts-tooltip-series-group-".concat(h)),d.style.order=i.config.tooltip.inverseOrder?t-h:h+1;var p=document.createElement("span");p.classList.add("apexcharts-tooltip-marker"),p.style.backgroundColor=i.globals.colors[h],d.appendChild(p);var g=document.createElement("div");g.classList.add("apexcharts-tooltip-text"),g.style.fontFamily=e.tConfig.style.fontFamily||i.config.chart.fontFamily,g.style.fontSize=e.tConfig.style.fontSize,["y","goals","z"].forEach(function(f){var x=document.createElement("div");x.classList.add("apexcharts-tooltip-".concat(f,"-group"));var y=document.createElement("span");y.classList.add("apexcharts-tooltip-text-".concat(f,"-label")),x.appendChild(y);var b=document.createElement("span");b.classList.add("apexcharts-tooltip-text-".concat(f,"-value")),x.appendChild(b),g.appendChild(x)}),d.appendChild(g),n.appendChild(d),a.push(d)},r=0;r<t;r++)o(r);return a}},{key:"addSVGEvents",value:function(){var t=this.w,e=t.config.chart.type,i=this.getElTooltip(),a=!("bar"!==e&&"candlestick"!==e&&"boxPlot"!==e&&"rangeBar"!==e),n="area"===e||"line"===e||"scatter"===e||"bubble"===e||"radar"===e,o=t.globals.dom.Paper.node,r=this.getElGrid();r&&(this.seriesBound=r.getBoundingClientRect());var h,d=[],p=[],g={hoverArea:o,elGrid:r,tooltipEl:i,tooltipY:d,tooltipX:p,ttItems:this.ttItems};if(t.globals.axisCharts&&(n?h=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series[data\\:longestSeries='true'] .apexcharts-marker"):a?h=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-bar-area, .apexcharts-series .apexcharts-candlestick-area, .apexcharts-series .apexcharts-boxPlot-area, .apexcharts-series .apexcharts-rangebar-area"):"heatmap"!==e&&"treemap"!==e||(h=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series .apexcharts-heatmap, .apexcharts-series .apexcharts-treemap")),h&&h.length))for(var f=0;f<h.length;f++)d.push(h[f].getAttribute("cy")),p.push(h[f].getAttribute("cx"));if(t.globals.xyCharts&&!this.showOnIntersect||t.globals.comboCharts&&!this.showOnIntersect||a&&this.tooltipUtil.hasBars()&&this.tConfig.shared)this.addPathsEventListeners([o],g);else if(a&&!t.globals.comboCharts||n&&this.showOnIntersect)this.addDatapointEventsListeners(g);else if(!t.globals.axisCharts||"heatmap"===e||"treemap"===e){var x=t.globals.dom.baseEl.querySelectorAll(".apexcharts-series");this.addPathsEventListeners(x,g)}if(this.showOnIntersect){var y=t.globals.dom.baseEl.querySelectorAll(".apexcharts-line-series .apexcharts-marker, .apexcharts-area-series .apexcharts-marker");y.length>0&&this.addPathsEventListeners(y,g),this.tooltipUtil.hasBars()&&!this.tConfig.shared&&this.addDatapointEventsListeners(g)}}},{key:"drawFixedTooltipRect",value:function(){var t=this.w,e=this.getElTooltip(),i=e.getBoundingClientRect(),a=i.width+10,n=i.height+10,o=this.tConfig.fixed.offsetX,r=this.tConfig.fixed.offsetY,h=this.tConfig.fixed.position.toLowerCase();return h.indexOf("right")>-1&&(o=o+t.globals.svgWidth-a+10),h.indexOf("bottom")>-1&&(r=r+t.globals.svgHeight-n-10),e.style.left=o+"px",e.style.top=r+"px",{x:o,y:r,ttWidth:a,ttHeight:n}}},{key:"addDatapointEventsListeners",value:function(t){var e=this.w.globals.dom.baseEl.querySelectorAll(".apexcharts-series-markers .apexcharts-marker, .apexcharts-bar-area, .apexcharts-candlestick-area, .apexcharts-boxPlot-area, .apexcharts-rangebar-area");this.addPathsEventListeners(e,t)}},{key:"addPathsEventListeners",value:function(t,e){for(var i=this,a=function(o){var r={paths:t[o],tooltipEl:e.tooltipEl,tooltipY:e.tooltipY,tooltipX:e.tooltipX,elGrid:e.elGrid,hoverArea:e.hoverArea,ttItems:e.ttItems};["mousemove","mouseup","touchmove","mouseout","touchend"].map(function(h){return t[o].addEventListener(h,i.onSeriesHover.bind(i,r),{capture:!1,passive:!0})})},n=0;n<t.length;n++)a(n)}},{key:"onSeriesHover",value:function(t,e){var i=this,a=Date.now()-this.lastHoverTime;a>=100?this.seriesHover(t,e):(clearTimeout(this.seriesHoverTimeout),this.seriesHoverTimeout=setTimeout(function(){i.seriesHover(t,e)},100-a))}},{key:"seriesHover",value:function(t,e){var i=this;this.lastHoverTime=Date.now();var a=[],n=this.w;n.config.chart.group&&(a=this.ctx.getGroupedCharts()),n.globals.axisCharts&&(n.globals.minX===-1/0&&n.globals.maxX===1/0||0===n.globals.dataPoints)||(a.length?a.forEach(function(o){var r=i.getElTooltip(o);o.w.globals.minX===i.w.globals.minX&&o.w.globals.maxX===i.w.globals.maxX&&o.w.globals.tooltip.seriesHoverByContext({chartCtx:o,ttCtx:o.w.globals.tooltip,opt:{paths:t.paths,tooltipEl:r,tooltipY:t.tooltipY,tooltipX:t.tooltipX,elGrid:t.elGrid,hoverArea:t.hoverArea,ttItems:o.w.globals.tooltip.ttItems},e})}):this.seriesHoverByContext({chartCtx:this.ctx,ttCtx:this.w.globals.tooltip,opt:t,e}))}},{key:"seriesHoverByContext",value:function(t){var e=t.chartCtx,i=t.ttCtx,a=t.opt,n=t.e,o=e.w,r=this.getElTooltip(e);r&&(i.tooltipRect={x:0,y:0,ttWidth:r.getBoundingClientRect().width,ttHeight:r.getBoundingClientRect().height},i.e=n,i.tooltipUtil.hasBars()&&!o.globals.comboCharts&&!i.isBarShared&&this.tConfig.onDatasetHover.highlightDataSeries&&new Nt(e).toggleSeriesOnHover(n,n.target.parentNode),i.fixedTooltip&&i.drawFixedTooltipRect(),o.globals.axisCharts?i.axisChartsTooltips({e:n,opt:a,tooltipRect:i.tooltipRect}):i.nonAxisChartsTooltips({e:n,opt:a,tooltipRect:i.tooltipRect}))}},{key:"axisChartsTooltips",value:function(t){var e,i,a=t.e,n=t.opt,o=this.w,r=n.elGrid.getBoundingClientRect(),h="touchmove"===a.type?a.touches[0].clientX:a.clientX,d="touchmove"===a.type?a.touches[0].clientY:a.clientY;if(this.clientY=d,this.clientX=h,o.globals.capturedSeriesIndex=-1,o.globals.capturedDataPointIndex=-1,d<r.top||d>r.top+r.height)this.handleMouseOut(n);else{if(Array.isArray(this.tConfig.enabledOnSeries)&&!o.config.tooltip.shared){var p=parseInt(n.paths.getAttribute("index"),10);if(this.tConfig.enabledOnSeries.indexOf(p)<0)return void this.handleMouseOut(n)}var g=this.getElTooltip(),f=this.getElXCrosshairs(),x=[];o.config.chart.group&&(x=this.ctx.getSyncedCharts());var y=o.globals.xyCharts||"bar"===o.config.chart.type&&!o.globals.isBarHorizontal&&this.tooltipUtil.hasBars()&&this.tConfig.shared||o.globals.comboCharts&&this.tooltipUtil.hasBars();if("mousemove"===a.type||"touchmove"===a.type||"mouseup"===a.type){if(o.globals.collapsedSeries.length+o.globals.ancillaryCollapsedSeries.length===o.globals.series.length)return;null!==f&&f.classList.add("apexcharts-active");var b=this.yaxisTooltips.filter(function(C){return!0===C});if(null!==this.ycrosshairs&&b.length&&this.ycrosshairs.classList.add("apexcharts-active"),y&&!this.showOnIntersect||x.length>1)this.handleStickyTooltip(a,h,d,n);else if("heatmap"===o.config.chart.type||"treemap"===o.config.chart.type){var k=this.intersect.handleHeatTreeTooltip({e:a,opt:n,x:e,y:i,type:o.config.chart.type});i=k.y,g.style.left=(e=k.x)+"px",g.style.top=i+"px"}else this.tooltipUtil.hasBars()&&this.intersect.handleBarTooltip({e:a,opt:n}),this.tooltipUtil.hasMarkers()&&this.intersect.handleMarkerTooltip({e:a,opt:n,x:e,y:i});if(this.yaxisTooltips.length)for(var S=0;S<o.config.yaxis.length;S++)this.axesTooltip.drawYaxisTooltipText(S,d,this.xyRatios);o.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),n.tooltipEl.classList.add("apexcharts-active")}else"mouseout"!==a.type&&"touchend"!==a.type||this.handleMouseOut(n)}}},{key:"nonAxisChartsTooltips",value:function(t){var e=t.e,i=t.opt,a=t.tooltipRect,n=this.w,o=i.paths.getAttribute("rel"),r=this.getElTooltip(),h=n.globals.dom.elWrap.getBoundingClientRect();if("mousemove"===e.type||"touchmove"===e.type){n.globals.dom.baseEl.classList.add("apexcharts-tooltip-active"),r.classList.add("apexcharts-active"),this.tooltipLabels.drawSeriesTexts({ttItems:i.ttItems,i:parseInt(o,10)-1,shared:!1});var p=n.globals.clientY-h.top-a.ttHeight-10;if(r.style.left=n.globals.clientX-h.left-a.ttWidth/2+"px",r.style.top=p+"px",n.config.legend.tooltipHoverFormatter){var g=o-1,f=(0,n.config.legend.tooltipHoverFormatter)(this.legendLabels[g].getAttribute("data:default-text"),{seriesIndex:g,dataPointIndex:g,w:n});this.legendLabels[g].innerHTML=f}}else"mouseout"!==e.type&&"touchend"!==e.type||(r.classList.remove("apexcharts-active"),n.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),n.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(x){var y=x.getAttribute("data:default-text");x.innerHTML=decodeURIComponent(y)}))}},{key:"handleStickyTooltip",value:function(t,e,i,a){var n=this.w,o=this.tooltipUtil.getNearestValues({context:this,hoverArea:a.hoverArea,elGrid:a.elGrid,clientX:e,clientY:i}),r=o.j,h=o.capturedSeries;n.globals.collapsedSeriesIndices.includes(h)&&(h=null);var d=a.elGrid.getBoundingClientRect();if(o.hoverX<0||o.hoverX>d.width)this.handleMouseOut(a);else if(null!==h)this.handleStickyCapturedSeries(t,h,a,r);else if(this.tooltipUtil.isXoverlap(r)||n.globals.isBarHorizontal){var p=n.globals.series.findIndex(function(g,f){return!n.globals.collapsedSeriesIndices.includes(f)});this.create(t,this,p,r,a.ttItems)}}},{key:"handleStickyCapturedSeries",value:function(t,e,i,a){var n=this.w;if(this.tConfig.shared||null!==n.globals.series[e][a]){if(void 0!==n.globals.series[e][a])this.tConfig.shared&&this.tooltipUtil.isXoverlap(a)&&this.tooltipUtil.isInitialSeriesSameLen()?this.create(t,this,e,a,i.ttItems):this.create(t,this,e,a,i.ttItems,!1);else if(this.tooltipUtil.isXoverlap(a)){var o=n.globals.series.findIndex(function(r,h){return!n.globals.collapsedSeriesIndices.includes(h)});this.create(t,this,o,a,i.ttItems)}}else this.handleMouseOut(i)}},{key:"deactivateHoverFilter",value:function(){for(var t=this.w,e=new H(this.ctx),i=t.globals.dom.Paper.select(".apexcharts-bar-area"),a=0;a<i.length;a++)e.pathMouseLeave(i[a])}},{key:"handleMouseOut",value:function(t){var e=this.w,i=this.getElXCrosshairs();if(e.globals.dom.baseEl.classList.remove("apexcharts-tooltip-active"),t.tooltipEl.classList.remove("apexcharts-active"),this.deactivateHoverFilter(),"bubble"!==e.config.chart.type&&this.marker.resetPointsSize(),null!==i&&i.classList.remove("apexcharts-active"),null!==this.ycrosshairs&&this.ycrosshairs.classList.remove("apexcharts-active"),this.isXAxisTooltipEnabled&&this.xaxisTooltip.classList.remove("apexcharts-active"),this.yaxisTooltips.length){null===this.yaxisTTEls&&(this.yaxisTTEls=e.globals.dom.baseEl.querySelectorAll(".apexcharts-yaxistooltip"));for(var a=0;a<this.yaxisTTEls.length;a++)this.yaxisTTEls[a].classList.remove("apexcharts-active")}e.config.legend.tooltipHoverFormatter&&this.legendLabels.forEach(function(n){var o=n.getAttribute("data:default-text");n.innerHTML=decodeURIComponent(o)})}},{key:"markerClick",value:function(t,e,i){var a=this.w;"function"==typeof a.config.chart.events.markerClick&&a.config.chart.events.markerClick(t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:a}),this.ctx.events.fireEvent("markerClick",[t,this.ctx,{seriesIndex:e,dataPointIndex:i,w:a}])}},{key:"create",value:function(t,e,i,a,n){var o,r,h,d,p,g,f,x,y,b,k,S,C,c,m,w,T=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,P=this.w,M=e;"mouseup"===t.type&&this.markerClick(t,i,a),null===T&&(T=this.tConfig.shared);var I=this.tooltipUtil.hasMarkers(i),E=this.tooltipUtil.getElBars();if(P.config.legend.tooltipHoverFormatter){var X=P.config.legend.tooltipHoverFormatter,F=Array.from(this.legendLabels);F.forEach(function(St){var yt=St.getAttribute("data:default-text");St.innerHTML=decodeURIComponent(yt)});for(var D=0;D<F.length;D++){var Y=F[D],G=parseInt(Y.getAttribute("i"),10),$=decodeURIComponent(Y.getAttribute("data:default-text")),K=X($,{seriesIndex:T?G:i,dataPointIndex:a,w:P});if(T)Y.innerHTML=P.globals.collapsedSeriesIndices.indexOf(G)<0?K:$;else if(Y.innerHTML=G===i?K:$,i===G)break}}var Q=Z(Z({ttItems:n,i,j:a},void 0!==(null===(o=P.globals.seriesRange)||void 0===o||null===(r=o[i])||void 0===r||null===(h=r[a])||void 0===h||null===(d=h.y[0])||void 0===d?void 0:d.y1)&&{y1:null===(p=P.globals.seriesRange)||void 0===p||null===(g=p[i])||void 0===g||null===(f=g[a])||void 0===f||null===(x=f.y[0])||void 0===x?void 0:x.y1}),void 0!==(null===(y=P.globals.seriesRange)||void 0===y||null===(b=y[i])||void 0===b||null===(k=b[a])||void 0===k||null===(S=k.y[0])||void 0===S?void 0:S.y2)&&{y2:null===(C=P.globals.seriesRange)||void 0===C||null===(c=C[i])||void 0===c||null===(m=c[a])||void 0===m||null===(w=m.y[0])||void 0===w?void 0:w.y2});if(T){if(M.tooltipLabels.drawSeriesTexts(Z(Z({},Q),{},{shared:!this.showOnIntersect&&this.tConfig.shared})),I)P.globals.markers.largestSize>0?M.marker.enlargePoints(a):M.tooltipPosition.moveDynamicPointsOnHover(a);else if(this.tooltipUtil.hasBars()&&(this.barSeriesHeight=this.tooltipUtil.getBarsHeight(E),this.barSeriesHeight>0)){var it=new H(this.ctx),et=P.globals.dom.Paper.select(".apexcharts-bar-area[j='".concat(a,"']"));this.deactivateHoverFilter(),this.tooltipPosition.moveStickyTooltipOverBars(a,i);for(var ot=0;ot<et.length;ot++)it.pathMouseEnter(et[ot])}}else M.tooltipLabels.drawSeriesTexts(Z({shared:!1},Q)),this.tooltipUtil.hasBars()&&M.tooltipPosition.moveStickyTooltipOverBars(a,i),I&&M.tooltipPosition.moveMarkers(i,a)}}]),A}(),Ge=function(){function A(t){q(this,A),this.w=t.w,this.barCtx=t,this.totalFormatter=this.w.config.plotOptions.bar.dataLabels.total.formatter,this.totalFormatter||(this.totalFormatter=this.w.config.dataLabels.formatter)}return W(A,[{key:"handleBarDataLabels",value:function(t){var e,i,a=t.x,n=t.y,o=t.y1,r=t.y2,h=t.i,d=t.j,p=t.realIndex,g=t.columnGroupIndex,f=t.series,x=t.barHeight,y=t.barWidth,b=t.barXPosition,k=t.barYPosition,S=t.visibleSeries,C=t.renderedPath,c=this.w,m=new H(this.barCtx.ctx),w=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[p]:this.barCtx.strokeWidth;c.globals.isXNumeric&&!c.globals.isBarHorizontal?(e=a+parseFloat(y*(S+1)),i=n+parseFloat(x*(S+1))-w):(e=a+parseFloat(y*S),i=n+parseFloat(x*S));var T,E,P=null,M=a,I=n,X=c.config.dataLabels,F=this.barCtx.barOptions.dataLabels,D=this.barCtx.barOptions.dataLabels.total;void 0!==k&&this.barCtx.isRangeBar&&(i=k,I=k),void 0!==b&&this.barCtx.isVerticalGroupedRangeBar&&(e=b,M=b);var Y=X.offsetX,G=X.offsetY,$={width:0,height:0};if(c.config.dataLabels.enabled){var K=c.globals.series[h][d];$=m.getTextRects(c.config.dataLabels.formatter?c.config.dataLabels.formatter(K,Z(Z({},c),{},{seriesIndex:h,dataPointIndex:d,w:c})):c.globals.yLabelFormatters[0](K),parseFloat(X.style.fontSize))}var Q={x:a,y:n,i:h,j:d,realIndex:p,columnGroupIndex:g,renderedPath:C,bcx:e,bcy:i,barHeight:x,barWidth:y,textRects:$,strokeWidth:w,dataLabelsX:M,dataLabelsY:I,dataLabelsConfig:X,barDataLabelsConfig:F,barTotalDataLabelsConfig:D,offX:Y,offY:G};return E=this.barCtx.isHorizontal?this.calculateBarsDataLabelsPosition(Q):this.calculateColumnsDataLabelsPosition(Q),C.attr({cy:E.bcy,cx:E.bcx,j:d,val:c.globals.series[h][d],barHeight:x,barWidth:y}),T=this.drawCalculatedDataLabels({x:E.dataLabelsX,y:E.dataLabelsY,val:this.barCtx.isRangeBar?[o,r]:"100%"===c.config.chart.stackType?f[p][d]:c.globals.series[p][d],i:p,j:d,barWidth:y,barHeight:x,textRects:$,dataLabelsConfig:X}),c.config.chart.stacked&&D.enabled&&(P=this.drawTotalDataLabels({x:E.totalDataLabelsX,y:E.totalDataLabelsY,barWidth:y,barHeight:x,realIndex:p,textAnchor:E.totalDataLabelsAnchor,val:this.getStackedTotalDataLabel({realIndex:p,j:d}),dataLabelsConfig:X,barTotalDataLabelsConfig:D})),{dataLabels:T,totalDataLabels:P}}},{key:"getStackedTotalDataLabel",value:function(t){var e=t.realIndex,i=t.j,a=this.w,n=this.barCtx.stackedSeriesTotals[i];return this.totalFormatter&&(n=this.totalFormatter(n,Z(Z({},a),{},{seriesIndex:e,dataPointIndex:i,w:a}))),n}},{key:"calculateColumnsDataLabelsPosition",value:function(t){var o,r,e=this.w,i=t.i,a=t.j,n=t.realIndex,h=t.y,d=t.bcx,p=t.barWidth,g=t.barHeight,f=t.textRects,x=t.dataLabelsX,y=t.dataLabelsY,b=t.dataLabelsConfig,k=t.barDataLabelsConfig,S=t.barTotalDataLabelsConfig,C=t.strokeWidth,c=t.offX,m=t.offY,w=d;g=Math.abs(g);var T="vertical"===e.config.plotOptions.bar.dataLabels.orientation,P=this.barCtx.barHelpers.getZeroValueEncounters({i,j:a}).zeroEncounters;d-=C/2;var M=e.globals.gridWidth/e.globals.dataPoints;this.barCtx.isVerticalGroupedRangeBar?x+=p/2:(x=e.globals.isXNumeric?d-p/2+c:d-M+p/2+c,P>0&&e.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(x-=p*P)),T&&(x=x+f.height/2-C/2-2);var I=e.globals.series[i][a]<0,E=h;switch(this.barCtx.isReversed&&(E=h+(I?g:-g)),k.position){case"center":y=T?I?E-g/2+m:E+g/2-m:I?E-g/2+f.height/2+m:E+g/2+f.height/2-m;break;case"bottom":y=T?I?E-g+m:E+g-m:I?E-g+f.height+C+m:E+g-f.height/2+C-m;break;case"top":y=T?I?E+m:E-m:I?E-f.height/2-m:E+f.height+m}if(this.barCtx.lastActiveBarSerieIndex===n&&S.enabled){var X=new H(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:n,j:a}),b.fontSize);o=I?E-X.height/2-m-S.offsetY+18:E+X.height+m+S.offsetY-18,r=w+(e.globals.isXNumeric?-p*e.globals.barGroups.length/2:e.globals.barGroups.length*p/2-(e.globals.barGroups.length-1)*p-M)+S.offsetX}return e.config.chart.stacked||(y<0?y=0+C:y+f.height/3>e.globals.gridHeight&&(y=e.globals.gridHeight-C)),{bcx:d,bcy:h,dataLabelsX:x,dataLabelsY:y,totalDataLabelsX:r,totalDataLabelsY:o,totalDataLabelsAnchor:"middle"}}},{key:"calculateBarsDataLabelsPosition",value:function(t){var e=this.w,i=t.x,a=t.i,n=t.j,o=t.realIndex,r=t.bcy,h=t.barHeight,d=t.barWidth,p=t.textRects,g=t.dataLabelsX,f=t.strokeWidth,x=t.dataLabelsConfig,y=t.barDataLabelsConfig,b=t.barTotalDataLabelsConfig,k=t.offX,S=t.offY,C=e.globals.gridHeight/e.globals.dataPoints;d=Math.abs(d);var c,m,w=r-(this.barCtx.isRangeBar?0:C)+h/2+p.height/2+S-3,T="start",P=e.globals.series[a][n]<0,M=i;switch(this.barCtx.isReversed&&(M=i+(P?-d:d),T=P?"start":"end"),y.position){case"center":g=P?M+d/2-k:Math.max(p.width/2,M-d/2)+k;break;case"bottom":g=P?M+d-f-k:M-d+f+k;break;case"top":g=P?M-f-k:M-f+k}if(this.barCtx.lastActiveBarSerieIndex===o&&b.enabled){var I=new H(this.barCtx.ctx).getTextRects(this.getStackedTotalDataLabel({realIndex:o,j:n}),x.fontSize);P?(c=M-f-k-b.offsetX,T="end"):c=M+k+b.offsetX+(this.barCtx.isReversed?-(d+f):f),m=w-p.height/2+I.height/2+b.offsetY+f}return e.config.chart.stacked||("start"===x.textAnchor?g-p.width<0?g=P?p.width+f:f:g+p.width>e.globals.gridWidth&&(g=P?e.globals.gridWidth-f:e.globals.gridWidth-p.width-f):"middle"===x.textAnchor?g-p.width/2<0?g=p.width/2+f:g+p.width/2>e.globals.gridWidth&&(g=e.globals.gridWidth-p.width/2-f):"end"===x.textAnchor&&(g<1?g=p.width+f:g+1>e.globals.gridWidth&&(g=e.globals.gridWidth-p.width-f))),{bcx:i,bcy:r,dataLabelsX:g,dataLabelsY:w,totalDataLabelsX:c,totalDataLabelsY:m,totalDataLabelsAnchor:T}}},{key:"drawCalculatedDataLabels",value:function(t){var e=t.x,i=t.y,a=t.val,n=t.i,o=t.j,r=t.textRects,h=t.barHeight,d=t.barWidth,p=t.dataLabelsConfig,g=this.w,f="rotate(0)";"vertical"===g.config.plotOptions.bar.dataLabels.orientation&&(f="rotate(-90, ".concat(e,", ").concat(i,")"));var x=new re(this.barCtx.ctx),y=new H(this.barCtx.ctx),b=p.formatter,k=null,S=g.globals.collapsedSeriesIndices.indexOf(n)>-1;if(p.enabled&&!S){k=y.group({class:"apexcharts-data-labels",transform:f});var C="";void 0!==a&&(C=b(a,Z(Z({},g),{},{seriesIndex:n,dataPointIndex:o,w:g}))),!a&&g.config.plotOptions.bar.hideZeroBarsWhenGrouped&&(C="");var c=g.globals.series[n][o]<0,m=g.config.plotOptions.bar.dataLabels.position;"vertical"===g.config.plotOptions.bar.dataLabels.orientation&&("top"===m&&(p.textAnchor=c?"end":"start"),"center"===m&&(p.textAnchor="middle"),"bottom"===m&&(p.textAnchor=c?"end":"start")),this.barCtx.isRangeBar&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&d<y.getTextRects(C,parseFloat(p.style.fontSize)).width&&(C=""),g.config.chart.stacked&&this.barCtx.barOptions.dataLabels.hideOverflowingLabels&&(this.barCtx.isHorizontal?r.width/1.6>Math.abs(d)&&(C=""):r.height/1.6>Math.abs(h)&&(C=""));var w=Z({},p);this.barCtx.isHorizontal&&a<0&&("start"===p.textAnchor?w.textAnchor="end":"end"===p.textAnchor&&(w.textAnchor="start")),x.plotDataLabelsText({x:e,y:i,text:C,i:n,j:o,parent:k,dataLabelsConfig:w,alwaysDrawDataLabel:!0,offsetCorrection:!0})}return k}},{key:"drawTotalDataLabels",value:function(t){var h,e=t.x,i=t.y,a=t.val,n=t.realIndex,o=t.textAnchor,r=t.barTotalDataLabelsConfig,d=new H(this.barCtx.ctx);return r.enabled&&void 0!==e&&void 0!==i&&this.barCtx.lastActiveBarSerieIndex===n&&(h=d.drawText({x:e,y:i,foreColor:r.style.color,text:a,textAnchor:o,fontFamily:r.style.fontFamily,fontSize:r.style.fontSize,fontWeight:r.style.fontWeight})),h}}]),A}(),Ji=function(){function A(t){q(this,A),this.w=t.w,this.barCtx=t}return W(A,[{key:"initVariables",value:function(t){var e=this.w;this.barCtx.series=t,this.barCtx.totalItems=0,this.barCtx.seriesLen=0,this.barCtx.visibleI=-1,this.barCtx.visibleItems=1;for(var i=0;i<t.length;i++)if(t[i].length>0&&(this.barCtx.seriesLen=this.barCtx.seriesLen+1,this.barCtx.totalItems+=t[i].length),e.globals.isXNumeric)for(var a=0;a<t[i].length;a++)e.globals.seriesX[i][a]>e.globals.minX&&e.globals.seriesX[i][a]<e.globals.maxX&&this.barCtx.visibleItems++;else this.barCtx.visibleItems=e.globals.dataPoints;this.arrBorderRadius=this.createBorderRadiusArr(e.globals.series),0===this.barCtx.seriesLen&&(this.barCtx.seriesLen=1),this.barCtx.zeroSerieses=[],e.globals.comboCharts||this.checkZeroSeries({series:t})}},{key:"initialPositions",value:function(){var t,e,i,a,n,o,r,h,d=this.w,p=d.globals.dataPoints;this.barCtx.isRangeBar&&(p=d.globals.labels.length);var g=this.barCtx.seriesLen;if(d.config.plotOptions.bar.rangeBarGroupRows&&(g=1),this.barCtx.isHorizontal)n=(i=d.globals.gridHeight/p)/g,d.globals.isXNumeric&&(n=(i=d.globals.gridHeight/this.barCtx.totalItems)/this.barCtx.seriesLen),n=n*parseInt(this.barCtx.barOptions.barHeight,10)/100,-1===String(this.barCtx.barOptions.barHeight).indexOf("%")&&(n=parseInt(this.barCtx.barOptions.barHeight,10)),h=this.barCtx.baseLineInvertedY+d.globals.padHorizontal+(this.barCtx.isReversed?d.globals.gridWidth:0)-(this.barCtx.isReversed?2*this.barCtx.baseLineInvertedY:0),this.barCtx.isFunnel&&(h=d.globals.gridWidth/2),e=(i-n*this.barCtx.seriesLen)/2;else{if(a=d.globals.gridWidth/this.barCtx.visibleItems,d.config.xaxis.convertedCatToNumeric&&(a=d.globals.gridWidth/d.globals.dataPoints),o=a/g*parseInt(this.barCtx.barOptions.columnWidth,10)/100,d.globals.isXNumeric){var f=this.barCtx.xRatio;d.globals.minXDiff&&.5!==d.globals.minXDiff&&d.globals.minXDiff/f>0&&(a=d.globals.minXDiff/f),(o=a/g*parseInt(this.barCtx.barOptions.columnWidth,10)/100)<1&&(o=1)}-1===String(this.barCtx.barOptions.columnWidth).indexOf("%")&&(o=parseInt(this.barCtx.barOptions.columnWidth,10)),r=d.globals.gridHeight-this.barCtx.baseLineY[this.barCtx.translationsIndex]-(this.barCtx.isReversed?d.globals.gridHeight:0)+(this.barCtx.isReversed?2*this.barCtx.baseLineY[this.barCtx.translationsIndex]:0),t=d.globals.padHorizontal+(a-o*this.barCtx.seriesLen)/2}return d.globals.barHeight=n,d.globals.barWidth=o,{x:t,y:e,yDivision:i,xDivision:a,barHeight:n,barWidth:o,zeroH:r,zeroW:h}}},{key:"initializeStackedPrevVars",value:function(t){t.w.globals.seriesGroups.forEach(function(e){t[e]||(t[e]={}),t[e].prevY=[],t[e].prevX=[],t[e].prevYF=[],t[e].prevXF=[],t[e].prevYVal=[],t[e].prevXVal=[]})}},{key:"initializeStackedXYVars",value:function(t){t.w.globals.seriesGroups.forEach(function(e){t[e]||(t[e]={}),t[e].xArrj=[],t[e].xArrjF=[],t[e].xArrjVal=[],t[e].yArrj=[],t[e].yArrjF=[],t[e].yArrjVal=[]})}},{key:"getPathFillColor",value:function(t,e,i,a){var n,o,r,h,d,p=this.w,g=this.barCtx.ctx.fill,f=null,x=this.barCtx.barOptions.distributed?i:e;return this.barCtx.barOptions.colors.ranges.length>0&&this.barCtx.barOptions.colors.ranges.map(function(y){t[e][i]>=y.from&&t[e][i]<=y.to&&(f=y.color)}),null!==(n=p.config.series[e].data[i])&&void 0!==n&&n.fillColor&&(f=p.config.series[e].data[i].fillColor),g.fillPath({seriesNumber:this.barCtx.barOptions.distributed?x:a,dataPointIndex:i,color:f,value:t[e][i],fillConfig:null===(o=p.config.series[e].data[i])||void 0===o?void 0:o.fill,fillType:null!==(r=p.config.series[e].data[i])&&void 0!==r&&null!==(h=r.fill)&&void 0!==h&&h.type?null===(d=p.config.series[e].data[i])||void 0===d?void 0:d.fill.type:Array.isArray(p.config.fill.type)?p.config.fill.type[a]:p.config.fill.type})}},{key:"getStrokeWidth",value:function(t,e,i){var a=0,n=this.w;return this.barCtx.isNullValue=!this.barCtx.series[t][e],n.config.stroke.show&&(this.barCtx.isNullValue||(a=Array.isArray(this.barCtx.strokeWidth)?this.barCtx.strokeWidth[i]:this.barCtx.strokeWidth)),a}},{key:"createBorderRadiusArr",value:function(t){var e=this.w,i=!this.w.config.chart.stacked||"last"!==e.config.plotOptions.bar.borderRadiusWhenStacked||e.config.plotOptions.bar.borderRadius<=0,a=t.length,n=t[0].length,o=Array.from({length:a},function(){return Array(n).fill(i?"top":"none")});if(i)return o;for(var r=0;r<n;r++){for(var h=[],d=[],p=0,g=0;g<a;g++){var f=t[g][r];f>0?(h.push(g),p++):f<0&&(d.push(g),p++)}if(h.length>0&&0===d.length)if(1===h.length)o[h[0]][r]="both";else{var x,y=h[0],b=h[h.length-1],k=ze(h);try{for(k.s();!(x=k.n()).done;){var S=x.value;o[S][r]=S===y?"bottom":S===b?"top":"none"}}catch(G){k.e(G)}finally{k.f()}}else if(d.length>0&&0===h.length)if(1===d.length)o[d[0]][r]="both";else{var C,c=d[0],m=d[d.length-1],w=ze(d);try{for(w.s();!(C=w.n()).done;){var T=C.value;o[T][r]=T===c?"bottom":T===m?"top":"none"}}catch(G){w.e(G)}finally{w.f()}}else if(h.length>0&&d.length>0){var P,M=h[h.length-1],I=ze(h);try{for(I.s();!(P=I.n()).done;){var E=P.value;o[E][r]=E===M?"top":"none"}}catch(G){I.e(G)}finally{I.f()}var X,F=d[d.length-1],D=ze(d);try{for(D.s();!(X=D.n()).done;){var Y=X.value;o[Y][r]=Y===F?"bottom":"none"}}catch(G){D.e(G)}finally{D.f()}}else 1===p&&(o[h[0]||d[0]][r]="both")}return o}},{key:"barBackground",value:function(t){var e=t.j,i=t.i,a=t.x1,n=t.x2,o=t.y1,r=t.y2,h=t.elSeries,d=this.w,p=new H(this.barCtx.ctx),g=new Nt(this.barCtx.ctx).getActiveConfigSeriesIndex();if(this.barCtx.barOptions.colors.backgroundBarColors.length>0&&g===i){e>=this.barCtx.barOptions.colors.backgroundBarColors.length&&(e%=this.barCtx.barOptions.colors.backgroundBarColors.length);var x=p.drawRect(void 0!==a?a:0,void 0!==o?o:0,void 0!==n?n:d.globals.gridWidth,void 0!==r?r:d.globals.gridHeight,this.barCtx.barOptions.colors.backgroundBarRadius,this.barCtx.barOptions.colors.backgroundBarColors[e],this.barCtx.barOptions.colors.backgroundBarOpacity);h.add(x),x.node.classList.add("apexcharts-backgroundBar")}}},{key:"getColumnPaths",value:function(t){var e,i=t.barWidth,a=t.barXPosition,n=t.y1,o=t.y2,r=t.strokeWidth,h=t.isReversed,d=t.series,p=t.seriesGroup,g=t.realIndex,f=t.i,x=t.j,y=t.w,b=new H(this.barCtx.ctx);(r=Array.isArray(r)?r[g]:r)||(r=0);var k=i,S=a;null!==(e=y.config.series[g].data[x])&&void 0!==e&&e.columnWidthOffset&&(S=a-y.config.series[g].data[x].columnWidthOffset/2,k=i+y.config.series[g].data[x].columnWidthOffset);var C=r/2,c=S+C,m=S+k-C,w=(d[f][x]>=0?1:-1)*(h?-1:1);o+=.001+C*w;var T=b.move(c,n+=.001-C*w),P=b.move(c,n),M=b.line(m,n);if(y.globals.previousPaths.length>0&&(P=this.barCtx.getPreviousPath(g,x,!1)),T=T+b.line(c,o)+b.line(m,o)+M+("around"===y.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[g][x]?" Z":" z"),P=P+b.line(c,n)+M+M+M+M+M+b.line(c,n)+("around"===y.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[g][x]?" Z":" z"),"none"!==this.arrBorderRadius[g][x]&&(T=b.roundPathCorners(T,y.config.plotOptions.bar.borderRadius)),y.config.chart.stacked){var I=this.barCtx;(I=this.barCtx[p]).yArrj.push(o-C*w),I.yArrjF.push(Math.abs(n-o+r*w)),I.yArrjVal.push(this.barCtx.series[f][x])}return{pathTo:T,pathFrom:P}}},{key:"getBarpaths",value:function(t){var e,i=t.barYPosition,a=t.barHeight,n=t.x1,o=t.x2,r=t.strokeWidth,h=t.isReversed,d=t.series,p=t.seriesGroup,g=t.realIndex,f=t.i,x=t.j,y=t.w,b=new H(this.barCtx.ctx);(r=Array.isArray(r)?r[g]:r)||(r=0);var k=i,S=a;null!==(e=y.config.series[g].data[x])&&void 0!==e&&e.barHeightOffset&&(k=i-y.config.series[g].data[x].barHeightOffset/2,S=a+y.config.series[g].data[x].barHeightOffset);var C=r/2,c=k+C,m=k+S-C,w=(d[f][x]>=0?1:-1)*(h?-1:1);o+=.001-C*w;var T=b.move(n+=.001+C*w,c),P=b.move(n,c);y.globals.previousPaths.length>0&&(P=this.barCtx.getPreviousPath(g,x,!1));var M=b.line(n,m);if(T=T+b.line(o,c)+b.line(o,m)+M+("around"===y.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[g][x]?" Z":" z"),P=P+b.line(n,c)+M+M+M+M+M+b.line(n,c)+("around"===y.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[g][x]?" Z":" z"),"none"!==this.arrBorderRadius[g][x]&&(T=b.roundPathCorners(T,y.config.plotOptions.bar.borderRadius)),y.config.chart.stacked){var I=this.barCtx;(I=this.barCtx[p]).xArrj.push(o+C*w),I.xArrjF.push(Math.abs(n-o-r*w)),I.xArrjVal.push(this.barCtx.series[f][x])}return{pathTo:T,pathFrom:P}}},{key:"checkZeroSeries",value:function(t){for(var e=t.series,i=this.w,a=0;a<e.length;a++){for(var n=0,o=0;o<e[i.globals.maxValsInArrayIndex].length;o++)n+=e[a][o];0===n&&this.barCtx.zeroSerieses.push(a)}}},{key:"getXForValue",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?null:e;return null!=t&&(i=e+t/this.barCtx.invertedYRatio-2*(this.barCtx.isReversed?t/this.barCtx.invertedYRatio:0)),i}},{key:"getYForValue",value:function(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?null:e;return null!=t&&(a=e-t/this.barCtx.yRatio[i]+2*(this.barCtx.isReversed?t/this.barCtx.yRatio[i]:0)),a}},{key:"getGoalValues",value:function(t,e,i,a,n,o){var r=this,h=this.w,d=[],p=function(x,y){var b;d.push((Ie(b={},t,"x"===t?r.getXForValue(x,e,!1):r.getYForValue(x,i,o,!1)),Ie(b,"attrs",y),b))};if(h.globals.seriesGoals[a]&&h.globals.seriesGoals[a][n]&&Array.isArray(h.globals.seriesGoals[a][n])&&h.globals.seriesGoals[a][n].forEach(function(x){p(x.value,x)}),this.barCtx.barOptions.isDumbbell&&h.globals.seriesRange.length){var g=this.barCtx.barOptions.dumbbellColors?this.barCtx.barOptions.dumbbellColors:h.globals.colors,f={strokeHeight:"x"===t?0:h.globals.markers.size[a],strokeWidth:"x"===t?h.globals.markers.size[a]:0,strokeDashArray:0,strokeLineCap:"round",strokeColor:Array.isArray(g[a])?g[a][0]:g[a]};p(h.globals.seriesRangeStart[a][n],f),p(h.globals.seriesRangeEnd[a][n],Z(Z({},f),{},{strokeColor:Array.isArray(g[a])?g[a][1]:g[a]}))}return d}},{key:"drawGoalLine",value:function(t){var e=t.barXPosition,i=t.barYPosition,a=t.goalX,n=t.goalY,o=t.barWidth,r=t.barHeight,h=new H(this.barCtx.ctx),d=h.group({className:"apexcharts-bar-goals-groups"});d.node.classList.add("apexcharts-element-hidden"),this.barCtx.w.globals.delayedElements.push({el:d.node}),d.attr("clip-path","url(#gridRectMarkerMask".concat(this.barCtx.w.globals.cuid,")"));var p=null;return this.barCtx.isHorizontal?Array.isArray(a)&&a.forEach(function(g){if(g.x>=-1&&g.x<=h.w.globals.gridWidth+1){var f=void 0!==g.attrs.strokeHeight?g.attrs.strokeHeight:r/2,x=i+f+r/2;p=h.drawLine(g.x,x-2*f,g.x,x,g.attrs.strokeColor?g.attrs.strokeColor:void 0,g.attrs.strokeDashArray,g.attrs.strokeWidth?g.attrs.strokeWidth:2,g.attrs.strokeLineCap),d.add(p)}}):Array.isArray(n)&&n.forEach(function(g){if(g.y>=-1&&g.y<=h.w.globals.gridHeight+1){var f=void 0!==g.attrs.strokeWidth?g.attrs.strokeWidth:o/2,x=e+f+o/2;p=h.drawLine(x-2*f,g.y,x,g.y,g.attrs.strokeColor?g.attrs.strokeColor:void 0,g.attrs.strokeDashArray,g.attrs.strokeHeight?g.attrs.strokeHeight:2,g.attrs.strokeLineCap),d.add(p)}}),d}},{key:"drawBarShadow",value:function(t){var e=t.prevPaths,i=t.currPaths,a=t.color,n=this.w,o=e.x,r=e.x1,d=i.x,p=i.x1,g=i.barYPosition,f=e.barYPosition+i.barHeight,x=new H(this.barCtx.ctx),y=new R,b=x.move(r,f)+x.line(o,f)+x.line(d,g)+x.line(p,g)+x.line(r,f)+("around"===n.config.plotOptions.bar.borderRadiusApplication||"both"===this.arrBorderRadius[realIndex][j]?" Z":" z");return x.drawPath({d:b,fill:y.shadeColor(.5,R.rgb2hex(a)),stroke:"none",strokeWidth:0,fillOpacity:1,classes:"apexcharts-bar-shadows"})}},{key:"getZeroValueEncounters",value:function(t){var e,i=t.i,a=t.j,n=this.w,o=0,r=0;return(n.config.plotOptions.bar.horizontal?n.globals.series.map(function(h,d){return d}):(null===(e=n.globals.columnSeries)||void 0===e?void 0:e.i.map(function(h){return h}))||[]).forEach(function(h){var d=n.globals.seriesPercent[h][a];d&&o++,h<i&&0===d&&r++}),{nonZeroColumns:o,zeroEncounters:r}}},{key:"getGroupIndex",value:function(t){var e=this.w,i=e.globals.seriesGroups.findIndex(function(o){return o.indexOf(e.globals.seriesNames[t])>-1}),a=this.barCtx.columnGroupIndices,n=a.indexOf(i);return n<0&&(a.push(i),n=a.length-1),{groupIndex:i,columnGroupIndex:n}}}]),A}(),Se=function(){function A(t,e){q(this,A),this.ctx=t,this.w=t.w;var i=this.w;this.barOptions=i.config.plotOptions.bar,this.isHorizontal=this.barOptions.horizontal,this.strokeWidth=i.config.stroke.width,this.isNullValue=!1,this.isRangeBar=i.globals.seriesRange.length&&this.isHorizontal,this.isVerticalGroupedRangeBar=!i.globals.isBarHorizontal&&i.globals.seriesRange.length&&i.config.plotOptions.bar.rangeBarGroupRows,this.isFunnel=this.barOptions.isFunnel,this.xyRatios=e,null!==this.xyRatios&&(this.xRatio=e.xRatio,this.yRatio=e.yRatio,this.invertedXRatio=e.invertedXRatio,this.invertedYRatio=e.invertedYRatio,this.baseLineY=e.baseLineY,this.baseLineInvertedY=e.baseLineInvertedY),this.yaxisIndex=0,this.translationsIndex=0,this.seriesLen=0,this.pathArr=[];var a=new Nt(this.ctx);this.lastActiveBarSerieIndex=a.getActiveConfigSeriesIndex("desc",["bar","column"]),this.columnGroupIndices=[];var n=a.getBarSeriesIndices(),o=new Lt(this.ctx);this.stackedSeriesTotals=o.getStackedSeriesTotals(this.w.config.series.map(function(r,h){return-1===n.indexOf(h)?h:-1}).filter(function(r){return-1!==r})),this.barHelpers=new Ji(this)}return W(A,[{key:"draw",value:function(t,e){var i=this.w,a=new H(this.ctx),n=new Lt(this.ctx,i);t=n.getLogSeries(t),this.series=t,this.yRatio=n.getLogYRatios(this.yRatio),this.barHelpers.initVariables(t);var o=a.group({class:"apexcharts-bar-series apexcharts-plot-series"});i.config.dataLabels.enabled&&this.totalItems>this.barOptions.dataLabels.maxItems&&console.warn("WARNING: DataLabels are enabled but there are too many to display. This may cause performance issue when rendering - ApexCharts");for(var r=0,h=0;r<t.length;r++,h++){var d,p,g,f,x=void 0,y=void 0,b=[],k=[],S=i.globals.comboCharts?e[r]:r,C=this.barHelpers.getGroupIndex(S).columnGroupIndex,c=a.group({class:"apexcharts-series",rel:r+1,seriesName:R.escapeString(i.globals.seriesNames[S]),"data:realIndex":S});this.ctx.series.addCollapsedClassToSeries(c,S),t[r].length>0&&(this.visibleI=this.visibleI+1);var m=0,w=0;this.yRatio.length>1&&(this.yaxisIndex=i.globals.seriesYAxisReverseMap[S],this.translationsIndex=S);var T=this.translationsIndex;this.isReversed=i.config.yaxis[this.yaxisIndex]&&i.config.yaxis[this.yaxisIndex].reversed;var P=this.barHelpers.initialPositions();y=P.y,m=P.barHeight,p=P.yDivision,f=P.zeroW,x=P.x,w=P.barWidth,d=P.xDivision,g=P.zeroH,this.horizontal||k.push(x+w/2);var M=a.group({class:"apexcharts-datalabels","data:realIndex":S});i.globals.delayedElements.push({el:M.node}),M.node.classList.add("apexcharts-element-hidden");var I=a.group({class:"apexcharts-bar-goals-markers"}),E=a.group({class:"apexcharts-bar-shadows"});i.globals.delayedElements.push({el:E.node}),E.node.classList.add("apexcharts-element-hidden");for(var X=0;X<t[r].length;X++){var F=this.barHelpers.getStrokeWidth(r,X,S),D=null,Y={indexes:{i:r,j:X,realIndex:S,translationsIndex:T,bc:h},x,y,strokeWidth:F,elSeries:c};this.isHorizontal?(D=this.drawBarPaths(Z(Z({},Y),{},{barHeight:m,zeroW:f,yDivision:p})),w=this.series[r][X]/this.invertedYRatio):(D=this.drawColumnPaths(Z(Z({},Y),{},{xDivision:d,barWidth:w,zeroH:g})),m=this.series[r][X]/this.yRatio[T]);var G=this.barHelpers.getPathFillColor(t,r,X,S);if(this.isFunnel&&this.barOptions.isFunnel3d&&this.pathArr.length&&X>0){var $=this.barHelpers.drawBarShadow({color:"string"==typeof G&&-1===G?.indexOf("url")?G:R.hexToRgba(i.globals.colors[r]),prevPaths:this.pathArr[this.pathArr.length-1],currPaths:D});$&&E.add($)}this.pathArr.push(D);var K=this.barHelpers.drawGoalLine({barXPosition:D.barXPosition,barYPosition:D.barYPosition,goalX:D.goalX,goalY:D.goalY,barHeight:m,barWidth:w});K&&I.add(K),y=D.y,x=D.x,X>0&&k.push(x+w/2),b.push(y),this.renderSeries({realIndex:S,pathFill:G,j:X,i:r,columnGroupIndex:C,pathFrom:D.pathFrom,pathTo:D.pathTo,strokeWidth:F,elSeries:c,x,y,series:t,barHeight:Math.abs(D.barHeight?D.barHeight:m),barWidth:Math.abs(D.barWidth?D.barWidth:w),elDataLabelsWrap:M,elGoalsMarkers:I,elBarShadows:E,visibleSeries:this.visibleI,type:"bar"})}i.globals.seriesXvalues[S]=k,i.globals.seriesYvalues[S]=b,o.add(c)}return o}},{key:"renderSeries",value:function(t){var Q,it,et,e=t.realIndex,i=t.pathFill,a=t.lineFill,n=t.j,o=t.i,r=t.columnGroupIndex,h=t.pathFrom,d=t.pathTo,p=t.strokeWidth,g=t.elSeries,f=t.x,x=t.y,y=t.y1,b=t.y2,k=t.series,S=t.barHeight,C=t.barWidth,c=t.barXPosition,m=t.barYPosition,w=t.elDataLabelsWrap,T=t.elGoalsMarkers,P=t.elBarShadows,M=t.visibleSeries,I=t.type,E=t.classes,X=this.w,F=new H(this.ctx);if(!a){var D="function"==typeof X.globals.stroke.colors[e]?(Q=e,et=X.config.stroke.colors,Array.isArray(et)&&et.length>0&&((it=et[Q])||(it=""),"function"==typeof it)?it({value:X.globals.series[Q][n],dataPointIndex:n,w:X}):it):X.globals.stroke.colors[e];a=this.barOptions.distributed?X.globals.stroke.colors[n]:D}X.config.series[o].data[n]&&X.config.series[o].data[n].strokeColor&&(a=X.config.series[o].data[n].strokeColor),this.isNullValue&&(i="none");var G=F.renderPaths({i:o,j:n,realIndex:e,pathFrom:h,pathTo:d,stroke:a,strokeWidth:p,strokeLineCap:X.config.stroke.lineCap,fill:i,animationDelay:n/X.config.chart.animations.animateGradually.delay*(X.config.chart.animations.speed/X.globals.dataPoints)/2.4,initialSpeed:X.config.chart.animations.speed,dataChangeSpeed:X.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(I,"-area ").concat(E),chartType:I});G.attr("clip-path","url(#gridRectBarMask".concat(X.globals.cuid,")"));var $=X.config.forecastDataPoints;$.count>0&&n>=X.globals.dataPoints-$.count&&(G.node.setAttribute("stroke-dasharray",$.dashArray),G.node.setAttribute("stroke-width",$.strokeWidth),G.node.setAttribute("fill-opacity",$.fillOpacity)),void 0!==y&&void 0!==b&&(G.attr("data-range-y1",y),G.attr("data-range-y2",b)),new Dt(this.ctx).setSelectionFilter(G,e,n),g.add(G);var K=new Ge(this).handleBarDataLabels({x:f,y:x,y1:y,y2:b,i:o,j:n,series:k,realIndex:e,columnGroupIndex:r,barHeight:S,barWidth:C,barXPosition:c,barYPosition:m,renderedPath:G,visibleSeries:M});return null!==K.dataLabels&&w.add(K.dataLabels),K.totalDataLabels&&w.add(K.totalDataLabels),g.add(w),T&&g.add(T),P&&g.add(P),g}},{key:"drawBarPaths",value:function(t){var e,r,i=t.indexes,a=t.barHeight,n=t.strokeWidth,o=t.zeroW,h=t.y,d=t.yDivision,p=t.elSeries,g=this.w,f=i.i,x=i.j;if(g.globals.isXNumeric)e=(h=(g.globals.seriesX[f][x]-g.globals.minX)/this.invertedXRatio-a)+a*this.visibleI;else if(g.config.plotOptions.bar.hideZeroBarsWhenGrouped){var y=0,b=0;g.globals.seriesPercent.forEach(function(S,C){S[x]&&y++,C<f&&0===S[x]&&b++}),y>0&&(a=this.seriesLen*a/y),e=h+a*this.visibleI,e-=a*b}else e=h+a*this.visibleI;this.isFunnel&&(o-=(this.barHelpers.getXForValue(this.series[f][x],o)-o)/2),r=this.barHelpers.getXForValue(this.series[f][x],o);var k=this.barHelpers.getBarpaths({barYPosition:e,barHeight:a,x1:o,x2:r,strokeWidth:n,isReversed:this.isReversed,series:this.series,realIndex:i.realIndex,i:f,j:x,w:g});return g.globals.isXNumeric||(h+=d),this.barHelpers.barBackground({j:x,i:f,y1:e-a*this.visibleI,y2:a*this.seriesLen,elSeries:p}),{pathTo:k.pathTo,pathFrom:k.pathFrom,x1:o,x:r,y:h,goalX:this.barHelpers.getGoalValues("x",o,null,f,x),barYPosition:e,barHeight:a}}},{key:"drawColumnPaths",value:function(t){var e,n,i=t.indexes,a=t.x,o=t.xDivision,r=t.barWidth,h=t.zeroH,d=t.strokeWidth,p=t.elSeries,g=this.w,f=i.realIndex,x=i.translationsIndex,y=i.i,b=i.j,k=i.bc;if(g.globals.isXNumeric){var S=this.getBarXForNumericXAxis({x:a,j:b,realIndex:f,barWidth:r});a=S.x,e=S.barXPosition}else if(g.config.plotOptions.bar.hideZeroBarsWhenGrouped){var C=this.barHelpers.getZeroValueEncounters({i:y,j:b}),c=C.nonZeroColumns;c>0&&(r=this.seriesLen*r/c),e=a+r*this.visibleI,e-=r*C.zeroEncounters}else e=a+r*this.visibleI;n=this.barHelpers.getYForValue(this.series[y][b],h,x);var w=this.barHelpers.getColumnPaths({barXPosition:e,barWidth:r,y1:h,y2:n,strokeWidth:d,isReversed:this.isReversed,series:this.series,realIndex:f,i:y,j:b,w:g});return g.globals.isXNumeric||(a+=o),this.barHelpers.barBackground({bc:k,j:b,i:y,x1:e-d/2-r*this.visibleI,x2:r*this.seriesLen+d/2,elSeries:p}),{pathTo:w.pathTo,pathFrom:w.pathFrom,x:a,y:n,goalY:this.barHelpers.getGoalValues("y",null,h,y,b,x),barXPosition:e,barWidth:r}}},{key:"getBarXForNumericXAxis",value:function(t){var e=t.x,i=t.barWidth,a=t.realIndex,n=t.j,o=this.w,r=a;return o.globals.seriesX[a].length||(r=o.globals.maxValsInArrayIndex),o.globals.seriesX[r][n]&&(e=(o.globals.seriesX[r][n]-o.globals.minX)/this.xRatio-i*this.seriesLen/2),{barXPosition:e+i*this.visibleI,x:e}}},{key:"getPreviousPath",value:function(t,e){for(var i,a=this.w,n=0;n<a.globals.previousPaths.length;n++){var o=a.globals.previousPaths[n];o.paths&&o.paths.length>0&&parseInt(o.realIndex,10)===parseInt(t,10)&&void 0!==a.globals.previousPaths[n].paths[e]&&(i=a.globals.previousPaths[n].paths[e].d)}return i}}]),A}(),Ve=function(A){kt(e,A);var t=ct(e);function e(){return q(this,e),t.apply(this,arguments)}return W(e,[{key:"draw",value:function(i,a){var n=this,o=this.w;this.graphics=new H(this.ctx),this.bar=new Se(this.ctx,this.xyRatios);var r=new Lt(this.ctx,o);i=r.getLogSeries(i),this.yRatio=r.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i),"100%"===o.config.chart.stackType&&(i=o.globals.comboCharts?a.map(function(y){return o.globals.seriesPercent[y]}):o.globals.seriesPercent.slice()),this.series=i,this.barHelpers.initializeStackedPrevVars(this);for(var h=this.graphics.group({class:"apexcharts-bar-series apexcharts-plot-series"}),d=0,p=0,g=function(y,b){var k=void 0,S=void 0,C=void 0,c=void 0,m=o.globals.comboCharts?a[y]:y,w=n.barHelpers.getGroupIndex(m),T=w.groupIndex,P=w.columnGroupIndex;n.groupCtx=n[o.globals.seriesGroups[T]];var M=[],I=[],E=0;n.yRatio.length>1&&(n.yaxisIndex=o.globals.seriesYAxisReverseMap[m][0],E=m),n.isReversed=o.config.yaxis[n.yaxisIndex]&&o.config.yaxis[n.yaxisIndex].reversed;var X=n.graphics.group({class:"apexcharts-series",seriesName:R.escapeString(o.globals.seriesNames[m]),rel:y+1,"data:realIndex":m});n.ctx.series.addCollapsedClassToSeries(X,m);var F=n.graphics.group({class:"apexcharts-datalabels","data:realIndex":m}),D=n.graphics.group({class:"apexcharts-bar-goals-markers"}),Y=0,G=0,$=n.initialPositions(d,p,k,S,C,c,E);p=$.y,S=$.yDivision,c=$.zeroW,d=$.x,G=$.barWidth,k=$.xDivision,C=$.zeroH,o.globals.barHeight=Y=$.barHeight,o.globals.barWidth=G,n.barHelpers.initializeStackedXYVars(n),1===n.groupCtx.prevY.length&&n.groupCtx.prevY[0].every(function(xt){return isNaN(xt)})&&(n.groupCtx.prevY[0]=n.groupCtx.prevY[0].map(function(){return C}),n.groupCtx.prevYF[0]=n.groupCtx.prevYF[0].map(function(){return 0}));for(var K=0;K<o.globals.dataPoints;K++){var Q=n.barHelpers.getStrokeWidth(y,K,m),it={indexes:{i:y,j:K,realIndex:m,translationsIndex:E,bc:b},strokeWidth:Q,x:d,y:p,elSeries:X,columnGroupIndex:P,seriesGroup:o.globals.seriesGroups[T]},et=null;n.isHorizontal?(et=n.drawStackedBarPaths(Z(Z({},it),{},{zeroW:c,barHeight:Y,yDivision:S})),G=n.series[y][K]/n.invertedYRatio):(et=n.drawStackedColumnPaths(Z(Z({},it),{},{xDivision:k,barWidth:G,zeroH:C})),Y=n.series[y][K]/n.yRatio[E]);var ot=n.barHelpers.drawGoalLine({barXPosition:et.barXPosition,barYPosition:et.barYPosition,goalX:et.goalX,goalY:et.goalY,barHeight:Y,barWidth:G});ot&&D.add(ot),p=et.y,M.push(d=et.x),I.push(p);var St=n.barHelpers.getPathFillColor(i,y,K,m),yt="";o.globals.isBarHorizontal?"bottom"===n.barHelpers.arrBorderRadius[m][K]&&o.globals.series[m][K]>0&&(yt="apexcharts-flip-x"):"bottom"===n.barHelpers.arrBorderRadius[m][K]&&o.globals.series[m][K]>0&&(yt="apexcharts-flip-y"),X=n.renderSeries({realIndex:m,pathFill:St,j:K,i:y,columnGroupIndex:P,pathFrom:et.pathFrom,pathTo:et.pathTo,strokeWidth:Q,elSeries:X,x:d,y:p,series:i,barHeight:Y,barWidth:G,elDataLabelsWrap:F,elGoalsMarkers:D,type:"bar",visibleSeries:P,classes:yt})}o.globals.seriesXvalues[m]=M,o.globals.seriesYvalues[m]=I,n.groupCtx.prevY.push(n.groupCtx.yArrj),n.groupCtx.prevYF.push(n.groupCtx.yArrjF),n.groupCtx.prevYVal.push(n.groupCtx.yArrjVal),n.groupCtx.prevX.push(n.groupCtx.xArrj),n.groupCtx.prevXF.push(n.groupCtx.xArrjF),n.groupCtx.prevXVal.push(n.groupCtx.xArrjVal),h.add(X)},f=0,x=0;f<i.length;f++,x++)g(f,x);return h}},{key:"initialPositions",value:function(i,a,n,o,r,h,d){var p,g,f=this.w;if(this.isHorizontal){o=f.globals.gridHeight/f.globals.dataPoints;var x=f.config.plotOptions.bar.barHeight;p=-1===String(x).indexOf("%")?parseInt(x,10):o*parseInt(x,10)/100,h=f.globals.padHorizontal+(this.isReversed?f.globals.gridWidth-this.baseLineInvertedY:this.baseLineInvertedY),a=(o-p)/2}else{g=n=f.globals.gridWidth/f.globals.dataPoints;var y=f.config.plotOptions.bar.columnWidth;f.globals.isXNumeric&&f.globals.dataPoints>1?g=(n=f.globals.minXDiff/this.xRatio)*parseInt(this.barOptions.columnWidth,10)/100:-1===String(y).indexOf("%")?g=parseInt(y,10):g*=parseInt(y,10)/100,r=this.isReversed?this.baseLineY[d]:f.globals.gridHeight-this.baseLineY[d],i=f.globals.padHorizontal+(n-g)/2}var b=f.globals.barGroups.length||1;return{x:i,y:a,yDivision:o,xDivision:n,barHeight:p/b,barWidth:g/b,zeroH:r,zeroW:h}}},{key:"drawStackedBarPaths",value:function(i){for(var a,d,n=i.indexes,o=i.barHeight,r=i.strokeWidth,h=i.zeroW,p=i.y,f=i.seriesGroup,x=i.yDivision,y=i.elSeries,b=this.w,k=p+i.columnGroupIndex*o,S=n.i,C=n.j,c=n.realIndex,m=n.translationsIndex,w=0,T=0;T<this.groupCtx.prevXF.length;T++)w+=this.groupCtx.prevXF[T][C];var P;if((P=f.indexOf(b.config.series[c].name))>0){var M=h;this.groupCtx.prevXVal[P-1][C]<0?M=this.series[S][C]>=0?this.groupCtx.prevX[P-1][C]+w-2*(this.isReversed?w:0):this.groupCtx.prevX[P-1][C]:this.groupCtx.prevXVal[P-1][C]>=0&&(M=this.series[S][C]>=0?this.groupCtx.prevX[P-1][C]:this.groupCtx.prevX[P-1][C]-w+2*(this.isReversed?w:0)),a=M}else a=h;var I=this.barHelpers.getBarpaths({barYPosition:k,barHeight:o,x1:a,x2:d=null===this.series[S][C]?a:a+this.series[S][C]/this.invertedYRatio-2*(this.isReversed?this.series[S][C]/this.invertedYRatio:0),strokeWidth:r,isReversed:this.isReversed,series:this.series,realIndex:n.realIndex,seriesGroup:f,i:S,j:C,w:b});return this.barHelpers.barBackground({j:C,i:S,y1:k,y2:o,elSeries:y}),p+=x,{pathTo:I.pathTo,pathFrom:I.pathFrom,goalX:this.barHelpers.getGoalValues("x",h,null,S,C,m),barXPosition:a,barYPosition:k,x:d,y:p}}},{key:"drawStackedColumnPaths",value:function(i){var o,a=i.indexes,n=i.x,r=i.xDivision,h=i.barWidth,d=i.zeroH,g=i.seriesGroup,f=i.elSeries,x=this.w,y=a.i,b=a.j,k=a.bc,S=a.realIndex,C=a.translationsIndex;if(x.globals.isXNumeric){var c=x.globals.seriesX[S][b];c||(c=0),n=(c-x.globals.minX)/this.xRatio-h/2*x.globals.barGroups.length}for(var m,w=n+i.columnGroupIndex*h,T=0,P=0;P<this.groupCtx.prevYF.length;P++)T+=isNaN(this.groupCtx.prevYF[P][b])?0:this.groupCtx.prevYF[P][b];var M=y;if(g&&(M=g.indexOf(x.globals.seriesNames[S])),M>0&&!x.globals.isXNumeric||M>0&&x.globals.isXNumeric&&x.globals.seriesX[S-1][b]===x.globals.seriesX[S][b]){var I,E,X,F=Math.min(this.yRatio.length+1,S+1);if(void 0!==this.groupCtx.prevY[M-1]&&this.groupCtx.prevY[M-1].length)for(var D=1;D<F;D++){var Y;if(!isNaN(null===(Y=this.groupCtx.prevY[M-D])||void 0===Y?void 0:Y[b])){X=this.groupCtx.prevY[M-D][b];break}}for(var G=1;G<F;G++){var $,K;if((null===($=this.groupCtx.prevYVal[M-G])||void 0===$?void 0:$[b])<0){E=this.series[y][b]>=0?X-T+2*(this.isReversed?T:0):X;break}if((null===(K=this.groupCtx.prevYVal[M-G])||void 0===K?void 0:K[b])>=0){E=this.series[y][b]>=0?X:X+T-2*(this.isReversed?T:0);break}}void 0===E&&(E=x.globals.gridHeight),m=null!==(I=this.groupCtx.prevYF[0])&&void 0!==I&&I.every(function(it){return 0===it})&&this.groupCtx.prevYF.slice(1,M).every(function(it){return it.every(function(et){return isNaN(et)})})?d:E}else m=d;var Q=this.barHelpers.getColumnPaths({barXPosition:w,barWidth:h,y1:m,y2:o=this.series[y][b]?m-this.series[y][b]/this.yRatio[C]+2*(this.isReversed?this.series[y][b]/this.yRatio[C]:0):m,yRatio:this.yRatio[C],strokeWidth:this.strokeWidth,isReversed:this.isReversed,series:this.series,seriesGroup:g,realIndex:a.realIndex,i:y,j:b,w:x});return this.barHelpers.barBackground({bc:k,j:b,i:y,x1:w,x2:h,elSeries:f}),{pathTo:Q.pathTo,pathFrom:Q.pathFrom,goalY:this.barHelpers.getGoalValues("y",null,d,y,b),barXPosition:w,x:x.globals.isXNumeric?n:n+r,y:o}}}]),e}(Se),le=function(A){kt(e,A);var t=ct(e);function e(){return q(this,e),t.apply(this,arguments)}return W(e,[{key:"draw",value:function(i,a,n){var o=this,r=this.w,h=new H(this.ctx),d=r.globals.comboCharts?a:r.config.chart.type,p=new Et(this.ctx);this.candlestickOptions=this.w.config.plotOptions.candlestick,this.boxOptions=this.w.config.plotOptions.boxPlot,this.isHorizontal=r.config.plotOptions.bar.horizontal;var g=new Lt(this.ctx,r);i=g.getLogSeries(i),this.series=i,this.yRatio=g.getLogYRatios(this.yRatio),this.barHelpers.initVariables(i);for(var f=h.group({class:"apexcharts-".concat(d,"-series apexcharts-plot-series")}),x=function(b){o.isBoxPlot="boxPlot"===r.config.chart.type||"boxPlot"===r.config.series[b].type;var k,S,C,c,m=void 0,w=void 0,T=[],P=[],M=r.globals.comboCharts?n[b]:b,I=o.barHelpers.getGroupIndex(M).columnGroupIndex,E=h.group({class:"apexcharts-series",seriesName:R.escapeString(r.globals.seriesNames[M]),rel:b+1,"data:realIndex":M});o.ctx.series.addCollapsedClassToSeries(E,M),i[b].length>0&&(o.visibleI=o.visibleI+1);var X,F,D=0;o.yRatio.length>1&&(o.yaxisIndex=r.globals.seriesYAxisReverseMap[M][0],D=M);var Y=o.barHelpers.initialPositions();w=Y.y,X=Y.barHeight,S=Y.yDivision,c=Y.zeroW,k=Y.xDivision,C=Y.zeroH,P.push((m=Y.x)+(F=Y.barWidth)/2);for(var G=h.group({class:"apexcharts-datalabels","data:realIndex":M}),$=function(Q){var it=o.barHelpers.getStrokeWidth(b,Q,M),et=null,ot={indexes:{i:b,j:Q,realIndex:M,translationsIndex:D},x:m,y:w,strokeWidth:it,elSeries:E};et=o.isHorizontal?o.drawHorizontalBoxPaths(Z(Z({},ot),{},{yDivision:S,barHeight:X,zeroW:c})):o.drawVerticalBoxPaths(Z(Z({},ot),{},{xDivision:k,barWidth:F,zeroH:C})),w=et.y,m=et.x,Q>0&&P.push(m+F/2),T.push(w),et.pathTo.forEach(function(St,yt){var xt=!o.isBoxPlot&&o.candlestickOptions.wick.useFillColor?et.color[yt]:r.globals.stroke.colors[b],Vt=p.fillPath({seriesNumber:M,dataPointIndex:Q,color:et.color[yt],value:i[b][Q]});o.renderSeries({realIndex:M,pathFill:Vt,lineFill:xt,j:Q,i:b,pathFrom:et.pathFrom,pathTo:St,strokeWidth:it,elSeries:E,x:m,y:w,series:i,columnGroupIndex:I,barHeight:X,barWidth:F,elDataLabelsWrap:G,visibleSeries:o.visibleI,type:r.config.chart.type})})},K=0;K<r.globals.dataPoints;K++)$(K);r.globals.seriesXvalues[M]=P,r.globals.seriesYvalues[M]=T,f.add(E)},y=0;y<i.length;y++)x(y);return f}},{key:"drawVerticalBoxPaths",value:function(i){var a=i.indexes,n=i.x,o=i.xDivision,r=i.barWidth,h=i.zeroH,d=i.strokeWidth,p=this.w,g=new H(this.ctx),f=a.i,x=a.j,y=!0,b=p.config.plotOptions.candlestick.colors.upward,k=p.config.plotOptions.candlestick.colors.downward,S="";this.isBoxPlot&&(S=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var C=this.yRatio[a.translationsIndex],c=a.realIndex,m=this.getOHLCValue(c,x),w=h,T=h;m.o>m.c&&(y=!1);var P=Math.min(m.o,m.c),M=Math.max(m.o,m.c),I=m.m;p.globals.isXNumeric&&(n=(p.globals.seriesX[c][x]-p.globals.minX)/this.xRatio-r/2);var E=n+r*this.visibleI;null==this.series[f][x]?(P=h,M=h):(P=h-P/C,M=h-M/C,w=h-m.h/C,T=h-m.l/C,I=h-m.m/C);var X=g.move(E,h),F=g.move(E+r/2,P);return p.globals.previousPaths.length>0&&(F=this.getPreviousPath(c,x,!0)),X=this.isBoxPlot?[g.move(E,P)+g.line(E+r/2,P)+g.line(E+r/2,w)+g.line(E+r/4,w)+g.line(E+r-r/4,w)+g.line(E+r/2,w)+g.line(E+r/2,P)+g.line(E+r,P)+g.line(E+r,I)+g.line(E,I)+g.line(E,P+d/2),g.move(E,I)+g.line(E+r,I)+g.line(E+r,M)+g.line(E+r/2,M)+g.line(E+r/2,T)+g.line(E+r-r/4,T)+g.line(E+r/4,T)+g.line(E+r/2,T)+g.line(E+r/2,M)+g.line(E,M)+g.line(E,I)+"z"]:[g.move(E,M)+g.line(E+r/2,M)+g.line(E+r/2,w)+g.line(E+r/2,M)+g.line(E+r,M)+g.line(E+r,P)+g.line(E+r/2,P)+g.line(E+r/2,T)+g.line(E+r/2,P)+g.line(E,P)+g.line(E,M-d/2)],F+=g.move(E,P),p.globals.isXNumeric||(n+=o),{pathTo:X,pathFrom:F,x:n,y:M,barXPosition:E,color:this.isBoxPlot?S:y?[b]:[k]}}},{key:"drawHorizontalBoxPaths",value:function(i){var a=i.indexes,n=i.y,o=i.yDivision,r=i.barHeight,h=i.zeroW,d=i.strokeWidth,p=this.w,g=new H(this.ctx),f=a.i,x=a.j,y=this.boxOptions.colors.lower;this.isBoxPlot&&(y=[this.boxOptions.colors.lower,this.boxOptions.colors.upper]);var b=this.invertedYRatio,k=a.realIndex,S=this.getOHLCValue(k,x),C=h,c=h,m=Math.min(S.o,S.c),w=Math.max(S.o,S.c),T=S.m;p.globals.isXNumeric&&(n=(p.globals.seriesX[k][x]-p.globals.minX)/this.invertedXRatio-r/2);var P=n+r*this.visibleI;null==this.series[f][x]?(m=h,w=h):(m=h+m/b,w=h+w/b,C=h+S.h/b,c=h+S.l/b,T=h+S.m/b);var M=g.move(h,P),I=g.move(m,P+r/2);return p.globals.previousPaths.length>0&&(I=this.getPreviousPath(k,x,!0)),M=[g.move(m,P)+g.line(m,P+r/2)+g.line(C,P+r/2)+g.line(C,P+r/2-r/4)+g.line(C,P+r/2+r/4)+g.line(C,P+r/2)+g.line(m,P+r/2)+g.line(m,P+r)+g.line(T,P+r)+g.line(T,P)+g.line(m+d/2,P),g.move(T,P)+g.line(T,P+r)+g.line(w,P+r)+g.line(w,P+r/2)+g.line(c,P+r/2)+g.line(c,P+r-r/4)+g.line(c,P+r/4)+g.line(c,P+r/2)+g.line(w,P+r/2)+g.line(w,P)+g.line(T,P)+"z"],I+=g.move(m,P),p.globals.isXNumeric||(n+=o),{pathTo:M,pathFrom:I,x:w,y:n,barYPosition:P,color:y}}},{key:"getOHLCValue",value:function(i,a){var n=this.w;return{o:this.isBoxPlot?n.globals.seriesCandleH[i][a]:n.globals.seriesCandleO[i][a],h:this.isBoxPlot?n.globals.seriesCandleO[i][a]:n.globals.seriesCandleH[i][a],m:n.globals.seriesCandleM[i][a],l:this.isBoxPlot?n.globals.seriesCandleC[i][a]:n.globals.seriesCandleL[i][a],c:this.isBoxPlot?n.globals.seriesCandleL[i][a]:n.globals.seriesCandleC[i][a]}}}]),e}(Se),Ce=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w}return W(A,[{key:"checkColorRange",value:function(){var t=this.w,e=!1,i=t.config.plotOptions[t.config.chart.type];return i.colorScale.ranges.length>0&&i.colorScale.ranges.map(function(a,n){a.from<=0&&(e=!0)}),e}},{key:"getShadeColor",value:function(t,e,i,a){var n=this.w,o=1,r=n.config.plotOptions[t].shadeIntensity,h=this.determineColor(t,e,i);n.globals.hasNegs||a?o=n.config.plotOptions[t].reverseNegativeShade?h.percent<0?h.percent/100*(1.25*r):1.25*r*(1-h.percent/100):h.percent<=0?1-(1+h.percent/100)*r:(1-h.percent/100)*r:(o=1-h.percent/100,"treemap"===t&&(o=1.25*r*(1-h.percent/100)));var d=h.color,p=new R;if(n.config.plotOptions[t].enableShades)if("dark"===this.w.config.theme.mode){var g=p.shadeColor(-1*o,h.color);d=R.hexToRgba(R.isColorHex(g)?g:R.rgb2hex(g),n.config.fill.opacity)}else{var f=p.shadeColor(o,h.color);d=R.hexToRgba(R.isColorHex(f)?f:R.rgb2hex(f),n.config.fill.opacity)}return{color:d,colorProps:h}}},{key:"determineColor",value:function(t,e,i){var a=this.w,n=a.globals.series[e][i],o=a.config.plotOptions[t],r=o.colorScale.inverse?i:e;o.distributed&&"treemap"===a.config.chart.type&&(r=i);var h=a.globals.colors[r],d=null,p=Math.min.apply(Math,Rt(a.globals.series[e])),g=Math.max.apply(Math,Rt(a.globals.series[e]));o.distributed||"heatmap"!==t||(p=a.globals.minY,g=a.globals.maxY),void 0!==o.colorScale.min&&(p=o.colorScale.min<a.globals.minY?o.colorScale.min:a.globals.minY,g=o.colorScale.max>a.globals.maxY?o.colorScale.max:a.globals.maxY);var f=Math.abs(g)+Math.abs(p),x=100*n/(0===f?f-1e-6:f);return o.colorScale.ranges.length>0&&o.colorScale.ranges.map(function(y,b){if(n>=y.from&&n<=y.to){h=y.color,d=y.foreColor?y.foreColor:null,p=y.from,g=y.to;var k=Math.abs(g)+Math.abs(p);x=100*n/(0===k?k-1e-6:k)}}),{color:h,foreColor:d,percent:x}}},{key:"calculateDataLabels",value:function(t){var e=t.text,i=t.x,a=t.y,n=t.i,o=t.j,r=t.colorProps,h=t.fontSize,d=this.w.config.dataLabels,p=new H(this.ctx),g=new re(this.ctx),f=null;if(d.enabled){f=p.group({class:"apexcharts-data-labels"});var y=d.offsetY,b=i+d.offsetX,k=a+parseFloat(d.style.fontSize)/3+y;g.plotDataLabelsText({x:b,y:k,text:e,i:n,j:o,color:r.foreColor,parent:f,fontSize:h,dataLabelsConfig:d})}return f}},{key:"addListeners",value:function(t){var e=new H(this.ctx);t.node.addEventListener("mouseenter",e.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",e.pathMouseLeave.bind(this,t)),t.node.addEventListener("mousedown",e.pathMouseDown.bind(this,t))}}]),A}(),Ze=function(){function A(t,e){q(this,A),this.ctx=t,this.w=t.w,this.xRatio=e.xRatio,this.yRatio=e.yRatio,this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.helpers=new Ce(t),this.rectRadius=this.w.config.plotOptions.heatmap.radius,this.strokeWidth=this.w.config.stroke.show?this.w.config.stroke.width:0}return W(A,[{key:"draw",value:function(t){var e=this.w,i=new H(this.ctx),a=i.group({class:"apexcharts-heatmap"});a.attr("clip-path","url(#gridRectMask".concat(e.globals.cuid,")"));var n=e.globals.gridWidth/e.globals.dataPoints,o=e.globals.gridHeight/e.globals.series.length,r=0,h=!1;this.negRange=this.helpers.checkColorRange();var d=t.slice();e.config.yaxis[0].reversed&&(h=!0,d.reverse());for(var p=h?0:d.length-1;h?p<d.length:p>=0;h?p++:p--){var g=i.group({class:"apexcharts-series apexcharts-heatmap-series",seriesName:R.escapeString(e.globals.seriesNames[p]),rel:p+1,"data:realIndex":p});if(this.ctx.series.addCollapsedClassToSeries(g,p),e.config.chart.dropShadow.enabled){var f=e.config.chart.dropShadow;new Dt(this.ctx).dropShadow(g,f,p)}for(var x=0,y=e.config.plotOptions.heatmap.shadeIntensity,b=0;b<d[p].length;b++){var k=this.helpers.getShadeColor(e.config.chart.type,p,b,this.negRange),S=k.color,C=k.colorProps;"image"===e.config.fill.type&&(S=new Et(this.ctx).fillPath({seriesNumber:p,dataPointIndex:b,opacity:e.globals.hasNegs?C.percent<0?1-(1+C.percent/100):y+C.percent/100:C.percent/100,patternID:R.randomId(),width:e.config.fill.image.width?e.config.fill.image.width:n,height:e.config.fill.image.height?e.config.fill.image.height:o}));var m=i.drawRect(x,r,n,o,this.rectRadius);if(m.attr({cx:x,cy:r}),m.node.classList.add("apexcharts-heatmap-rect"),g.add(m),m.attr({fill:S,i:p,index:p,j:b,val:t[p][b],"stroke-width":this.strokeWidth,stroke:e.config.plotOptions.heatmap.useFillColorAsStroke?S:e.globals.stroke.colors[0],color:S}),this.helpers.addListeners(m),e.config.chart.animations.enabled&&!e.globals.dataChanged){var w=1;e.globals.resized||(w=e.config.chart.animations.speed),this.animateHeatMap(m,x,r,n,o,w)}if(e.globals.dataChanged){var T=1;if(this.dynamicAnim.enabled&&e.globals.shouldAnimate){T=this.dynamicAnim.speed;var P=e.globals.previousPaths[p]&&e.globals.previousPaths[p][b]&&e.globals.previousPaths[p][b].color;P||(P="rgba(255, 255, 255, 0)"),this.animateHeatColor(m,R.isColorHex(P)?P:R.rgb2hex(P),R.isColorHex(S)?S:R.rgb2hex(S),T)}}var M=(0,e.config.dataLabels.formatter)(e.globals.series[p][b],{value:e.globals.series[p][b],seriesIndex:p,dataPointIndex:b,w:e}),I=this.helpers.calculateDataLabels({text:M,x:x+n/2,y:r+o/2,i:p,j:b,colorProps:C,series:d});null!==I&&g.add(I),x+=n}r+=o,a.add(g)}var E=e.globals.yAxisScale[0].result.slice();return e.config.yaxis[0].reversed?E.unshift(""):E.push(""),e.globals.yAxisScale[0].result=E,a}},{key:"animateHeatMap",value:function(t,e,i,a,n,o){var r=new ne(this.ctx);r.animateRect(t,{x:e+a/2,y:i+n/2,width:0,height:0},{x:e,y:i,width:a,height:n},o,function(){r.animationCompleted(t)})}},{key:"animateHeatColor",value:function(t,e,i,a){t.attr({fill:e}).animate(a).attr({fill:i})}}]),A}(),De=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w}return W(A,[{key:"drawYAxisTexts",value:function(t,e,i,a){var n=this.w,o=n.config.yaxis[0],r=n.globals.yLabelFormatters[0];return new H(this.ctx).drawText({x:t+o.labels.offsetX,y:e+o.labels.offsetY,text:r(a,i),textAnchor:"middle",fontSize:o.labels.style.fontSize,fontFamily:o.labels.style.fontFamily,foreColor:Array.isArray(o.labels.style.colors)?o.labels.style.colors[i]:o.labels.style.colors})}}]),A}(),je=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w;var e=this.w;this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animBeginArr=[0],this.animDur=0,this.donutDataLabels=this.w.config.plotOptions.pie.donut.labels,this.lineColorArr=void 0!==e.globals.stroke.colors?e.globals.stroke.colors:e.globals.colors,this.defaultSize=Math.min(e.globals.gridWidth,e.globals.gridHeight),this.centerY=this.defaultSize/2,this.centerX=e.globals.gridWidth/2,this.fullAngle="radialBar"===e.config.chart.type?360:Math.abs(e.config.plotOptions.pie.endAngle-e.config.plotOptions.pie.startAngle),this.initialAngle=e.config.plotOptions.pie.startAngle%this.fullAngle,e.globals.radialSize=this.defaultSize/2.05-e.config.stroke.width-(e.config.chart.sparkline.enabled?0:e.config.chart.dropShadow.blur),this.donutSize=e.globals.radialSize*parseInt(e.config.plotOptions.pie.donut.size,10)/100;var i=e.config.plotOptions.pie.customScale,a=e.globals.gridWidth/2,n=e.globals.gridHeight/2;this.translateX=a-a*i,this.translateY=n-n*i,this.dataLabelsGroup=new H(this.ctx).group({class:"apexcharts-datalabels-group",transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i,")")}),this.maxY=0,this.sliceLabels=[],this.sliceSizes=[],this.prevSectorAngleArr=[]}return W(A,[{key:"draw",value:function(t){var e=this,i=this.w,a=new H(this.ctx),n=a.group({class:"apexcharts-pie"});if(i.globals.noData)return n;for(var o=0,r=0;r<t.length;r++)o+=R.negToZero(t[r]);var h=[],d=a.group();0===o&&(o=1e-5),t.forEach(function(c){e.maxY=Math.max(e.maxY,c)}),i.config.yaxis[0].max&&(this.maxY=i.config.yaxis[0].max),"back"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(n);for(var p=0;p<t.length;p++){var g=this.fullAngle*R.negToZero(t[p])/o;h.push(g),"polarArea"===this.chartType?(h[p]=this.fullAngle/t.length,this.sliceSizes.push(i.globals.radialSize*t[p]/this.maxY)):this.sliceSizes.push(i.globals.radialSize)}if(i.globals.dataChanged){for(var f,x=0,y=0;y<i.globals.previousPaths.length;y++)x+=R.negToZero(i.globals.previousPaths[y]);for(var b=0;b<i.globals.previousPaths.length;b++)f=this.fullAngle*R.negToZero(i.globals.previousPaths[b])/x,this.prevSectorAngleArr.push(f)}if(this.donutSize<0&&(this.donutSize=0),"donut"===this.chartType){var k=a.drawCircle(this.donutSize);k.attr({cx:this.centerX,cy:this.centerY,fill:i.config.plotOptions.pie.donut.background?i.config.plotOptions.pie.donut.background:"transparent"}),d.add(k)}var S=this.drawArcs(h,t);if(this.sliceLabels.forEach(function(c){S.add(c)}),d.attr({transform:"translate(".concat(this.translateX,", ").concat(this.translateY,") scale(").concat(i.config.plotOptions.pie.customScale,")")}),d.add(S),n.add(d),this.donutDataLabels.show){var C=this.renderInnerDataLabels(this.dataLabelsGroup,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});n.add(C)}return"front"===i.config.grid.position&&"polarArea"===this.chartType&&this.drawPolarElements(n),n}},{key:"drawArcs",value:function(t,e){var i=this.w,a=new Dt(this.ctx),n=new H(this.ctx),o=new Et(this.ctx),r=n.group({class:"apexcharts-slices"}),h=this.initialAngle,d=this.initialAngle,p=this.initialAngle,g=this.initialAngle;this.strokeWidth=i.config.stroke.show?i.config.stroke.width:0;for(var f=0;f<t.length;f++){var x=n.group({class:"apexcharts-series apexcharts-pie-series",seriesName:R.escapeString(i.globals.seriesNames[f]),rel:f+1,"data:realIndex":f});r.add(x),p=(h=p)+t[f],g=(d=g)+this.prevSectorAngleArr[f];var y=p<h?this.fullAngle+p-h:p-h,b=o.fillPath({seriesNumber:f,size:this.sliceSizes[f],value:e[f]}),k=this.getChangedPath(d,g),S=n.drawPath({d:k,stroke:Array.isArray(this.lineColorArr)?this.lineColorArr[f]:this.lineColorArr,strokeWidth:0,fill:b,fillOpacity:i.config.fill.opacity,classes:"apexcharts-pie-area apexcharts-".concat(this.chartType.toLowerCase(),"-slice-").concat(f)});S.attr({index:0,j:f}),a.setSelectionFilter(S,0,f),i.config.chart.dropShadow.enabled&&a.dropShadow(S,i.config.chart.dropShadow,f),this.addListeners(S,this.donutDataLabels),H.setAttrs(S.node,{"data:angle":y,"data:startAngle":h,"data:strokeWidth":this.strokeWidth,"data:value":e[f]});var c={x:0,y:0};"pie"===this.chartType||"polarArea"===this.chartType?c=R.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize/1.25+i.config.plotOptions.pie.dataLabels.offset,(h+y/2)%this.fullAngle):"donut"===this.chartType&&(c=R.polarToCartesian(this.centerX,this.centerY,(i.globals.radialSize+this.donutSize)/2+i.config.plotOptions.pie.dataLabels.offset,(h+y/2)%this.fullAngle)),x.add(S);var m=0;if(!this.initialAnim||i.globals.resized||i.globals.dataChanged?this.animBeginArr.push(0):(0==(m=y/this.fullAngle*i.config.chart.animations.speed)&&(m=1),this.animDur=m+this.animDur,this.animBeginArr.push(this.animDur)),this.animatePaths(S,this.dynamicAnim&&i.globals.dataChanged?{size:this.sliceSizes[f],endAngle:p,startAngle:h,prevStartAngle:d,prevEndAngle:g,animateStartingPos:!0,i:f,animBeginArr:this.animBeginArr,shouldSetPrevPaths:!0,dur:i.config.chart.animations.dynamicAnimation.speed}:{size:this.sliceSizes[f],endAngle:p,startAngle:h,i:f,totalItems:t.length-1,animBeginArr:this.animBeginArr,dur:m}),i.config.plotOptions.pie.expandOnClick&&"polarArea"!==this.chartType&&S.node.addEventListener("mouseup",this.pieClicked.bind(this,f)),void 0!==i.globals.selectedDataPoints[0]&&i.globals.selectedDataPoints[0].indexOf(f)>-1&&this.pieClicked(f),i.config.dataLabels.enabled){var w=c.x,T=c.y,P=100*y/this.fullAngle+"%";if(0!==y&&i.config.plotOptions.pie.dataLabels.minAngleToShowLabel<t[f]){var M=i.config.dataLabels.formatter;void 0!==M&&(P=M(i.globals.seriesPercent[f][0],{seriesIndex:f,w:i}));var I=i.globals.dataLabels.style.colors[f],E=n.group({class:"apexcharts-datalabels"}),X=n.drawText({x:w,y:T,text:P,textAnchor:"middle",fontSize:i.config.dataLabels.style.fontSize,fontFamily:i.config.dataLabels.style.fontFamily,fontWeight:i.config.dataLabels.style.fontWeight,foreColor:I});E.add(X),i.config.dataLabels.dropShadow.enabled&&a.dropShadow(X,i.config.dataLabels.dropShadow),X.node.classList.add("apexcharts-pie-label"),i.config.chart.animations.animate&&!1===i.globals.resized&&(X.node.classList.add("apexcharts-pie-label-delay"),X.node.style.animationDelay=i.config.chart.animations.speed/940+"s"),this.sliceLabels.push(E)}}}return r}},{key:"addListeners",value:function(t,e){var i=new H(this.ctx);t.node.addEventListener("mouseenter",i.pathMouseEnter.bind(this,t)),t.node.addEventListener("mouseleave",i.pathMouseLeave.bind(this,t)),t.node.addEventListener("mouseleave",this.revertDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",i.pathMouseDown.bind(this,t)),this.donutDataLabels.total.showAlways||(t.node.addEventListener("mouseenter",this.printDataLabelsInner.bind(this,t.node,e)),t.node.addEventListener("mousedown",this.printDataLabelsInner.bind(this,t.node,e)))}},{key:"animatePaths",value:function(t,e){var a=e.endAngle<e.startAngle?this.fullAngle+e.endAngle-e.startAngle:e.endAngle-e.startAngle,n=a,o=e.startAngle,r=e.startAngle;void 0!==e.prevStartAngle&&void 0!==e.prevEndAngle&&(o=e.prevEndAngle,n=e.prevEndAngle<e.prevStartAngle?this.fullAngle+e.prevEndAngle-e.prevStartAngle:e.prevEndAngle-e.prevStartAngle),e.i===this.w.config.series.length-1&&(a+r>this.fullAngle?e.endAngle=e.endAngle-(a+r):a+r<this.fullAngle&&(e.endAngle=e.endAngle+(this.fullAngle-(a+r)))),a===this.fullAngle&&(a=this.fullAngle-.01),this.animateArc(t,o,r,a,n,e)}},{key:"animateArc",value:function(t,e,i,a,n,o){var r,h=this,d=this.w,p=new ne(this.ctx),g=o.size;(isNaN(e)||isNaN(n))&&(e=i,n=a,o.dur=0);var f=a,x=i,y=e<i?this.fullAngle+e-i:e-i;d.globals.dataChanged&&o.shouldSetPrevPaths&&o.prevEndAngle&&(r=h.getPiePath({me:h,startAngle:o.prevStartAngle,angle:o.prevEndAngle<o.prevStartAngle?this.fullAngle+o.prevEndAngle-o.prevStartAngle:o.prevEndAngle-o.prevStartAngle,size:g}),t.attr({d:r})),0!==o.dur?t.animate(o.dur,d.globals.easing,o.animBeginArr[o.i]).afterAll(function(){"pie"!==h.chartType&&"donut"!==h.chartType&&"polarArea"!==h.chartType||this.animate(d.config.chart.animations.dynamicAnimation.speed).attr({"stroke-width":h.strokeWidth}),o.i===d.config.series.length-1&&p.animationCompleted(t)}).during(function(b){f=y+(a-y)*b,o.animateStartingPos&&(f=n+(a-n)*b,x=e-n+(i-(e-n))*b),r=h.getPiePath({me:h,startAngle:x,angle:f,size:g}),t.node.setAttribute("data:pathOrig",r),t.attr({d:r})}):(r=h.getPiePath({me:h,startAngle:x,angle:a,size:g}),o.isTrack||(d.globals.animationEnded=!0),t.node.setAttribute("data:pathOrig",r),t.attr({d:r,"stroke-width":h.strokeWidth}))}},{key:"pieClicked",value:function(t){var e,i=this.w,a=this,n=a.sliceSizes[t]+(i.config.plotOptions.pie.expandOnClick?4:0),o=i.globals.dom.Paper.select(".apexcharts-".concat(a.chartType.toLowerCase(),"-slice-").concat(t)).members[0];if("true"!==o.attr("data:pieClicked")){var r=i.globals.dom.baseEl.getElementsByClassName("apexcharts-pie-area");Array.prototype.forEach.call(r,function(g){g.setAttribute("data:pieClicked","false");var f=g.getAttribute("data:pathOrig");f&&g.setAttribute("d",f)}),i.globals.capturedDataPointIndex=t,o.attr("data:pieClicked","true");var h=parseInt(o.attr("data:startAngle"),10),d=parseInt(o.attr("data:angle"),10);e=a.getPiePath({me:a,startAngle:h,angle:d,size:n}),360!==d&&o.plot(e)}else{o.attr({"data:pieClicked":"false"}),this.revertDataLabelsInner(o.node,this.donutDataLabels);var p=o.attr("data:pathOrig");o.attr({d:p})}}},{key:"getChangedPath",value:function(t,e){var i="";return this.dynamicAnim&&this.w.globals.dataChanged&&(i=this.getPiePath({me:this,startAngle:t,angle:e-t,size:this.size})),i}},{key:"getPiePath",value:function(t){var e,i=t.me,a=t.startAngle,n=t.angle,o=t.size,r=new H(this.ctx),h=a,d=Math.PI*(h-90)/180,p=n+a;Math.ceil(p)>=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle&&(p=this.fullAngle+this.w.config.plotOptions.pie.startAngle%this.fullAngle-.01),Math.ceil(p)>this.fullAngle&&(p-=this.fullAngle);var g=Math.PI*(p-90)/180,f=i.centerX+o*Math.cos(d),x=i.centerY+o*Math.sin(d),y=i.centerX+o*Math.cos(g),b=i.centerY+o*Math.sin(g),k=R.polarToCartesian(i.centerX,i.centerY,i.donutSize,p),S=R.polarToCartesian(i.centerX,i.centerY,i.donutSize,h),C=n>180?1:0,c=["M",f,x,"A",o,o,0,C,1,y,b];return e="donut"===i.chartType?[].concat(c,["L",k.x,k.y,"A",i.donutSize,i.donutSize,0,C,0,S.x,S.y,"L",f,x,"z"]).join(" "):"pie"===i.chartType||"polarArea"===i.chartType?[].concat(c,["L",i.centerX,i.centerY,"L",f,x]).join(" "):[].concat(c).join(" "),r.roundPathCorners(e,2*this.strokeWidth)}},{key:"drawPolarElements",value:function(t){var e=this.w,i=new ge(this.ctx),a=new H(this.ctx),n=new De(this.ctx),o=a.group(),r=a.group(),h=i.niceScale(0,Math.ceil(this.maxY),0),d=h.result.reverse(),p=h.result.length;this.maxY=h.niceMax;for(var g=e.globals.radialSize,f=g/(p-1),x=0;x<p-1;x++){var y=a.drawCircle(g);if(y.attr({cx:this.centerX,cy:this.centerY,fill:"none","stroke-width":e.config.plotOptions.polarArea.rings.strokeWidth,stroke:e.config.plotOptions.polarArea.rings.strokeColor}),e.config.yaxis[0].show){var b=n.drawYAxisTexts(this.centerX,this.centerY-g+parseInt(e.config.yaxis[0].labels.style.fontSize,10)/2,x,d[x]);r.add(b)}o.add(y),g-=f}this.drawSpokes(t),t.add(o),t.add(r)}},{key:"renderInnerDataLabels",value:function(t,e,i){var a=this.w,n=new H(this.ctx),o=e.total.show;t.node.innerHTML="",t.node.style.opacity=i.opacity;var r,h,d=i.centerX,p=this.donutDataLabels.total.label?i.centerY:i.centerY-i.centerY/6;r=void 0===e.name.color?a.globals.colors[0]:e.name.color;var g=e.name.fontSize,f=e.name.fontFamily,x=e.name.fontWeight;h=void 0===e.value.color?a.config.chart.foreColor:e.value.color;var y=e.value.formatter,b="",k="";if(o?(r=e.total.color,g=e.total.fontSize,f=e.total.fontFamily,x=e.total.fontWeight,k=this.donutDataLabels.total.label?e.total.label:"",b=e.total.formatter(a)):1===a.globals.series.length&&(b=y(a.globals.series[0],a),k=a.globals.seriesNames[0]),k&&(k=e.name.formatter(k,e.total.show,a)),e.name.show){var S=n.drawText({x:d,y:p+parseFloat(e.name.offsetY),text:k,textAnchor:"middle",foreColor:r,fontSize:g,fontWeight:x,fontFamily:f});S.node.classList.add("apexcharts-datalabel-label"),t.add(S)}if(e.value.show){var C=e.name.show?parseFloat(e.value.offsetY)+16:e.value.offsetY,c=n.drawText({x:d,y:p+C,text:b,textAnchor:"middle",foreColor:h,fontWeight:e.value.fontWeight,fontSize:e.value.fontSize,fontFamily:e.value.fontFamily});c.node.classList.add("apexcharts-datalabel-value"),t.add(c)}return t}},{key:"printInnerLabels",value:function(t,e,i,a){var n,o=this.w;a?n=void 0===t.name.color?o.globals.colors[parseInt(a.parentNode.getAttribute("rel"),10)-1]:t.name.color:o.globals.series.length>1&&t.total.show&&(n=t.total.color);var r=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-label"),h=o.globals.dom.baseEl.querySelector(".apexcharts-datalabel-value");i=(0,t.value.formatter)(i,o),a||"function"!=typeof t.total.formatter||(i=t.total.formatter(o)),e=this.donutDataLabels.total.label?t.name.formatter(e,e===t.total.label,o):"",null!==r&&(r.textContent=e),null!==h&&(h.textContent=i),null!==r&&(r.style.fill=n)}},{key:"printDataLabelsInner",value:function(t,e){var i=this.w,a=t.getAttribute("data:value"),n=i.globals.seriesNames[parseInt(t.parentNode.getAttribute("rel"),10)-1];i.globals.series.length>1&&this.printInnerLabels(e,n,a,t);var o=i.globals.dom.baseEl.querySelector(".apexcharts-datalabels-group");null!==o&&(o.style.opacity=1)}},{key:"drawSpokes",value:function(t){var e=this,i=this.w,a=new H(this.ctx),n=i.config.plotOptions.polarArea.spokes;if(0!==n.strokeWidth){for(var o=[],r=360/i.globals.series.length,h=0;h<i.globals.series.length;h++)o.push(R.polarToCartesian(this.centerX,this.centerY,i.globals.radialSize,i.config.plotOptions.pie.startAngle+r*h));o.forEach(function(d,p){var g=a.drawLine(d.x,d.y,e.centerX,e.centerY,Array.isArray(n.connectorColors)?n.connectorColors[p]:n.connectorColors);t.add(g)})}}},{key:"revertDataLabelsInner",value:function(){var t=this.w;if(this.donutDataLabels.show){var e=t.globals.dom.Paper.select(".apexcharts-datalabels-group").members[0],i=this.renderInnerDataLabels(e,this.donutDataLabels,{hollowSize:this.donutSize,centerX:this.centerX,centerY:this.centerY,opacity:this.donutDataLabels.show});t.globals.dom.Paper.select(".apexcharts-radialbar, .apexcharts-pie").members[0].add(i)}}}]),A}(),gi=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w,this.chartType=this.w.config.chart.type,this.initialAnim=this.w.config.chart.animations.enabled,this.dynamicAnim=this.initialAnim&&this.w.config.chart.animations.dynamicAnimation.enabled,this.animDur=0;var e=this.w;this.graphics=new H(this.ctx),this.lineColorArr=void 0!==e.globals.stroke.colors?e.globals.stroke.colors:e.globals.colors,this.defaultSize=e.globals.svgHeight<e.globals.svgWidth?e.globals.gridHeight:e.globals.gridWidth,this.isLog=e.config.yaxis[0].logarithmic,this.logBase=e.config.yaxis[0].logBase,this.coreUtils=new Lt(this.ctx),this.maxValue=this.isLog?this.coreUtils.getLogVal(this.logBase,e.globals.maxY,0):e.globals.maxY,this.minValue=this.isLog?this.coreUtils.getLogVal(this.logBase,this.w.globals.minY,0):e.globals.minY,this.polygons=e.config.plotOptions.radar.polygons,this.strokeWidth=e.config.stroke.show?e.config.stroke.width:0,this.size=this.defaultSize/2.1-this.strokeWidth-e.config.chart.dropShadow.blur,e.config.xaxis.labels.show&&(this.size=this.size-e.globals.xAxisLabelsWidth/1.75),void 0!==e.config.plotOptions.radar.size&&(this.size=e.config.plotOptions.radar.size),this.dataRadiusOfPercent=[],this.dataRadius=[],this.angleArr=[],this.yaxisLabelsTextsPos=[]}return W(A,[{key:"draw",value:function(t){var e=this,i=this.w,a=new Et(this.ctx),n=[],o=new re(this.ctx);t.length&&(this.dataPointsLen=t[i.globals.maxValsInArrayIndex].length),this.disAngle=2*Math.PI/this.dataPointsLen;var p=i.globals.gridHeight/2+i.config.plotOptions.radar.offsetY,g=this.graphics.group({class:"apexcharts-radar-series apexcharts-plot-series",transform:"translate(".concat(i.globals.gridWidth/2+i.config.plotOptions.radar.offsetX||0,", ").concat(p||0,")")}),f=[],x=null,y=null;if(this.yaxisLabels=this.graphics.group({class:"apexcharts-yaxis"}),t.forEach(function(k,S){var C=k.length===i.globals.dataPoints,c=e.graphics.group().attr({class:"apexcharts-series","data:longestSeries":C,seriesName:R.escapeString(i.globals.seriesNames[S]),rel:S+1,"data:realIndex":S});e.dataRadiusOfPercent[S]=[],e.dataRadius[S]=[],e.angleArr[S]=[],k.forEach(function(D,Y){var G=Math.abs(e.maxValue-e.minValue);D-=e.minValue,e.isLog&&(D=e.coreUtils.getLogVal(e.logBase,D,0)),e.dataRadiusOfPercent[S][Y]=D/G,e.dataRadius[S][Y]=e.dataRadiusOfPercent[S][Y]*e.size,e.angleArr[S][Y]=Y*e.disAngle}),f=e.getDataPointsPos(e.dataRadius[S],e.angleArr[S]);var m=e.createPaths(f,{x:0,y:0});x=e.graphics.group({class:"apexcharts-series-markers-wrap apexcharts-element-hidden"}),y=e.graphics.group({class:"apexcharts-datalabels","data:realIndex":S}),i.globals.delayedElements.push({el:x.node,index:S});var w={i:S,realIndex:S,animationDelay:S,initialSpeed:i.config.chart.animations.speed,dataChangeSpeed:i.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-radar",shouldClipToGrid:!1,bindEventsOnPaths:!1,stroke:i.globals.stroke.colors[S],strokeLineCap:i.config.stroke.lineCap},T=null;i.globals.previousPaths.length>0&&(T=e.getPreviousPath(S));for(var P=0;P<m.linePathsTo.length;P++){var M=e.graphics.renderPaths(Z(Z({},w),{},{pathFrom:null===T?m.linePathsFrom[P]:T,pathTo:m.linePathsTo[P],strokeWidth:Array.isArray(e.strokeWidth)?e.strokeWidth[S]:e.strokeWidth,fill:"none",drawShadow:!1}));c.add(M);var I=a.fillPath({seriesNumber:S}),E=e.graphics.renderPaths(Z(Z({},w),{},{pathFrom:null===T?m.areaPathsFrom[P]:T,pathTo:m.areaPathsTo[P],strokeWidth:0,fill:I,drawShadow:!1}));i.config.chart.dropShadow.enabled&&new Dt(e.ctx).dropShadow(E,Object.assign({},i.config.chart.dropShadow,{noUserSpaceOnUse:!0}),S),c.add(E)}k.forEach(function(D,Y){var G=new jt(e.ctx).getMarkerConfig({cssClass:"apexcharts-marker",seriesIndex:S,dataPointIndex:Y}),$=e.graphics.drawMarker(f[Y].x,f[Y].y,G);$.attr("rel",Y),$.attr("j",Y),$.attr("index",S),$.node.setAttribute("default-marker-size",G.pSize);var K=e.graphics.group({class:"apexcharts-series-markers"});K&&K.add($),x.add(K),c.add(x);var Q=i.config.dataLabels;if(Q.enabled){var it=Q.formatter(i.globals.series[S][Y],{seriesIndex:S,dataPointIndex:Y,w:i});o.plotDataLabelsText({x:f[Y].x,y:f[Y].y,text:it,textAnchor:"middle",i:S,j:S,parent:y,offsetCorrection:!1,dataLabelsConfig:Z({},Q)})}c.add(y)}),n.push(c)}),this.drawPolygons({parent:g}),i.config.xaxis.labels.show){var b=this.drawXAxisTexts();g.add(b)}return n.forEach(function(k){g.add(k)}),g.add(this.yaxisLabels),g}},{key:"drawPolygons",value:function(t){for(var e=this,i=this.w,a=t.parent,n=new De(this.ctx),o=i.globals.yAxisScale[0].result.reverse(),r=o.length,h=[],d=this.size/(r-1),p=0;p<r;p++)h[p]=d*p;h.reverse();var g=[],f=[];h.forEach(function(x,y){var b=R.getPolygonPos(x,e.dataPointsLen),k="";b.forEach(function(S,C){if(0===y){var c=e.graphics.drawLine(S.x,S.y,0,0,Array.isArray(e.polygons.connectorColors)?e.polygons.connectorColors[C]:e.polygons.connectorColors);f.push(c)}0===C&&e.yaxisLabelsTextsPos.push({x:S.x,y:S.y}),k+=S.x+","+S.y+" "}),g.push(k)}),g.forEach(function(x,y){var b=e.polygons.strokeColors,k=e.polygons.strokeWidth,S=e.graphics.drawPolygon(x,Array.isArray(b)?b[y]:b,Array.isArray(k)?k[y]:k,i.globals.radarPolygons.fill.colors[y]);a.add(S)}),f.forEach(function(x){a.add(x)}),i.config.yaxis[0].show&&this.yaxisLabelsTextsPos.forEach(function(x,y){var b=n.drawYAxisTexts(x.x,x.y,y,o[y]);e.yaxisLabels.add(b)})}},{key:"drawXAxisTexts",value:function(){var t=this,e=this.w,i=e.config.xaxis.labels,a=this.graphics.group({class:"apexcharts-xaxis"}),n=R.getPolygonPos(this.size,this.dataPointsLen);return e.globals.labels.forEach(function(o,r){var h=e.config.xaxis.labels.formatter,d=new re(t.ctx);if(n[r]){var p=t.getTextPos(n[r],t.size),g=h(o,{seriesIndex:-1,dataPointIndex:r,w:e});d.plotDataLabelsText({x:p.newX,y:p.newY,text:g,textAnchor:p.textAnchor,i:r,j:r,parent:a,className:"apexcharts-xaxis-label",color:Array.isArray(i.style.colors)&&i.style.colors[r]?i.style.colors[r]:"#a8a8a8",dataLabelsConfig:Z({textAnchor:p.textAnchor,dropShadow:{enabled:!1}},i),offsetCorrection:!1}).on("click",function(f){if("function"==typeof e.config.chart.events.xAxisLabelClick){var x=Object.assign({},e,{labelIndex:r});e.config.chart.events.xAxisLabelClick(f,t.ctx,x)}})}}),a}},{key:"createPaths",value:function(t,e){var i=this,a=[],n=[],o=[],r=[];if(t.length){n=[this.graphics.move(e.x,e.y)],r=[this.graphics.move(e.x,e.y)];var h=this.graphics.move(t[0].x,t[0].y),d=this.graphics.move(t[0].x,t[0].y);t.forEach(function(p,g){h+=i.graphics.line(p.x,p.y),d+=i.graphics.line(p.x,p.y),g===t.length-1&&(h+="Z",d+="Z")}),a.push(h),o.push(d)}return{linePathsFrom:n,linePathsTo:a,areaPathsFrom:r,areaPathsTo:o}}},{key:"getTextPos",value:function(t,e){var i="middle",a=t.x,n=t.y;return Math.abs(t.x)>=10?t.x>0?(i="start",a+=10):t.x<0&&(i="end",a-=10):i="middle",Math.abs(t.y)>=e-10&&(t.y<0?n-=10:t.y>0&&(n+=10)),{textAnchor:i,newX:a,newY:n}}},{key:"getPreviousPath",value:function(t){for(var e=this.w,i=null,a=0;a<e.globals.previousPaths.length;a++){var n=e.globals.previousPaths[a];n.paths.length>0&&parseInt(n.realIndex,10)===parseInt(t,10)&&void 0!==e.globals.previousPaths[a].paths[0]&&(i=e.globals.previousPaths[a].paths[0].d)}return i}},{key:"getDataPointsPos",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.dataPointsLen;t=t||[],e=e||[];for(var a=[],n=0;n<i;n++){var o={};o.x=t[n]*Math.sin(e[n]),o.y=-t[n]*Math.cos(e[n]),a.push(o)}return a}}]),A}(),Fe=function(A){kt(e,A);var t=ct(e);function e(i){var a;q(this,e),(a=t.call(this,i)).ctx=i,a.w=i.w,a.animBeginArr=[0],a.animDur=0;var n=a.w;return a.startAngle=n.config.plotOptions.radialBar.startAngle,a.endAngle=n.config.plotOptions.radialBar.endAngle,a.totalAngle=Math.abs(n.config.plotOptions.radialBar.endAngle-n.config.plotOptions.radialBar.startAngle),a.trackStartAngle=n.config.plotOptions.radialBar.track.startAngle,a.trackEndAngle=n.config.plotOptions.radialBar.track.endAngle,a.barLabels=a.w.config.plotOptions.radialBar.barLabels,a.donutDataLabels=a.w.config.plotOptions.radialBar.dataLabels,a.radialDataLabels=a.donutDataLabels,a.trackStartAngle||(a.trackStartAngle=a.startAngle),a.trackEndAngle||(a.trackEndAngle=a.endAngle),360===a.endAngle&&(a.endAngle=359.99),a.margin=parseInt(n.config.plotOptions.radialBar.track.margin,10),a.onBarLabelClick=a.onBarLabelClick.bind(ht(a)),a}return W(e,[{key:"draw",value:function(i){var a=this.w,n=new H(this.ctx),o=n.group({class:"apexcharts-radialbar"});if(a.globals.noData)return o;var r=n.group(),h=this.defaultSize/2,d=a.globals.gridWidth/2,p=this.defaultSize/2.05;a.config.chart.sparkline.enabled||(p=p-a.config.stroke.width-a.config.chart.dropShadow.blur);var g=a.globals.fill.colors;if(a.config.plotOptions.radialBar.track.show){var f=this.drawTracks({size:p,centerX:d,centerY:h,colorArr:g,series:i});r.add(f)}var x=this.drawArcs({size:p,centerX:d,centerY:h,colorArr:g,series:i}),y=360;a.config.plotOptions.radialBar.startAngle<0&&(y=this.totalAngle);var b=(360-y)/360;if(a.globals.radialSize=p-p*b,this.radialDataLabels.value.show){var k=Math.max(this.radialDataLabels.value.offsetY,this.radialDataLabels.name.offsetY);a.globals.radialSize+=k*b}return r.add(x.g),"front"===a.config.plotOptions.radialBar.hollow.position&&(x.g.add(x.elHollow),x.dataLabels&&x.g.add(x.dataLabels)),o.add(r),o}},{key:"drawTracks",value:function(i){var a=this.w,n=new H(this.ctx),o=n.group({class:"apexcharts-tracks"}),r=new Dt(this.ctx),h=new Et(this.ctx),d=this.getStrokeWidth(i);i.size=i.size-d/2;for(var p=0;p<i.series.length;p++){var g=n.group({class:"apexcharts-radialbar-track apexcharts-track"});o.add(g),g.attr({rel:p+1}),i.size=i.size-d-this.margin;var f=a.config.plotOptions.radialBar.track,x=h.fillPath({seriesNumber:0,size:i.size,fillColors:Array.isArray(f.background)?f.background[p]:f.background,solid:!0}),y=this.trackStartAngle,b=this.trackEndAngle;Math.abs(b)+Math.abs(y)>=360&&(b=360-Math.abs(this.startAngle)-.1);var k=n.drawPath({d:"",stroke:x,strokeWidth:d*parseInt(f.strokeWidth,10)/100,fill:"none",strokeOpacity:f.opacity,classes:"apexcharts-radialbar-area"});f.dropShadow.enabled&&r.dropShadow(k,f.dropShadow),g.add(k),k.attr("id","apexcharts-radialbarTrack-"+p),this.animatePaths(k,{centerX:i.centerX,centerY:i.centerY,endAngle:b,startAngle:y,size:i.size,i:p,totalItems:2,animBeginArr:0,dur:0,isTrack:!0,easing:a.globals.easing})}return o}},{key:"drawArcs",value:function(i){var a=this.w,n=new H(this.ctx),o=new Et(this.ctx),r=new Dt(this.ctx),h=n.group(),d=this.getStrokeWidth(i);i.size=i.size-d/2;var p=a.config.plotOptions.radialBar.hollow.background,g=i.size-d*i.series.length-this.margin*i.series.length-d*parseInt(a.config.plotOptions.radialBar.track.strokeWidth,10)/100/2,f=g-a.config.plotOptions.radialBar.hollow.margin;void 0!==a.config.plotOptions.radialBar.hollow.image&&(p=this.drawHollowImage(i,h,g,p));var x=this.drawHollow({size:f,centerX:i.centerX,centerY:i.centerY,fill:p||"transparent"});a.config.plotOptions.radialBar.hollow.dropShadow.enabled&&r.dropShadow(x,a.config.plotOptions.radialBar.hollow.dropShadow);var b=1;!this.radialDataLabels.total.show&&a.globals.series.length>1&&(b=0);var k=null;if(this.radialDataLabels.show){var S=a.globals.dom.Paper.select(".apexcharts-datalabels-group").members[0];k=this.renderInnerDataLabels(S,this.radialDataLabels,{hollowSize:g,centerX:i.centerX,centerY:i.centerY,opacity:b})}"back"===a.config.plotOptions.radialBar.hollow.position&&(h.add(x),k&&h.add(k));var C=!1;a.config.plotOptions.radialBar.inverseOrder&&(C=!0);for(var c=C?i.series.length-1:0;C?c>=0:c<i.series.length;C?c--:c++){var m=n.group({class:"apexcharts-series apexcharts-radial-series",seriesName:R.escapeString(a.globals.seriesNames[c])});h.add(m),m.attr({rel:c+1,"data:realIndex":c}),this.ctx.series.addCollapsedClassToSeries(m,c),i.size=i.size-d-this.margin;var w=o.fillPath({seriesNumber:c,size:i.size,value:i.series[c]}),T=this.startAngle,P=void 0,M=R.negToZero(i.series[c]>100?100:i.series[c])/100,I=Math.round(this.totalAngle*M)+this.startAngle,E=void 0;a.globals.dataChanged&&(P=this.startAngle,E=Math.round(this.totalAngle*R.negToZero(a.globals.previousPaths[c])/100)+P),Math.abs(I)+Math.abs(T)>360&&(I-=.01),Math.abs(E)+Math.abs(P)>360&&(E-=.01);var X=I-T,F=Array.isArray(a.config.stroke.dashArray)?a.config.stroke.dashArray[c]:a.config.stroke.dashArray,D=n.drawPath({d:"",stroke:w,strokeWidth:d,fill:"none",fillOpacity:a.config.fill.opacity,classes:"apexcharts-radialbar-area apexcharts-radialbar-slice-"+c,strokeDashArray:F});if(H.setAttrs(D.node,{"data:angle":X,"data:value":i.series[c]}),a.config.chart.dropShadow.enabled&&r.dropShadow(D,a.config.chart.dropShadow,c),r.setSelectionFilter(D,0,c),this.addListeners(D,this.radialDataLabels),m.add(D),D.attr({index:0,j:c}),this.barLabels.enabled){var G=R.polarToCartesian(i.centerX,i.centerY,i.size,T),$=this.barLabels.formatter(a.globals.seriesNames[c],{seriesIndex:c,w:a}),K=["apexcharts-radialbar-label"];this.barLabels.onClick||K.push("apexcharts-no-click");var Q=this.barLabels.useSeriesColors?a.globals.colors[c]:a.config.chart.foreColor;Q||(Q=a.config.chart.foreColor);var it=G.x+this.barLabels.offsetX,et=G.y+this.barLabels.offsetY,ot=n.drawText({x:it,y:et,text:$,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.barLabels.fontFamily,fontWeight:this.barLabels.fontWeight,fontSize:this.barLabels.fontSize,foreColor:Q,cssClass:K.join(" ")});ot.on("click",this.onBarLabelClick),ot.attr({rel:c+1}),0!==T&&ot.attr({"transform-origin":"".concat(it," ").concat(et),transform:"rotate(".concat(T," 0 0)")}),m.add(ot)}var St=0;!this.initialAnim||a.globals.resized||a.globals.dataChanged||(St=a.config.chart.animations.speed),a.globals.dataChanged&&(St=a.config.chart.animations.dynamicAnimation.speed),this.animDur=St/(1.2*i.series.length)+this.animDur,this.animBeginArr.push(this.animDur),this.animatePaths(D,{centerX:i.centerX,centerY:i.centerY,endAngle:I,startAngle:T,prevEndAngle:E,prevStartAngle:P,size:i.size,i:c,totalItems:2,animBeginArr:this.animBeginArr,dur:St,shouldSetPrevPaths:!0,easing:a.globals.easing})}return{g:h,elHollow:x,dataLabels:k}}},{key:"drawHollow",value:function(i){var a=new H(this.ctx).drawCircle(2*i.size);return a.attr({class:"apexcharts-radialbar-hollow",cx:i.centerX,cy:i.centerY,r:i.size,fill:i.fill}),a}},{key:"drawHollowImage",value:function(i,a,n,o){var r=this.w,h=new Et(this.ctx),d=R.randomId(),p=r.config.plotOptions.radialBar.hollow.image;if(r.config.plotOptions.radialBar.hollow.imageClipped)h.clippedImgArea({width:n,height:n,image:p,patternID:"pattern".concat(r.globals.cuid).concat(d)}),o="url(#pattern".concat(r.globals.cuid).concat(d,")");else{var g=r.config.plotOptions.radialBar.hollow.imageWidth,f=r.config.plotOptions.radialBar.hollow.imageHeight;if(void 0===g&&void 0===f){var x=r.globals.dom.Paper.image(p).loaded(function(b){this.move(i.centerX-b.width/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-b.height/2+r.config.plotOptions.radialBar.hollow.imageOffsetY)});a.add(x)}else{var y=r.globals.dom.Paper.image(p).loaded(function(b){this.move(i.centerX-g/2+r.config.plotOptions.radialBar.hollow.imageOffsetX,i.centerY-f/2+r.config.plotOptions.radialBar.hollow.imageOffsetY),this.size(g,f)});a.add(y)}}return o}},{key:"getStrokeWidth",value:function(i){return i.size*(100-parseInt(this.w.config.plotOptions.radialBar.hollow.size,10))/100/(i.series.length+1)-this.margin}},{key:"onBarLabelClick",value:function(i){var a=parseInt(i.target.getAttribute("rel"),10)-1,n=this.barLabels.onClick,o=this.w;n&&n(o.globals.seriesNames[a],{w:o,seriesIndex:a})}}]),e}(je),Si=function(A){kt(e,A);var t=ct(e);function e(){return q(this,e),t.apply(this,arguments)}return W(e,[{key:"draw",value:function(i,a){var n=this.w,o=new H(this.ctx);this.rangeBarOptions=this.w.config.plotOptions.rangeBar,this.series=i,this.seriesRangeStart=n.globals.seriesRangeStart,this.seriesRangeEnd=n.globals.seriesRangeEnd,this.barHelpers.initVariables(i);for(var r=o.group({class:"apexcharts-rangebar-series apexcharts-plot-series"}),h=0;h<i.length;h++){var d,p,g,f,x=void 0,y=void 0,b=n.globals.comboCharts?a[h]:h,k=this.barHelpers.getGroupIndex(b).columnGroupIndex,S=o.group({class:"apexcharts-series",seriesName:R.escapeString(n.globals.seriesNames[b]),rel:h+1,"data:realIndex":b});this.ctx.series.addCollapsedClassToSeries(S,b),i[h].length>0&&(this.visibleI=this.visibleI+1);var C=0,c=0,m=0;this.yRatio.length>1&&(this.yaxisIndex=n.globals.seriesYAxisReverseMap[b][0],m=b);var w=this.barHelpers.initialPositions();y=w.y,f=w.zeroW,x=w.x,c=w.barWidth,C=w.barHeight,d=w.xDivision,p=w.yDivision,g=w.zeroH;for(var T=o.group({class:"apexcharts-datalabels","data:realIndex":b}),P=o.group({class:"apexcharts-rangebar-goals-markers"}),M=0;M<n.globals.dataPoints;M++){var I=this.barHelpers.getStrokeWidth(h,M,b),E=this.seriesRangeStart[h][M],X=this.seriesRangeEnd[h][M],F=null,D=null,Y=null,G={x,y,strokeWidth:I,elSeries:S},$=this.seriesLen;if(n.config.plotOptions.bar.rangeBarGroupRows&&($=1),void 0===n.config.series[h].data[M])break;if(this.isHorizontal){if(Y=y+C*this.visibleI,n.config.series[h].data[M].x){var Q=this.detectOverlappingBars({i:h,j:M,barYPosition:Y,srty:(p-C*$)/2,barHeight:C,yDivision:p,initPositions:w});C=Q.barHeight,Y=Q.barYPosition}c=(F=this.drawRangeBarPaths(Z({indexes:{i:h,j:M,realIndex:b},barHeight:C,barYPosition:Y,zeroW:f,yDivision:p,y1:E,y2:X},G))).barWidth}else{if(n.globals.isXNumeric&&(x=(n.globals.seriesX[h][M]-n.globals.minX)/this.xRatio-c/2),D=x+c*this.visibleI,n.config.series[h].data[M].x){var et=this.detectOverlappingBars({i:h,j:M,barXPosition:D,srtx:(d-c*$)/2,barWidth:c,xDivision:d,initPositions:w});c=et.barWidth,D=et.barXPosition}C=(F=this.drawRangeColumnPaths(Z({indexes:{i:h,j:M,realIndex:b,translationsIndex:m},barWidth:c,barXPosition:D,zeroH:g,xDivision:d},G))).barHeight}var ot=this.barHelpers.drawGoalLine({barXPosition:F.barXPosition,barYPosition:Y,goalX:F.goalX,goalY:F.goalY,barHeight:C,barWidth:c});ot&&P.add(ot),y=F.y,x=F.x;var St=this.barHelpers.getPathFillColor(i,h,M,b);this.renderSeries({realIndex:b,pathFill:St,lineFill:n.globals.stroke.colors[b],j:M,i:h,x,y,y1:E,y2:X,pathFrom:F.pathFrom,pathTo:F.pathTo,strokeWidth:I,elSeries:S,series:i,barHeight:C,barWidth:c,barXPosition:D,barYPosition:Y,columnGroupIndex:k,elDataLabelsWrap:T,elGoalsMarkers:P,visibleSeries:this.visibleI,type:"rangebar"})}r.add(S)}return r}},{key:"detectOverlappingBars",value:function(i){var a=i.i,n=i.j,o=i.barYPosition,r=i.barXPosition,h=i.srty,d=i.srtx,p=i.barHeight,g=i.barWidth,f=i.yDivision,x=i.xDivision,y=i.initPositions,b=this.w,k=[],S=b.config.series[a].data[n].rangeName,C=b.config.series[a].data[n].x,c=Array.isArray(C)?C.join(" "):C,m=b.globals.labels.map(function(T){return Array.isArray(T)?T.join(" "):T}).indexOf(c),w=b.globals.seriesRange[a].findIndex(function(T){return T.x===c&&T.overlaps.length>0});return this.isHorizontal?(o=b.config.plotOptions.bar.rangeBarGroupRows?h+f*m:h+p*this.visibleI+f*m,w>-1&&!b.config.plotOptions.bar.rangeBarOverlap&&(k=b.globals.seriesRange[a][w].overlaps).indexOf(S)>-1&&(o=(p=y.barHeight/k.length)*this.visibleI+f*(100-parseInt(this.barOptions.barHeight,10))/100/2+p*(this.visibleI+k.indexOf(S))+f*m)):(m>-1&&!b.globals.timescaleLabels.length&&(r=b.config.plotOptions.bar.rangeBarGroupRows?d+x*m:d+g*this.visibleI+x*m),w>-1&&!b.config.plotOptions.bar.rangeBarOverlap&&(k=b.globals.seriesRange[a][w].overlaps).indexOf(S)>-1&&(r=(g=y.barWidth/k.length)*this.visibleI+x*(100-parseInt(this.barOptions.barWidth,10))/100/2+g*(this.visibleI+k.indexOf(S))+x*m)),{barYPosition:o,barXPosition:r,barHeight:p,barWidth:g}}},{key:"drawRangeColumnPaths",value:function(i){var a=i.indexes,n=i.x,o=i.xDivision,r=i.barWidth,h=i.barXPosition,d=i.zeroH,p=this.w,g=a.i,f=a.j,x=a.realIndex,y=a.translationsIndex,b=this.yRatio[y],k=this.getRangeValue(x,f),S=Math.min(k.start,k.end),C=Math.max(k.start,k.end);null==this.series[g][f]?S=d:(S=d-S/b,C=d-C/b);var c=Math.abs(C-S),m=this.barHelpers.getColumnPaths({barXPosition:h,barWidth:r,y1:S,y2:C,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,realIndex:x,i:x,j:f,w:p});if(p.globals.isXNumeric){var w=this.getBarXForNumericXAxis({x:n,j:f,realIndex:x,barWidth:r});n=w.x,h=w.barXPosition}else n+=o;return{pathTo:m.pathTo,pathFrom:m.pathFrom,barHeight:c,x:n,y:k.start<0&&k.end<0?S:C,goalY:this.barHelpers.getGoalValues("y",null,d,g,f,y),barXPosition:h}}},{key:"preventBarOverflow",value:function(i){var a=this.w;return i<0&&(i=0),i>a.globals.gridWidth&&(i=a.globals.gridWidth),i}},{key:"drawRangeBarPaths",value:function(i){var a=i.indexes,n=i.y,r=i.y2,h=i.yDivision,d=i.barHeight,p=i.barYPosition,g=i.zeroW,f=this.w,x=a.realIndex,y=a.j,b=this.preventBarOverflow(g+i.y1/this.invertedYRatio),k=this.preventBarOverflow(g+r/this.invertedYRatio),S=this.getRangeValue(x,y),C=Math.abs(k-b),c=this.barHelpers.getBarpaths({barYPosition:p,barHeight:d,x1:b,x2:k,strokeWidth:this.strokeWidth,series:this.seriesRangeEnd,i:x,realIndex:x,j:y,w:f});return f.globals.isXNumeric||(n+=h),{pathTo:c.pathTo,pathFrom:c.pathFrom,barWidth:C,x:S.start<0&&S.end<0?b:k,goalX:this.barHelpers.getGoalValues("x",g,null,x,y),y:n}}},{key:"getRangeValue",value:function(i,a){var n=this.w;return{start:n.globals.seriesRangeStart[i][a],end:n.globals.seriesRangeEnd[i][a]}}}]),e}(Se),Ci=function(){function A(t){q(this,A),this.w=t.w,this.lineCtx=t}return W(A,[{key:"sameValueSeriesFix",value:function(t,e){var i=this.w;if(("gradient"===i.config.fill.type||"gradient"===i.config.fill.type[t])&&new Lt(this.lineCtx.ctx,i).seriesHaveSameValues(t)){var a=e[t].slice();a[a.length-1]=a[a.length-1]+1e-6,e[t]=a}return e}},{key:"calculatePoints",value:function(t){var e=t.series,a=t.x,n=t.y,o=t.i,r=t.j,h=t.prevY,d=this.w,p=[],g=[];if(0===r){var f=this.lineCtx.categoryAxisCorrection+d.config.markers.offsetX;d.globals.isXNumeric&&(f=(d.globals.seriesX[t.realIndex][0]-d.globals.minX)/this.lineCtx.xRatio+d.config.markers.offsetX),p.push(f),g.push(R.isNumber(e[o][0])?h+d.config.markers.offsetY:null),p.push(a+d.config.markers.offsetX),g.push(R.isNumber(e[o][r+1])?n+d.config.markers.offsetY:null)}else p.push(a+d.config.markers.offsetX),g.push(R.isNumber(e[o][r+1])?n+d.config.markers.offsetY:null);return{x:p,y:g}}},{key:"checkPreviousPaths",value:function(t){for(var e=t.pathFromLine,i=t.pathFromArea,a=t.realIndex,n=this.w,o=0;o<n.globals.previousPaths.length;o++){var r=n.globals.previousPaths[o];("line"===r.type||"area"===r.type)&&r.paths.length>0&&parseInt(r.realIndex,10)===parseInt(a,10)&&("line"===r.type?(this.lineCtx.appendPathFrom=!1,e=n.globals.previousPaths[o].paths[0].d):"area"===r.type&&(this.lineCtx.appendPathFrom=!1,i=n.globals.previousPaths[o].paths[0].d,n.config.stroke.show&&n.globals.previousPaths[o].paths[1]&&(e=n.globals.previousPaths[o].paths[1].d)))}return{pathFromLine:e,pathFromArea:i}}},{key:"determineFirstPrevY",value:function(t){var e,i,a,n=t.i,o=t.realIndex,r=t.series,h=t.prevY,d=t.lineYPosition,p=t.translationsIndex,g=this.w,f=g.config.chart.stacked&&!g.globals.comboCharts||g.config.chart.stacked&&g.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||"bar"===(null===(e=this.w.config.series[o])||void 0===e?void 0:e.type)||"column"===(null===(i=this.w.config.series[o])||void 0===i?void 0:i.type));if(void 0!==(null===(a=r[n])||void 0===a?void 0:a[0]))h=(d=f&&n>0?this.lineCtx.prevSeriesY[n-1][0]:this.lineCtx.zeroY)-r[n][0]/this.lineCtx.yRatio[p]+2*(this.lineCtx.isReversed?r[n][0]/this.lineCtx.yRatio[p]:0);else if(f&&n>0&&void 0===r[n][0])for(var x=n-1;x>=0;x--)if(null!=r[x][0]){h=d=this.lineCtx.prevSeriesY[x][0];break}return{prevY:h,lineYPosition:d}}}]),A}(),Pt=function(A,t,e){var i=A.slice(t,e);if(t){if(e-t>1&&i[1].length<6){var a=i[0].length;i[1]=[2*i[0][a-2]-i[0][a-4],2*i[0][a-1]-i[0][a-3]].concat(i[1])}i[0]=i[0].slice(-2)}return i};function Le(A,t){return(t[1]-A[1])/(t[0]-A[0])}var he=function(){function A(t,e,i){q(this,A),this.ctx=t,this.w=t.w,this.xyRatios=e,this.pointsChart=!("bubble"!==this.w.config.chart.type&&"scatter"!==this.w.config.chart.type)||i,this.scatter=new Jt(this.ctx),this.noNegatives=this.w.globals.minX===Number.MAX_VALUE,this.lineHelpers=new Ci(this),this.markers=new jt(this.ctx),this.prevSeriesY=[],this.categoryAxisCorrection=0,this.yaxisIndex=0}return W(A,[{key:"draw",value:function(t,e,i,a){var n,o=this.w,r=new H(this.ctx),h=o.globals.comboCharts?e:o.config.chart.type,d=r.group({class:"apexcharts-".concat(h,"-series apexcharts-plot-series")}),p=new Lt(this.ctx,o);this.yRatio=this.xyRatios.yRatio,this.zRatio=this.xyRatios.zRatio,this.xRatio=this.xyRatios.xRatio,this.baseLineY=this.xyRatios.baseLineY,t=p.getLogSeries(t),this.yRatio=p.getLogYRatios(this.yRatio),this.prevSeriesY=[];for(var g=[],f=0;f<t.length;f++){t=this.lineHelpers.sameValueSeriesFix(f,t);var x=o.globals.comboCharts?i[f]:f,y=this.yRatio.length>1?x:0;this._initSerieVariables(t,f,x);var b=[],k=[],S=[],C=o.globals.padHorizontal+this.categoryAxisCorrection;this.ctx.series.addCollapsedClassToSeries(this.elSeries,x),o.globals.isXNumeric&&o.globals.seriesX.length>0&&(C=(o.globals.seriesX[x][0]-o.globals.minX)/this.xRatio),S.push(C);var c,m=C,w=void 0,T=m,P=this.zeroY,M=this.zeroY;P=this.lineHelpers.determineFirstPrevY({i:f,realIndex:x,series:t,prevY:P,lineYPosition:0,translationsIndex:y}).prevY,b.push("monotoneCubic"===o.config.stroke.curve&&null===t[f][0]?null:P),c=P,"rangeArea"===h&&(w=M=this.lineHelpers.determineFirstPrevY({i:f,realIndex:x,series:a,prevY:M,lineYPosition:0,translationsIndex:y}).prevY,k.push(null!==b[0]?M:null));var I=this._calculatePathsFrom({type:h,series:t,i:f,realIndex:x,translationsIndex:y,prevX:T,prevY:P,prevY2:M}),E=[b[0]],X=[k[0]],F={type:h,series:t,realIndex:x,translationsIndex:y,i:f,x:C,y:1,pX:m,pY:c,pathsFrom:I,linePaths:[],areaPaths:[],seriesIndex:i,lineYPosition:0,xArrj:S,yArrj:b,y2Arrj:k,seriesRangeEnd:a},D=this._iterateOverDataPoints(Z(Z({},F),{},{iterations:"rangeArea"===h?t[f].length-1:void 0,isRangeStart:!0}));if("rangeArea"===h){for(var Y=this._calculatePathsFrom({series:a,i:f,realIndex:x,prevX:T,prevY:M}),G=this._iterateOverDataPoints(Z(Z({},F),{},{series:a,xArrj:[C],yArrj:E,y2Arrj:X,pY:w,areaPaths:D.areaPaths,pathsFrom:Y,iterations:a[f].length-1,isRangeStart:!1})),$=D.linePaths.length/2,K=0;K<$;K++)D.linePaths[K]=G.linePaths[K+$]+D.linePaths[K];D.linePaths.splice($),D.pathFromLine=G.pathFromLine+D.pathFromLine}else D.pathFromArea+="z";this._handlePaths({type:h,realIndex:x,i:f,paths:D}),this.elSeries.add(this.elPointsMain),this.elSeries.add(this.elDataLabelsWrap),g.push(this.elSeries)}if(void 0!==(null===(n=o.config.series[0])||void 0===n?void 0:n.zIndex)&&g.sort(function(et,ot){return Number(et.node.getAttribute("zIndex"))-Number(ot.node.getAttribute("zIndex"))}),o.config.chart.stacked)for(var Q=g.length-1;Q>=0;Q--)d.add(g[Q]);else for(var it=0;it<g.length;it++)d.add(g[it]);return d}},{key:"_initSerieVariables",value:function(t,e,i){var a=this.w,n=new H(this.ctx);this.xDivision=a.globals.gridWidth/(a.globals.dataPoints-("on"===a.config.xaxis.tickPlacement?1:0)),this.strokeWidth=Array.isArray(a.config.stroke.width)?a.config.stroke.width[i]:a.config.stroke.width;var o=0;this.yRatio.length>1&&(this.yaxisIndex=a.globals.seriesYAxisReverseMap[i],o=i),this.isReversed=a.config.yaxis[this.yaxisIndex]&&a.config.yaxis[this.yaxisIndex].reversed,this.zeroY=a.globals.gridHeight-this.baseLineY[o]-(this.isReversed?a.globals.gridHeight:0)+(this.isReversed?2*this.baseLineY[o]:0),this.areaBottomY=this.zeroY,(this.zeroY>a.globals.gridHeight||"end"===a.config.plotOptions.area.fillTo)&&(this.areaBottomY=a.globals.gridHeight),this.categoryAxisCorrection=this.xDivision/2,this.elSeries=n.group({class:"apexcharts-series",zIndex:void 0!==a.config.series[i].zIndex?a.config.series[i].zIndex:i,seriesName:R.escapeString(a.globals.seriesNames[i])}),this.elPointsMain=n.group({class:"apexcharts-series-markers-wrap","data:realIndex":i}),this.elDataLabelsWrap=n.group({class:"apexcharts-datalabels","data:realIndex":i}),this.elSeries.attr({"data:longestSeries":t[e].length===a.globals.dataPoints,rel:e+1,"data:realIndex":i}),this.appendPathFrom=!0}},{key:"_calculatePathsFrom",value:function(t){var e,i,a,n,o=t.type,r=t.series,h=t.i,d=t.realIndex,p=t.translationsIndex,g=t.prevX,f=t.prevY,x=t.prevY2,y=this.w,b=new H(this.ctx);if(null===r[h][0]){for(var k=0;k<r[h].length;k++)if(null!==r[h][k]){e=b.move(g=this.xDivision*k,f=this.zeroY-r[h][k]/this.yRatio[p]),i=b.move(g,this.areaBottomY);break}}else e=b.move(g,f),"rangeArea"===o&&(e=b.move(g,x)+b.line(g,f)),i=b.move(g,this.areaBottomY)+b.line(g,f);if(a=b.move(0,this.zeroY)+b.line(0,this.zeroY),n=b.move(0,this.zeroY)+b.line(0,this.zeroY),y.globals.previousPaths.length>0){var S=this.lineHelpers.checkPreviousPaths({pathFromLine:a,pathFromArea:n,realIndex:d});a=S.pathFromLine,n=S.pathFromArea}return{prevX:g,prevY:f,linePath:e,areaPath:i,pathFromLine:a,pathFromArea:n}}},{key:"_handlePaths",value:function(t){var e=t.type,i=t.realIndex,a=t.i,n=t.paths,o=this.w,r=new H(this.ctx),h=new Et(this.ctx);this.prevSeriesY.push(n.yArrj),o.globals.seriesXvalues[i]=n.xArrj,o.globals.seriesYvalues[i]=n.yArrj;var d=o.config.forecastDataPoints;if(d.count>0&&"rangeArea"!==e){var p=o.globals.seriesXvalues[i][o.globals.seriesXvalues[i].length-d.count-1],g=r.drawRect(p,0,o.globals.gridWidth,o.globals.gridHeight,0);o.globals.dom.elForecastMask.appendChild(g.node);var f=r.drawRect(0,0,p,o.globals.gridHeight,0);o.globals.dom.elNonForecastMask.appendChild(f.node)}this.pointsChart||o.globals.delayedElements.push({el:this.elPointsMain.node,index:i});var x={i:a,realIndex:i,animationDelay:a,initialSpeed:o.config.chart.animations.speed,dataChangeSpeed:o.config.chart.animations.dynamicAnimation.speed,className:"apexcharts-".concat(e)};if("area"===e)for(var y=h.fillPath({seriesNumber:i}),b=0;b<n.areaPaths.length;b++){var k=r.renderPaths(Z(Z({},x),{},{pathFrom:n.pathFromArea,pathTo:n.areaPaths[b],stroke:"none",strokeWidth:0,strokeLineCap:null,fill:y}));this.elSeries.add(k)}if(o.config.stroke.show&&!this.pointsChart){var S=null;if("line"===e)S=h.fillPath({seriesNumber:i,i:a});else if("solid"===o.config.stroke.fill.type)S=o.globals.stroke.colors[i];else{var C=o.config.fill;o.config.fill=o.config.stroke.fill,S=h.fillPath({seriesNumber:i,i:a}),o.config.fill=C}for(var c=0;c<n.linePaths.length;c++){var m=S;"rangeArea"===e&&(m=h.fillPath({seriesNumber:i}));var w=Z(Z({},x),{},{pathFrom:n.pathFromLine,pathTo:n.linePaths[c],stroke:S,strokeWidth:this.strokeWidth,strokeLineCap:o.config.stroke.lineCap,fill:"rangeArea"===e?m:"none"}),T=r.renderPaths(w);if(this.elSeries.add(T),T.attr("fill-rule","evenodd"),d.count>0&&"rangeArea"!==e){var P=r.renderPaths(w);P.node.setAttribute("stroke-dasharray",d.dashArray),d.strokeWidth&&P.node.setAttribute("stroke-width",d.strokeWidth),this.elSeries.add(P),P.attr("clip-path","url(#forecastMask".concat(o.globals.cuid,")")),T.attr("clip-path","url(#nonForecastMask".concat(o.globals.cuid,")"))}}}}},{key:"_iterateOverDataPoints",value:function(t){var e,i,a=this,n=t.type,o=t.series,r=t.iterations,h=t.realIndex,d=t.translationsIndex,p=t.i,g=t.x,f=t.y,x=t.pX,y=t.pY,b=t.pathsFrom,k=t.linePaths,S=t.areaPaths,C=t.seriesIndex,c=t.lineYPosition,m=t.xArrj,w=t.yArrj,T=t.y2Arrj,P=t.isRangeStart,M=t.seriesRangeEnd,I=this.w,E=new H(this.ctx),X=this.yRatio,F=b.prevY,D=b.linePath,Y=b.areaPath,G=b.pathFromLine,$=b.pathFromArea,K=R.isNumber(I.globals.minYArr[h])?I.globals.minYArr[h]:I.globals.minY;r||(r=I.globals.dataPoints>1?I.globals.dataPoints-1:I.globals.dataPoints);var Q=function(It,wt){return wt-It/X[d]+2*(a.isReversed?It/X[d]:0)},it=f,et=I.config.chart.stacked&&!I.globals.comboCharts||I.config.chart.stacked&&I.globals.comboCharts&&(!this.w.config.chart.stackOnlyBar||"bar"===(null===(e=this.w.config.series[h])||void 0===e?void 0:e.type)||"column"===(null===(i=this.w.config.series[h])||void 0===i?void 0:i.type)),ot=I.config.stroke.curve;Array.isArray(ot)&&(ot=Array.isArray(C)?ot[C[p]]:ot[p]);for(var St,yt=0,xt=0;xt<r;xt++){var Vt=null==o[p][xt+1];if(I.globals.isXNumeric){var ft=I.globals.seriesX[h][xt+1];void 0===I.globals.seriesX[h][xt+1]&&(ft=I.globals.seriesX[h][r-1]),g=(ft-I.globals.minX)/this.xRatio}else g+=this.xDivision;c=et&&p>0&&I.globals.collapsedSeries.length<I.config.series.length-1?this.prevSeriesY[function(It){for(var wt=It;wt>0;wt--){if(!(I.globals.collapsedSeriesIndices.indexOf(C?.[wt]||wt)>-1))return wt;wt--}return 0}(p-1)][xt+1]:this.zeroY,Vt?f=Q(K,c):(f=Q(o[p][xt+1],c),"rangeArea"===n&&(it=Q(M[p][xt+1],c))),m.push(g),!Vt||"smooth"!==I.config.stroke.curve&&"monotoneCubic"!==I.config.stroke.curve?(w.push(f),T.push(it)):(w.push(null),T.push(null));var gt=this.lineHelpers.calculatePoints({series:o,x:g,y:f,realIndex:h,i:p,j:xt,prevY:F}),dt=this._createPaths({type:n,series:o,i:p,realIndex:h,j:xt,x:g,y:f,y2:it,xArrj:m,yArrj:w,y2Arrj:T,pX:x,pY:y,pathState:yt,segmentStartX:St,linePath:D,areaPath:Y,linePaths:k,areaPaths:S,curve:ot,isRangeStart:P});S=dt.areaPaths,k=dt.linePaths,x=dt.pX,y=dt.pY,yt=dt.pathState,St=dt.segmentStartX,Y=dt.areaPath,D=dt.linePath,!this.appendPathFrom||"monotoneCubic"===ot&&"rangeArea"===n||(G+=E.line(g,this.zeroY),$+=E.line(g,this.zeroY)),this.handleNullDataPoints(o,gt,p,xt,h),this._handleMarkersAndLabels({type:n,pointsPos:gt,i:p,j:xt,realIndex:h,isRangeStart:P})}return{yArrj:w,xArrj:m,pathFromArea:$,areaPaths:S,pathFromLine:G,linePaths:k,linePath:D,areaPath:Y}}},{key:"_handleMarkersAndLabels",value:function(t){var e=t.type,i=t.pointsPos,a=t.isRangeStart,n=t.i,o=t.j,r=t.realIndex,h=this.w,d=new re(this.ctx);if(this.pointsChart)this.scatter.draw(this.elSeries,o,{realIndex:r,pointsPos:i,zRatio:this.zRatio,elParent:this.elPointsMain});else{h.globals.series[n].length>1&&this.elPointsMain.node.classList.add("apexcharts-element-hidden");var p=this.markers.plotChartMarkers(i,r,o+1);null!==p&&this.elPointsMain.add(p)}var g=d.drawDataLabel({type:e,isRangeStart:a,pos:i,i:r,j:o+1});null!==g&&this.elDataLabelsWrap.add(g)}},{key:"_createPaths",value:function(t){var n,e=t.type,i=t.series,a=t.i,o=t.j,r=t.x,h=t.y,d=t.xArrj,p=t.yArrj,g=t.y2,f=t.y2Arrj,x=t.pX,y=t.pY,b=t.pathState,k=t.segmentStartX,S=t.linePath,C=t.areaPath,c=t.linePaths,m=t.areaPaths,w=t.curve,T=t.isRangeStart,P=new H(this.ctx),M=this.areaBottomY,I="rangeArea"===e,E="rangeArea"===e&&T;switch(w){case"monotoneCubic":var X=T?p:f;switch(b){case 0:if(null===X[o+1])break;b=1;case 1:if(!(I?d.length===i[a].length:o===i[a].length-2))break;case 2:var F=T?d:d.slice().reverse(),D=T?X:X.slice().reverse(),Y=(n=D,F.map(function(ft,gt){return[ft,n[gt]]}).filter(function(ft){return null!==ft[1]})),G=Y.length>1?function(A){var t=function(A){for(var t,e,i,a,n=function(p){for(var g=[],f=p[0],x=p[1],y=g[0]=Le(f,x),b=1,k=p.length-1;b<k;b++)g[b]=.5*(y+(y=Le(f=x,x=p[b+1])));return g[b]=y,g}(A),o=A.length-1,r=[],h=0;h<o;h++)i=Le(A[h],A[h+1]),Math.abs(i)<1e-6?n[h]=n[h+1]=0:(a=(t=n[h]/i)*t+(e=n[h+1]/i)*e)>9&&(a=3*i/Math.sqrt(a),n[h]=a*t,n[h+1]=a*e);for(var d=0;d<=o;d++)a=(A[Math.min(o,d+1)][0]-A[Math.max(0,d-1)][0])/(6*(1+n[d]*n[d])),r.push([a||0,n[d]*a||0]);return r}(A),e=A[1],i=A[0],a=[],n=t[1],o=t[0];a.push(i,[i[0]+o[0],i[1]+o[1],e[0]-n[0],e[1]-n[1],e[0],e[1]]);for(var r=2,h=t.length;r<h;r++){var d=A[r],p=t[r];a.push([d[0]-p[0],d[1]-p[1],d[0],d[1]])}return a}(Y):Y,$=[];I&&(E?m=Y:$=m.reverse());var K=0,Q=0;if(function(ft,gt){for(var dt=function(Pe){var Xt=[],Ht=0;return Pe.forEach(function(me){null!==me?Ht++:Ht>0&&(Xt.push(Ht),Ht=0)}),Ht>0&&Xt.push(Ht),Xt}(ft),It=[],wt=0,Qt=0;wt<dt.length;Qt+=dt[wt++])It[wt]=Pt(gt,Qt,Qt+dt[wt]);return It}(D,G).forEach(function(ft){K++;var gt=function(wt){for(var Qt="",Pe=0;Pe<wt.length;Pe++){var Xt=wt[Pe],Ht=Xt.length;Ht>4?(Qt+="C".concat(Xt[0],", ").concat(Xt[1]),Qt+=", ".concat(Xt[2],", ").concat(Xt[3]),Qt+=", ".concat(Xt[4],", ").concat(Xt[5])):Ht>2&&(Qt+="S".concat(Xt[0],", ").concat(Xt[1]),Qt+=", ".concat(Xt[2],", ").concat(Xt[3]))}return Qt}(ft),dt=Q,It=(Q+=ft.length)-1;E?S=P.move(Y[dt][0],Y[dt][1])+gt:I?S=P.move($[dt][0],$[dt][1])+P.line(Y[dt][0],Y[dt][1])+gt+P.line($[It][0],$[It][1]):(S=P.move(Y[dt][0],Y[dt][1])+gt,C=S+P.line(Y[It][0],M)+P.line(Y[dt][0],M)+"z",m.push(C)),c.push(S)}),I&&K>1&&!E){var it=c.slice(K).reverse();c.splice(K),it.forEach(function(ft){return c.push(ft)})}b=0}break;case"smooth":var et=.35*(r-x);if(null===i[a][o])b=0;else switch(b){case 0:if(k=x,S=E?P.move(x,f[o])+P.line(x,y):P.move(x,y),C=P.move(x,y),null===i[a][o+1]){c.push(S),m.push(C);break}if(b=1,o<i[a].length-2){var ot=P.curve(x+et,y,r-et,h,r,h);S+=ot,C+=ot;break}case 1:if(null===i[a][o+1])S+=E?P.line(x,g):P.move(x,y),C+=P.line(x,M)+P.line(k,M)+"z",c.push(S),m.push(C),b=-1;else{var St=P.curve(x+et,y,r-et,h,r,h);S+=St,C+=St,o>=i[a].length-2&&(E&&(S+=P.curve(r,h,r,h,r,g)+P.move(r,g)),C+=P.curve(r,h,r,h,r,M)+P.line(k,M)+"z",c.push(S),m.push(C),b=-1)}}x=r,y=h;break;default:var yt=function(ft,gt,dt){var It=[];switch(ft){case"stepline":It=P.line(gt,null,"H")+P.line(null,dt,"V");break;case"linestep":It=P.line(null,dt,"V")+P.line(gt,null,"H");break;case"straight":It=P.line(gt,dt)}return It};if(null===i[a][o])b=0;else switch(b){case 0:if(k=x,S=E?P.move(x,f[o])+P.line(x,y):P.move(x,y),C=P.move(x,y),null===i[a][o+1]){c.push(S),m.push(C);break}if(b=1,o<i[a].length-2){var xt=yt(w,r,h);S+=xt,C+=xt;break}case 1:if(null===i[a][o+1])S+=E?P.line(x,g):P.move(x,y),C+=P.line(x,M)+P.line(k,M)+"z",c.push(S),m.push(C),b=-1;else{var Vt=yt(w,r,h);S+=Vt,C+=Vt,o>=i[a].length-2&&(E&&(S+=P.line(r,g)),C+=P.line(r,M)+P.line(k,M)+"z",c.push(S),m.push(C),b=-1)}}x=r,y=h}return{linePaths:c,areaPaths:m,pX:x,pY:y,pathState:b,segmentStartX:k,linePath:S,areaPath:C}}},{key:"handleNullDataPoints",value:function(t,e,i,a,n){var o=this.w;if(null===t[i][a]&&o.config.markers.showNullDataPoints||1===t[i].length){var r=this.strokeWidth-o.config.markers.strokeWidth/2;r>0||(r=0);var h=this.markers.plotChartMarkers(e,n,a+1,r,!0);null!==h&&this.elPointsMain.add(h)}}}]),A}();window.TreemapSquared={},window.TreemapSquared.generate=function(){function A(r,h,d,p){this.xoffset=r,this.yoffset=h,this.height=p,this.width=d,this.shortestEdge=function(){return Math.min(this.height,this.width)},this.getCoordinates=function(g){var f,x=[],y=this.xoffset,b=this.yoffset,k=n(g)/this.height,S=n(g)/this.width;if(this.width>=this.height)for(f=0;f<g.length;f++)x.push([y,b,y+k,b+g[f]/k]),b+=g[f]/k;else for(f=0;f<g.length;f++)x.push([y,b,y+g[f]/S,b+S]),y+=g[f]/S;return x},this.cutArea=function(g){var f;if(this.width>=this.height){var x=g/this.height;f=new A(this.xoffset+x,this.yoffset,this.width-x,this.height)}else{var b=g/this.width;f=new A(this.xoffset,this.yoffset+b,this.width,this.height-b)}return f}}function t(r,h,d,p,g){return p=void 0===p?0:p,g=void 0===g?0:g,function(x){var y,b,k=[];for(y=0;y<x.length;y++)for(b=0;b<x[y].length;b++)k.push(x[y][b]);return k}(e(function(x,y){var b,k=[],S=y/n(x);for(b=0;b<x.length;b++)k[b]=x[b]*S;return k}(r,h*d),[],new A(p,g,h,d),[]))}function e(r,h,d,p){var g,f,x,y,b,k,S;if(0!==r.length)return g=d.shortestEdge(),b=f=r[0],k=g,0===(y=h).length||((S=y.slice()).push(b),i(y,k)>=i(S,k))?(h.push(f),e(r.slice(1),h,d,p)):(x=d.cutArea(n(h),p),p.push(d.getCoordinates(h)),e(r,[],x,p)),p;p.push(d.getCoordinates(h))}function i(r,h){var d=Math.min.apply(Math,r),p=Math.max.apply(Math,r),g=n(r);return Math.max(Math.pow(h,2)*p/Math.pow(g,2),Math.pow(g,2)/(Math.pow(h,2)*d))}function a(r){return r&&r.constructor===Array}function n(r){var h,d=0;for(h=0;h<r.length;h++)d+=r[h];return d}function o(r){var h,d=0;if(a(r[0]))for(h=0;h<r.length;h++)d+=o(r[h]);else d=n(r);return d}return function r(h,d,p,g,f){g=void 0===g?0:g,f=void 0===f?0:f;var x,y,b=[],k=[];if(a(h[0])){for(y=0;y<h.length;y++)b[y]=o(h[y]);for(x=t(b,d,p,g,f),y=0;y<h.length;y++)k.push(r(h[y],x[y][2]-x[y][0],x[y][3]-x[y][1],x[y][0],x[y][1]))}else k=t(h,d,p,g,f);return k}}();var Gt,fe,nt=function(){function A(t,e){q(this,A),this.ctx=t,this.w=t.w,this.strokeWidth=this.w.config.stroke.width,this.helpers=new Ce(t),this.dynamicAnim=this.w.config.chart.animations.dynamicAnimation,this.labels=[]}return W(A,[{key:"draw",value:function(t){var e=this,i=this.w,a=new H(this.ctx),n=new Et(this.ctx),o=a.group({class:"apexcharts-treemap"});if(i.globals.noData)return o;var r=[];return t.forEach(function(h){var d=h.map(function(p){return Math.abs(p)});r.push(d)}),this.negRange=this.helpers.checkColorRange(),i.config.series.forEach(function(h,d){h.data.forEach(function(p){Array.isArray(e.labels[d])||(e.labels[d]=[]),e.labels[d].push(p.x)})}),window.TreemapSquared.generate(r,i.globals.gridWidth,i.globals.gridHeight).forEach(function(h,d){var p=a.group({class:"apexcharts-series apexcharts-treemap-series",seriesName:R.escapeString(i.globals.seriesNames[d]),rel:d+1,"data:realIndex":d});if(i.config.chart.dropShadow.enabled){var g=i.config.chart.dropShadow;new Dt(e.ctx).dropShadow(o,g,d)}var f=a.group({class:"apexcharts-data-labels"});h.forEach(function(x,y){var b=x[0],k=x[1],S=x[2],C=x[3],c=a.drawRect(b,k,S-b,C-k,i.config.plotOptions.treemap.borderRadius,"#fff",1,e.strokeWidth,i.config.plotOptions.treemap.useFillColorAsStroke?w:i.globals.stroke.colors[d]);c.attr({cx:b,cy:k,index:d,i:d,j:y,width:S-b,height:C-k});var m=e.helpers.getShadeColor(i.config.chart.type,d,y,e.negRange),w=m.color;void 0!==i.config.series[d].data[y]&&i.config.series[d].data[y].fillColor&&(w=i.config.series[d].data[y].fillColor);var T=n.fillPath({color:w,seriesNumber:d,dataPointIndex:y});c.node.classList.add("apexcharts-treemap-rect"),c.attr({fill:T}),e.helpers.addListeners(c);var P={x:b+(S-b)/2,y:k+(C-k)/2,width:0,height:0},M={x:b,y:k,width:S-b,height:C-k};if(i.config.chart.animations.enabled&&!i.globals.dataChanged){var I=1;i.globals.resized||(I=i.config.chart.animations.speed),e.animateTreemap(c,P,M,I)}i.globals.dataChanged&&e.dynamicAnim.enabled&&i.globals.shouldAnimate&&(i.globals.previousPaths[d]&&i.globals.previousPaths[d][y]&&i.globals.previousPaths[d][y].rect&&(P=i.globals.previousPaths[d][y].rect),e.animateTreemap(c,P,M,e.dynamicAnim.speed));var X=e.getFontSize(x),F=i.config.dataLabels.formatter(e.labels[d][y],{value:i.globals.series[d][y],seriesIndex:d,dataPointIndex:y,w:i});"truncate"===i.config.plotOptions.treemap.dataLabels.format&&(X=parseInt(i.config.dataLabels.style.fontSize,10),F=e.truncateLabels(F,X,b,k,S,C));var D=null;i.globals.series[d][y]&&(D=e.helpers.calculateDataLabels({text:F,x:(b+S)/2,y:(k+C)/2+e.strokeWidth/2+X/3,i:d,j:y,colorProps:m,fontSize:X,series:t})),i.config.dataLabels.enabled&&D&&e.rotateToFitLabel(D,X,F,b,k,S,C),p.add(c),null!==D&&p.add(D)}),p.add(f),o.add(p)}),o}},{key:"getFontSize",value:function(t){var o,e=this.w,r=function h(d){var p,g=0;if(Array.isArray(d[0]))for(p=0;p<d.length;p++)g+=h(d[p]);else for(p=0;p<d.length;p++)g+=d[p].length;return g}(this.labels)/function h(d){var p,g=0;if(Array.isArray(d[0]))for(p=0;p<d.length;p++)g+=h(d[p]);else for(p=0;p<d.length;p++)g+=1;return g}(this.labels);return o=Math.pow((t[2]-t[0])*(t[3]-t[1]),.5),Math.min(o/r,parseInt(e.config.dataLabels.style.fontSize,10))}},{key:"rotateToFitLabel",value:function(t,e,i,a,n,o,r){var h=new H(this.ctx),d=h.getTextRects(i,e);if(d.width+this.w.config.stroke.width+5>o-a&&d.width<=r-n){var p=h.rotateAroundCenter(t.node);t.node.setAttribute("transform","rotate(-90 ".concat(p.x," ").concat(p.y,") translate(").concat(d.height/3,")"))}}},{key:"truncateLabels",value:function(t,e,i,a,n,o){var r=new H(this.ctx),h=r.getTextRects(t,e).width+this.w.config.stroke.width+5>n-i&&o-a>n-i?o-a:n-i,d=r.getTextBasedOnMaxWidth({text:t,maxWidth:h,fontSize:e});return t.length!==d.length&&h/e<5?"":d}},{key:"animateTreemap",value:function(t,e,i,a){var n=new ne(this.ctx);n.animateRect(t,{x:e.x,y:e.y,width:e.width,height:e.height},{x:i.x,y:i.y,width:i.width,height:i.height},a,function(){n.animationCompleted(t)})}}]),A}(),Ue=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w,this.timeScaleArray=[],this.utc=this.w.config.xaxis.labels.datetimeUTC}return W(A,[{key:"calculateTimeScaleTicks",value:function(t,e){var i=this,a=this.w;if(a.globals.allSeriesCollapsed)return a.globals.labels=[],a.globals.timescaleLabels=[],[];var n=new bt(this.ctx),o=(e-t)/864e5;this.determineInterval(o),a.globals.disableZoomIn=!1,a.globals.disableZoomOut=!1,o<.00011574074074074075?a.globals.disableZoomIn=!0:o>5e4&&(a.globals.disableZoomOut=!0);var r=n.getTimeUnitsfromTimestamp(t,e,this.utc),h=a.globals.gridWidth/o,d=h/24,p=d/60,g=p/60,f=Math.floor(24*o),x=Math.floor(1440*o),y=Math.floor(86400*o),b=Math.floor(o),k=Math.floor(o/30),S=Math.floor(o/365),C={minMillisecond:r.minMillisecond,minSecond:r.minSecond,minMinute:r.minMinute,minHour:r.minHour,minDate:r.minDate,minMonth:r.minMonth,minYear:r.minYear},c={firstVal:C,currentMillisecond:C.minMillisecond,currentSecond:C.minSecond,currentMinute:C.minMinute,currentHour:C.minHour,currentMonthDate:C.minDate,currentDate:C.minDate,currentMonth:C.minMonth,currentYear:C.minYear,daysWidthOnXAxis:h,hoursWidthOnXAxis:d,minutesWidthOnXAxis:p,secondsWidthOnXAxis:g,numberOfSeconds:y,numberOfMinutes:x,numberOfHours:f,numberOfDays:b,numberOfMonths:k,numberOfYears:S};switch(this.tickInterval){case"years":this.generateYearScale(c);break;case"months":case"half_year":this.generateMonthScale(c);break;case"months_days":case"months_fortnight":case"days":case"week_days":this.generateDayScale(c);break;case"hours":this.generateHourScale(c);break;case"minutes_fives":case"minutes":this.generateMinuteScale(c);break;case"seconds_tens":case"seconds_fives":case"seconds":this.generateSecondScale(c)}var m=this.timeScaleArray.map(function(w){var T={position:w.position,unit:w.unit,year:w.year,day:w.day?w.day:1,hour:w.hour?w.hour:0,month:w.month+1};return"month"===w.unit?Z(Z({},T),{},{day:1,value:w.value+1}):"day"===w.unit||"hour"===w.unit?Z(Z({},T),{},{value:w.value}):"minute"===w.unit?Z(Z({},T),{},{value:w.value,minute:w.value}):"second"===w.unit?Z(Z({},T),{},{value:w.value,minute:w.minute,second:w.second}):w});return m.filter(function(w){var T=1,P=Math.ceil(a.globals.gridWidth/120),M=w.value;void 0!==a.config.xaxis.tickAmount&&(P=a.config.xaxis.tickAmount),m.length>P&&(T=Math.floor(m.length/P));var I=!1,E=!1;switch(i.tickInterval){case"years":"year"===w.unit&&(I=!0);break;case"half_year":T=7,"year"===w.unit&&(I=!0);break;case"months":T=1,"year"===w.unit&&(I=!0);break;case"months_fortnight":T=15,"year"!==w.unit&&"month"!==w.unit||(I=!0),30===M&&(E=!0);break;case"months_days":T=10,"month"===w.unit&&(I=!0),30===M&&(E=!0);break;case"week_days":T=8,"month"===w.unit&&(I=!0);break;case"days":T=1,"month"===w.unit&&(I=!0);break;case"hours":"day"===w.unit&&(I=!0);break;case"minutes_fives":case"seconds_fives":M%5!=0&&(E=!0);break;case"seconds_tens":M%10!=0&&(E=!0)}if("hours"===i.tickInterval||"minutes_fives"===i.tickInterval||"seconds_tens"===i.tickInterval||"seconds_fives"===i.tickInterval){if(!E)return!0}else if((M%T==0||I)&&!E)return!0})}},{key:"recalcDimensionsBasedOnFormat",value:function(t,e){var i=this.w,a=this.formatDates(t),n=this.removeOverlappingTS(a);i.globals.timescaleLabels=n.slice(),new Xe(this.ctx).plotCoords()}},{key:"determineInterval",value:function(t){var e=24*t,i=60*e;switch(!0){case t/365>5:this.tickInterval="years";break;case t>800:this.tickInterval="half_year";break;case t>180:this.tickInterval="months";break;case t>90:this.tickInterval="months_fortnight";break;case t>60:this.tickInterval="months_days";break;case t>30:this.tickInterval="week_days";break;case t>2:this.tickInterval="days";break;case e>2.4:this.tickInterval="hours";break;case i>15:this.tickInterval="minutes_fives";break;case i>5:this.tickInterval="minutes";break;case i>1:this.tickInterval="seconds_tens";break;case 60*i>20:this.tickInterval="seconds_fives";break;default:this.tickInterval="seconds"}}},{key:"generateYearScale",value:function(t){var e=t.firstVal,i=t.currentMonth,a=t.currentYear,n=t.daysWidthOnXAxis,o=t.numberOfYears,r=e.minYear,h=0,d=new bt(this.ctx),p="year";if(e.minDate>1||e.minMonth>0){var g=d.determineRemainingDaysOfYear(e.minYear,e.minMonth,e.minDate);h=(d.determineDaysOfYear(e.minYear)-g+1)*n,this.timeScaleArray.push({position:h,value:r=e.minYear+1,unit:p,year:r,month:R.monthMod(i+1)})}else 1===e.minDate&&0===e.minMonth&&this.timeScaleArray.push({position:h,value:r,unit:p,year:a,month:R.monthMod(i+1)});for(var f=r,x=h,y=0;y<o;y++)f++,x=d.determineDaysOfYear(f-1)*n+x,this.timeScaleArray.push({position:x,value:f,unit:p,year:f,month:1})}},{key:"generateMonthScale",value:function(t){var e=t.firstVal,i=t.currentMonthDate,a=t.currentMonth,n=t.currentYear,o=t.daysWidthOnXAxis,r=t.numberOfMonths,h=a,d=0,p=new bt(this.ctx),g="month",f=0;if(e.minDate>1){d=(p.determineDaysOfMonths(a+1,e.minYear)-i+1)*o,h=R.monthMod(a+1);var x=n+f,y=R.monthMod(h),b=h;0===h&&(g="year",b=x,y=1,x+=f+=1),this.timeScaleArray.push({position:d,value:b,unit:g,year:x,month:y})}else this.timeScaleArray.push({position:d,value:h,unit:g,year:n,month:R.monthMod(a)});for(var k=h+1,S=d,C=0,c=1;C<r;C++,c++){0===(k=R.monthMod(k))?(g="year",f+=1):g="month";var m=this._getYear(n,k,f);S=p.determineDaysOfMonths(k,m)*o+S,this.timeScaleArray.push({position:S,value:0===k?m:k,unit:g,year:m,month:0===k?1:k}),k++}}},{key:"generateDayScale",value:function(t){var e=t.firstVal,i=t.currentMonth,a=t.currentYear,n=t.hoursWidthOnXAxis,o=t.numberOfDays,r=new bt(this.ctx),h="day",d=e.minDate+1,p=d,g=function(c,m,w){return c>r.determineDaysOfMonths(m+1,w)&&(p=1,h="month",x=m+=1),m},f=(24-e.minHour)*n,x=d,y=g(p,i,a);0===e.minHour&&1===e.minDate?(f=0,x=R.monthMod(e.minMonth),h="month",p=e.minDate):1!==e.minDate&&0===e.minHour&&0===e.minMinute&&(f=0,x=d=e.minDate,y=g(p=d,i,a)),this.timeScaleArray.push({position:f,value:x,unit:h,year:this._getYear(a,y,0),month:R.monthMod(y),day:p});for(var b=f,k=0;k<o;k++){h="day",y=g(p+=1,y,this._getYear(a,y,0));var S=this._getYear(a,y,0);b=24*n+b;var C=1===p?R.monthMod(y):p;this.timeScaleArray.push({position:b,value:C,unit:h,year:S,month:R.monthMod(y),day:C})}}},{key:"generateHourScale",value:function(t){var e=t.firstVal,i=t.currentDate,a=t.currentMonth,n=t.currentYear,o=t.minutesWidthOnXAxis,r=t.numberOfHours,h=new bt(this.ctx),d="hour",p=function(T,P){return T>h.determineDaysOfMonths(P+1,n)&&(k=1,P+=1),{month:P,date:k}},g=function(T,P){return T>h.determineDaysOfMonths(P+1,n)?P+=1:P},f=60-(e.minMinute+e.minSecond/60),x=f*o,y=e.minHour+1,b=y;60===f&&(x=0,b=y=e.minHour);var k=i;b>=24&&(b=0,k+=1,d="day");var S=p(k,a).month;S=g(k,S),this.timeScaleArray.push({position:x,value:y,unit:d,day:k,hour:b,year:n,month:R.monthMod(S)}),b++;for(var C=x,c=0;c<r;c++){d="hour",b>=24&&(b=0,d="day",S=p(k+=1,S).month,S=g(k,S));var m=this._getYear(n,S,0);this.timeScaleArray.push({position:C=60*o+C,value:0===b?k:b,unit:d,hour:b,day:k,year:m,month:R.monthMod(S)}),b++}}},{key:"generateMinuteScale",value:function(t){for(var d=t.minutesWidthOnXAxis,g=t.numberOfMinutes,f=t.currentMinute+1,x=t.currentDate,y=t.currentMonth,b=t.currentYear,k=t.currentHour,S=(60-t.currentSecond-t.currentMillisecond/1e3)*t.secondsWidthOnXAxis,C=0;C<g;C++)f>=60&&(f=0,24===(k+=1)&&(k=0)),this.timeScaleArray.push({position:S,value:f,unit:"minute",hour:k,minute:f,day:x,year:this._getYear(b,y,0),month:R.monthMod(y)}),S+=d,f++}},{key:"generateSecondScale",value:function(t){for(var d=t.secondsWidthOnXAxis,p=t.numberOfSeconds,g=t.currentSecond+1,f=t.currentMinute,x=t.currentDate,y=t.currentMonth,b=t.currentYear,k=t.currentHour,S=(1e3-t.currentMillisecond)/1e3*d,C=0;C<p;C++)g>=60&&(g=0,++f>=60&&(f=0,24==++k&&(k=0))),this.timeScaleArray.push({position:S,value:g,unit:"second",hour:k,minute:f,second:g,day:x,year:this._getYear(b,y,0),month:R.monthMod(y)}),S+=d,g++}},{key:"createRawDateString",value:function(t,e){var i=t.year;return 0===t.month&&(t.month=1),i+="-"+("0"+t.month.toString()).slice(-2),i+="day"===t.unit?"day"===t.unit?"-"+("0"+e).slice(-2):"-01":"-"+("0"+(t.day?t.day:"1")).slice(-2),i+="hour"===t.unit?"hour"===t.unit?"T"+("0"+e).slice(-2):"T00":"T"+("0"+(t.hour?t.hour:"0")).slice(-2),i+="minute"===t.unit?":"+("0"+e).slice(-2):":"+(t.minute?("0"+t.minute).slice(-2):"00"),i+="second"===t.unit?":"+("0"+e).slice(-2):":00",this.utc&&(i+=".000Z"),i}},{key:"formatDates",value:function(t){var e=this,i=this.w;return t.map(function(a){var n=a.value.toString(),o=new bt(e.ctx),r=e.createRawDateString(a,n),h=o.getDate(o.parseDate(r));if(e.utc||(h=o.getDate(o.parseDateWithTimezone(r))),void 0===i.config.xaxis.labels.format){var d="dd MMM",p=i.config.xaxis.labels.datetimeFormatter;"year"===a.unit&&(d=p.year),"month"===a.unit&&(d=p.month),"day"===a.unit&&(d=p.day),"hour"===a.unit&&(d=p.hour),"minute"===a.unit&&(d=p.minute),"second"===a.unit&&(d=p.second),n=o.formatDate(h,d)}else n=o.formatDate(h,i.config.xaxis.labels.format);return{dateString:r,position:a.position,value:n,unit:a.unit,year:a.year,month:a.month}})}},{key:"removeOverlappingTS",value:function(t){var e,i=this,a=new H(this.ctx),n=!1;t.length>0&&t[0].value&&t.every(function(h){return h.value.length===t[0].value.length})&&(n=!0,e=a.getTextRects(t[0].value).width);var o=0;return t.map(function(h,d){if(d>0&&i.w.config.xaxis.labels.hideOverlappingLabels){var p=n?e:a.getTextRects(t[o].value).width;return h.position>t[o].position+p+10?(o=d,h):null}return h}).filter(function(h){return null!==h})}},{key:"_getYear",value:function(t,e,i){return t+Math.floor(e/12)+i}}]),A}(),qt=function(){function A(t,e){q(this,A),this.ctx=e,this.w=e.w,this.el=t}return W(A,[{key:"setupElements",value:function(){var t=this.w,e=t.globals,i=t.config,a=i.chart.type;e.axisCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble","radar","heatmap","treemap"].includes(a),e.xyCharts=["line","area","bar","rangeBar","rangeArea","candlestick","boxPlot","scatter","bubble"].includes(a),e.isBarHorizontal=["bar","rangeBar","boxPlot"].includes(a)&&i.plotOptions.bar.horizontal,e.chartClass=".apexcharts".concat(e.chartID),e.dom.baseEl=this.el,e.dom.elWrap=document.createElement("div"),H.setAttrs(e.dom.elWrap,{id:e.chartClass.substring(1),class:"apexcharts-canvas ".concat(e.chartClass.substring(1))}),this.el.appendChild(e.dom.elWrap),e.dom.Paper=new window.SVG.Doc(e.dom.elWrap),e.dom.Paper.attr({class:"apexcharts-svg","xmlns:data":"ApexChartsNS",transform:"translate(".concat(i.chart.offsetX,", ").concat(i.chart.offsetY,")")}),e.dom.Paper.node.style.background="dark"!==i.theme.mode||i.chart.background?"light"!==i.theme.mode||i.chart.background?i.chart.background:"#fff":"#424242",this.setSVGDimensions(),e.dom.elLegendForeign=document.createElementNS(e.SVGNS,"foreignObject"),H.setAttrs(e.dom.elLegendForeign,{x:0,y:0,width:e.svgWidth,height:e.svgHeight}),e.dom.elLegendWrap=document.createElement("div"),e.dom.elLegendWrap.classList.add("apexcharts-legend"),e.dom.elLegendWrap.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),e.dom.elLegendForeign.appendChild(e.dom.elLegendWrap),e.dom.Paper.node.appendChild(e.dom.elLegendForeign),e.dom.elGraphical=e.dom.Paper.group().attr({class:"apexcharts-inner apexcharts-graphical"}),e.dom.elDefs=e.dom.Paper.defs(),e.dom.Paper.add(e.dom.elGraphical),e.dom.elGraphical.add(e.dom.elDefs)}},{key:"plotChartType",value:function(t,e){var i=this.w,a=this.ctx,n=i.config,o=i.globals,r={line:{series:[],i:[]},area:{series:[],i:[]},scatter:{series:[],i:[]},bubble:{series:[],i:[]},column:{series:[],i:[]},candlestick:{series:[],i:[]},boxPlot:{series:[],i:[]},rangeBar:{series:[],i:[]},rangeArea:{series:[],seriesRangeEnd:[],i:[]}},h=n.chart.type||"line",d=null,p=0;o.series.forEach(function(T,P){var M=t[P].type||h;r[M]?("rangeArea"===M?(r[M].series.push(o.seriesRangeStart[P]),r[M].seriesRangeEnd.push(o.seriesRangeEnd[P])):r[M].series.push(T),r[M].i.push(P),"column"!==M&&"bar"!==M||(i.globals.columnSeries=r.column)):["heatmap","treemap","pie","donut","polarArea","radialBar","radar"].includes(M)?d=M:"bar"===M?(r.column.series.push(T),r.column.i.push(P)):console.warn("You have specified an unrecognized series type (".concat(M,").")),h!==M&&"scatter"!==M&&p++}),p>0&&(d&&console.warn("Chart or series type ".concat(d," cannot appear with other chart or series types.")),r.column.series.length>0&&n.plotOptions.bar.horizontal&&(p-=r.column.series.length,r.column={series:[],i:[]},i.globals.columnSeries={series:[],i:[]},console.warn("Horizontal bars are not supported in a mixed/combo chart. Please turn off `plotOptions.bar.horizontal`"))),o.comboCharts||(o.comboCharts=p>0);var g=new he(a,e),f=new le(a,e);a.pie=new je(a);var x=new Fe(a);a.rangeBar=new Si(a,e);var y=new gi(a),b=[];if(o.comboCharts){var k,S,C=new Lt(a);if(r.area.series.length>0&&(k=b).push.apply(k,Rt(C.drawSeriesByGroup(r.area,o.areaGroups,"area",g))),r.column.series.length>0)if(n.chart.stacked){var c=new Ve(a,e);b.push(c.draw(r.column.series,r.column.i))}else a.bar=new Se(a,e),b.push(a.bar.draw(r.column.series,r.column.i));if(r.rangeArea.series.length>0&&b.push(g.draw(r.rangeArea.series,"rangeArea",r.rangeArea.i,r.rangeArea.seriesRangeEnd)),r.line.series.length>0&&(S=b).push.apply(S,Rt(C.drawSeriesByGroup(r.line,o.lineGroups,"line",g))),r.candlestick.series.length>0&&b.push(f.draw(r.candlestick.series,"candlestick",r.candlestick.i)),r.boxPlot.series.length>0&&b.push(f.draw(r.boxPlot.series,"boxPlot",r.boxPlot.i)),r.rangeBar.series.length>0&&b.push(a.rangeBar.draw(r.rangeBar.series,r.rangeBar.i)),r.scatter.series.length>0){var m=new he(a,e,!0);b.push(m.draw(r.scatter.series,"scatter",r.scatter.i))}if(r.bubble.series.length>0){var w=new he(a,e,!0);b.push(w.draw(r.bubble.series,"bubble",r.bubble.i))}}else switch(n.chart.type){case"line":b=g.draw(o.series,"line");break;case"area":b=g.draw(o.series,"area");break;case"bar":n.chart.stacked?b=new Ve(a,e).draw(o.series):(a.bar=new Se(a,e),b=a.bar.draw(o.series));break;case"candlestick":b=new le(a,e).draw(o.series,"candlestick");break;case"boxPlot":b=new le(a,e).draw(o.series,n.chart.type);break;case"rangeBar":b=a.rangeBar.draw(o.series);break;case"rangeArea":b=g.draw(o.seriesRangeStart,"rangeArea",void 0,o.seriesRangeEnd);break;case"heatmap":b=new Ze(a,e).draw(o.series);break;case"treemap":b=new nt(a,e).draw(o.series);break;case"pie":case"donut":case"polarArea":b=a.pie.draw(o.series);break;case"radialBar":b=x.draw(o.series);break;case"radar":b=y.draw(o.series);break;default:b=g.draw(o.series)}return b}},{key:"setSVGDimensions",value:function(){var t=this.w,e=t.globals,i=t.config;i.chart.width=i.chart.width||"100%",i.chart.height=i.chart.height||"auto",e.svgWidth=i.chart.width,e.svgHeight=i.chart.height;var a=R.getDimensions(this.el),n=i.chart.width.toString().split(/[0-9]+/g).pop();"%"===n?R.isNumber(a[0])&&(0===a[0].width&&(a=R.getDimensions(this.el.parentNode)),e.svgWidth=a[0]*parseInt(i.chart.width,10)/100):"px"!==n&&""!==n||(e.svgWidth=parseInt(i.chart.width,10));var o=String(i.chart.height).toString().split(/[0-9]+/g).pop();if("auto"!==e.svgHeight&&""!==e.svgHeight)if("%"===o){var r=R.getDimensions(this.el.parentNode);e.svgHeight=r[1]*parseInt(i.chart.height,10)/100}else e.svgHeight=parseInt(i.chart.height,10);else e.svgHeight=e.axisCharts?e.svgWidth/1.61:e.svgWidth/1.2;e.svgWidth=Math.max(e.svgWidth,0),e.svgHeight=Math.max(e.svgHeight,0),H.setAttrs(e.dom.Paper.node,{width:e.svgWidth,height:e.svgHeight}),"%"!==o&&(e.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(e.svgHeight+(i.chart.sparkline.enabled?0:e.axisCharts?i.chart.parentHeightOffset:0),"px")),e.dom.elWrap.style.width="".concat(e.svgWidth,"px"),e.dom.elWrap.style.height="".concat(e.svgHeight,"px")}},{key:"shiftGraphPosition",value:function(){var t=this.w.globals,e=t.translateY;H.setAttrs(t.dom.elGraphical.node,{transform:"translate(".concat(t.translateX,", ").concat(e,")")})}},{key:"resizeNonAxisCharts",value:function(){var t=this.w,e=t.globals,i=0,a=t.config.chart.sparkline.enabled?1:15;a+=t.config.grid.padding.bottom,["top","bottom"].includes(t.config.legend.position)&&t.config.legend.show&&!t.config.legend.floating&&(i=new ri(this.ctx).legendHelpers.getLegendDimensions().clwh+7);var n=t.globals.dom.baseEl.querySelector(".apexcharts-radialbar, .apexcharts-pie"),o=2.05*t.globals.radialSize;if(n&&!t.config.chart.sparkline.enabled&&0!==t.config.plotOptions.radialBar.startAngle){var r=R.getBoundingClientRect(n);o=r.bottom,o=Math.max(2.05*t.globals.radialSize,r.bottom-r.top)}var d=Math.ceil(o+e.translateY+i+a);e.dom.elLegendForeign&&e.dom.elLegendForeign.setAttribute("height",d),t.config.chart.height&&String(t.config.chart.height).includes("%")||(e.dom.elWrap.style.height="".concat(d,"px"),H.setAttrs(e.dom.Paper.node,{height:d}),e.dom.Paper.node.parentNode.parentNode.style.minHeight="".concat(d,"px"))}},{key:"coreCalculations",value:function(){new ke(this.ctx).init()}},{key:"resetGlobals",value:function(){var t=this,e=function(){return t.w.config.series.map(function(){return[]})},i=new mt,a=this.w.globals;i.initGlobalVars(a),a.seriesXvalues=e(),a.seriesYvalues=e()}},{key:"isMultipleY",value:function(){return!!(Array.isArray(this.w.config.yaxis)&&this.w.config.yaxis.length>1)&&(this.w.globals.isMultipleYAxis=!0,!0)}},{key:"xySettings",value:function(){var t=this.w,e=null;if(t.globals.axisCharts){if("back"===t.config.xaxis.crosshairs.position&&new ni(this.ctx).drawXCrosshairs(),"back"===t.config.yaxis[0].crosshairs.position&&new ni(this.ctx).drawYCrosshairs(),"datetime"===t.config.xaxis.type&&void 0===t.config.xaxis.labels.formatter){this.ctx.timeScale=new Ue(this.ctx);var i=[];isFinite(t.globals.minX)&&isFinite(t.globals.maxX)&&!t.globals.isBarHorizontal?i=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minX,t.globals.maxX):t.globals.isBarHorizontal&&(i=this.ctx.timeScale.calculateTimeScaleTicks(t.globals.minY,t.globals.maxY)),this.ctx.timeScale.recalcDimensionsBasedOnFormat(i)}e=new Lt(this.ctx).getCalculatedRatios()}return e}},{key:"updateSourceChart",value:function(t){this.ctx.w.globals.selection=void 0,this.ctx.updateHelpers._updateOptions({chart:{selection:{xaxis:{min:t.w.globals.minX,max:t.w.globals.maxX}}}},!1,!1)}},{key:"setupBrushHandler",value:function(){var t=this,e=this.w;if(e.config.chart.brush.enabled&&"function"!=typeof e.config.chart.events.selection){var i=Array.isArray(e.config.chart.brush.targets)?e.config.chart.brush.targets:[e.config.chart.brush.target];i.forEach(function(a){var n=ApexCharts.getChartByID(a);n.w.globals.brushSource=t.ctx,"function"!=typeof n.w.config.chart.events.zoomed&&(n.w.config.chart.events.zoomed=function(){return t.updateSourceChart(n)}),"function"!=typeof n.w.config.chart.events.scrolled&&(n.w.config.chart.events.scrolled=function(){return t.updateSourceChart(n)})}),e.config.chart.events.selection=function(a,n){i.forEach(function(o){ApexCharts.getChartByID(o).ctx.updateHelpers._updateOptions({xaxis:{min:n.xaxis.min,max:n.xaxis.max}},!1,!1,!1,!1)})}}}}]),A}(),qe=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w}return W(A,[{key:"_updateOptions",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new Promise(function(r){var h=[e.ctx];n&&(h=e.ctx.getSyncedCharts()),e.ctx.w.globals.isExecCalled&&(h=[e.ctx],e.ctx.w.globals.isExecCalled=!1),h.forEach(function(d,p){var g=d.w;if(g.globals.shouldAnimate=a,i||(g.globals.resized=!0,g.globals.dataChanged=!0,a&&d.series.getPreviousPaths()),t&&"object"===vt(t)&&(d.config=new Ct(t),t=Lt.extendArrayProps(d.config,t,g),d.w.globals.chartID!==e.ctx.w.globals.chartID&&delete t.series,g.config=R.extend(g.config,t),o&&(g.globals.lastXAxis=t.xaxis?R.clone(t.xaxis):[],g.globals.lastYAxis=t.yaxis?R.clone(t.yaxis):[],g.globals.initialConfig=R.extend({},g.config),g.globals.initialSeries=R.clone(g.config.series),t.series))){for(var f=0;f<g.globals.collapsedSeriesIndices.length;f++){var x=g.config.series[g.globals.collapsedSeriesIndices[f]];g.globals.collapsedSeries[f].data=g.globals.axisCharts?x.data.slice():x}for(var y=0;y<g.globals.ancillaryCollapsedSeriesIndices.length;y++){var b=g.config.series[g.globals.ancillaryCollapsedSeriesIndices[y]];g.globals.ancillaryCollapsedSeries[y].data=g.globals.axisCharts?b.data.slice():b}d.series.emptyCollapsedSeries(g.config.series)}return d.update(t).then(function(){p===h.length-1&&r(d)})})})}},{key:"_updateSeries",value:function(t,e){var i=this,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(n){var o,r=i.w;return r.globals.shouldAnimate=e,r.globals.dataChanged=!0,e&&i.ctx.series.getPreviousPaths(),r.globals.axisCharts?(0===(o=t.map(function(h,d){return i._extendSeries(h,d)})).length&&(o=[{data:[]}]),r.config.series=o):r.config.series=t.slice(),a&&(r.globals.initialConfig.series=R.clone(r.config.series),r.globals.initialSeries=R.clone(r.config.series)),i.ctx.update().then(function(){n(i.ctx)})})}},{key:"_extendSeries",value:function(t,e){var i=this.w,a=i.config.series[e];return Z(Z({},i.config.series[e]),{},{name:t.name?t.name:a?.name,color:t.color?t.color:a?.color,type:t.type?t.type:a?.type,group:t.group?t.group:a?.group,hidden:void 0!==t.hidden?t.hidden:a?.hidden,data:t.data?t.data:a?.data,zIndex:void 0!==t.zIndex?t.zIndex:e})}},{key:"toggleDataPointSelection",value:function(t,e){var i=this.w,a=null,n=".apexcharts-series[data\\:realIndex='".concat(t,"']");return i.globals.axisCharts?a=i.globals.dom.Paper.select("".concat(n," path[j='").concat(e,"'], ").concat(n," circle[j='").concat(e,"'], ").concat(n," rect[j='").concat(e,"']")).members[0]:void 0===e&&(a=i.globals.dom.Paper.select("".concat(n," path[j='").concat(t,"']")).members[0],"pie"!==i.config.chart.type&&"polarArea"!==i.config.chart.type&&"donut"!==i.config.chart.type||this.ctx.pie.pieClicked(t)),a?(new H(this.ctx).pathMouseDown(a,null),a.node?a.node:null):(console.warn("toggleDataPointSelection: Element not found"),null)}},{key:"forceXAxisUpdate",value:function(t){var e=this.w;if(["min","max"].forEach(function(a){void 0!==t.xaxis[a]&&(e.config.xaxis[a]=t.xaxis[a],e.globals.lastXAxis[a]=t.xaxis[a])}),t.xaxis.categories&&t.xaxis.categories.length&&(e.config.xaxis.categories=t.xaxis.categories),e.config.xaxis.convertedCatToNumeric){var i=new Bt(t);t=i.convertCatToNumericXaxis(t,this.ctx)}return t}},{key:"forceYAxisUpdate",value:function(t){return t.chart&&t.chart.stacked&&"100%"===t.chart.stackType&&(Array.isArray(t.yaxis)?t.yaxis.forEach(function(e,i){t.yaxis[i].min=0,t.yaxis[i].max=100}):(t.yaxis.min=0,t.yaxis.max=100)),t}},{key:"revertDefaultAxisMinMax",value:function(t){var e=this,i=this.w,a=i.globals.lastXAxis,n=i.globals.lastYAxis;t&&t.xaxis&&(a=t.xaxis),t&&t.yaxis&&(n=t.yaxis),i.config.xaxis.min=a.min,i.config.xaxis.max=a.max,i.config.yaxis.map(function(r,h){i.globals.zoomed||void 0!==n[h]?function(r){void 0!==n[r]&&(i.config.yaxis[r].min=n[r].min,i.config.yaxis[r].max=n[r].max)}(h):void 0!==e.ctx.opts.yaxis[h]&&(r.min=e.ctx.opts.yaxis[h].min,r.max=e.ctx.opts.yaxis[h].max)})}}]),A}();Gt=typeof window<"u"?window:void 0,fe=function(A,t){var e=(void 0!==this?this:A).SVG=function(c){if(e.supported)return c=new e.Doc(c),e.parser.draw||e.prepare(),c};if(e.ns="http://www.w3.org/2000/svg",e.xmlns="http://www.w3.org/2000/xmlns/",e.xlink="http://www.w3.org/1999/xlink",e.svgjs="http://svgjs.dev",e.supported=!0,!e.supported)return!1;e.did=1e3,e.eid=function(c){return"Svgjs"+p(c)+e.did++},e.create=function(c){var m=t.createElementNS(this.ns,c);return m.setAttribute("id",this.eid(c)),m},e.extend=function(){var c,m;m=(c=[].slice.call(arguments)).pop();for(var w=c.length-1;w>=0;w--)if(c[w])for(var T in m)c[w].prototype[T]=m[T];e.Set&&e.Set.inherit&&e.Set.inherit()},e.invent=function(c){var m="function"==typeof c.create?c.create:function(){this.constructor.call(this,e.create(c.create))};return c.inherit&&(m.prototype=new c.inherit),c.extend&&e.extend(m,c.extend),c.construct&&e.extend(c.parent||e.Container,c.construct),m},e.adopt=function(c){return c?c.instance?c.instance:((m="svg"==c.nodeName?c.parentNode instanceof A.SVGElement?new e.Nested:new e.Doc:"linearGradient"==c.nodeName?new e.Gradient("linear"):"radialGradient"==c.nodeName?new e.Gradient("radial"):e[p(c.nodeName)]?new(e[p(c.nodeName)]):new e.Element(c)).type=c.nodeName,m.node=c,c.instance=m,m instanceof e.Doc&&m.namespace().defs(),m.setData(JSON.parse(c.getAttribute("svgjs:data"))||{}),m):null;var m},e.prepare=function(){var c=t.getElementsByTagName("body")[0],m=(c?new e.Doc(c):e.adopt(t.documentElement).nested()).size(2,0);e.parser={body:c||t.documentElement,draw:m.style("opacity:0;position:absolute;left:-100%;top:-100%;overflow:hidden").node,poly:m.polyline().node,path:m.path().node,native:e.create("svg")}},e.parser={native:e.create("svg")},t.addEventListener("DOMContentLoaded",function(){e.parser.draw||e.prepare()},!1),e.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,transforms:/\)\s*,?\s*/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,delimiter:/[\s,]+/,hyphen:/([^e])\-/gi,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,numbersWithDots:/((\d?\.\d+(?:e[+-]?\d+)?)((?:\.\d+(?:e[+-]?\d+)?)+))+/gi,dots:/\./g},e.utils={map:function(c,m){for(var w=c.length,T=[],P=0;P<w;P++)T.push(m(c[P]));return T},filter:function(c,m){for(var w=c.length,T=[],P=0;P<w;P++)m(c[P])&&T.push(c[P]);return T},filterSVGElements:function(c){return this.filter(c,function(m){return m instanceof A.SVGElement})}},e.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},e.Color=function(c){var m,w;this.r=0,this.g=0,this.b=0,c&&("string"==typeof c?e.regex.isRgb.test(c)?(m=e.regex.rgb.exec(c.replace(e.regex.whitespace,"")),this.r=parseInt(m[1]),this.g=parseInt(m[2]),this.b=parseInt(m[3])):e.regex.isHex.test(c)&&(m=e.regex.hex.exec(4==(w=c).length?["#",w.substring(1,2),w.substring(1,2),w.substring(2,3),w.substring(2,3),w.substring(3,4),w.substring(3,4)].join(""):w),this.r=parseInt(m[1],16),this.g=parseInt(m[2],16),this.b=parseInt(m[3],16)):"object"===vt(c)&&(this.r=c.r,this.g=c.g,this.b=c.b))},e.extend(e.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+g(this.r)+g(this.g)+g(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(c){return this.destination=new e.Color(c),this},at:function(c){return this.destination?new e.Color({r:~~(this.r+(this.destination.r-this.r)*(c=c<0?0:c>1?1:c)),g:~~(this.g+(this.destination.g-this.g)*c),b:~~(this.b+(this.destination.b-this.b)*c)}):this}}),e.Color.test=function(c){return e.regex.isHex.test(c+="")||e.regex.isRgb.test(c)},e.Color.isRgb=function(c){return c&&"number"==typeof c.r&&"number"==typeof c.g&&"number"==typeof c.b},e.Color.isColor=function(c){return e.Color.isRgb(c)||e.Color.test(c)},e.Array=function(c,m){0==(c=(c||[]).valueOf()).length&&m&&(c=m.valueOf()),this.value=this.parse(c)},e.extend(e.Array,{toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(c){return c=c.valueOf(),Array.isArray(c)?c:this.split(c)}}),e.PointArray=function(c,m){e.Array.call(this,c,m||[[0,0]])},e.PointArray.prototype=new e.Array,e.PointArray.prototype.constructor=e.PointArray;for(var i={M:function(c,m,w){return m.x=w.x=c[0],m.y=w.y=c[1],["M",m.x,m.y]},L:function(c,m){return m.x=c[0],m.y=c[1],["L",c[0],c[1]]},H:function(c,m){return m.x=c[0],["H",c[0]]},V:function(c,m){return m.y=c[0],["V",c[0]]},C:function(c,m){return m.x=c[4],m.y=c[5],["C",c[0],c[1],c[2],c[3],c[4],c[5]]},Q:function(c,m){return m.x=c[2],m.y=c[3],["Q",c[0],c[1],c[2],c[3]]},S:function(c,m){return m.x=c[2],m.y=c[3],["S",c[0],c[1],c[2],c[3]]},Z:function(c,m,w){return m.x=w.x,m.y=w.y,["Z"]}},a="mlhvqtcsaz".split(""),n=0,o=a.length;n<o;++n)i[a[n]]=function(c){return function(m,w,T){if("H"==c)m[0]=m[0]+w.x;else if("V"==c)m[0]=m[0]+w.y;else if("A"==c)m[5]=m[5]+w.x,m[6]=m[6]+w.y;else for(var P=0,M=m.length;P<M;++P)m[P]=m[P]+(P%2?w.y:w.x);if(i&&"function"==typeof i[c])return i[c](m,w,T)}}(a[n].toUpperCase());e.PathArray=function(c,m){e.Array.call(this,c,m||[["M",0,0]])},e.PathArray.prototype=new e.Array,e.PathArray.prototype.constructor=e.PathArray,e.extend(e.PathArray,{toString:function(){return function(c){for(var m=0,w=c.length,T="";m<w;m++)T+=c[m][0],null!=c[m][1]&&(T+=c[m][1],null!=c[m][2]&&(T+=" ",T+=c[m][2],null!=c[m][3]&&(T+=" ",T+=c[m][3],T+=" ",T+=c[m][4],null!=c[m][5]&&(T+=" ",T+=c[m][5],T+=" ",T+=c[m][6],null!=c[m][7]&&(T+=" ",T+=c[m][7])))));return T+" "}(this.value)},move:function(c,m){return this.bbox(),this},at:function(c){if(!this.destination)return this;for(var m=this.value,w=this.destination.value,T=[],P=new e.PathArray,M=0,I=m.length;M<I;M++){T[M]=[m[M][0]];for(var E=1,X=m[M].length;E<X;E++)T[M][E]=m[M][E]+(w[M][E]-m[M][E])*c;"A"===T[M][0]&&(T[M][4]=+(0!=T[M][4]),T[M][5]=+(0!=T[M][5]))}return P.value=T,P},parse:function(c){if(c instanceof e.PathArray)return c.valueOf();var m,w={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0};c="string"==typeof c?c.replace(e.regex.numbersWithDots,h).replace(e.regex.pathLetters," $& ").replace(e.regex.hyphen,"$1 -").trim().split(e.regex.delimiter):c.reduce(function(X,F){return[].concat.call(X,F)},[]);var T=[],P=new e.Point,M=new e.Point,I=0,E=c.length;do{e.regex.isPathLetter.test(c[I])?(m=c[I],++I):"M"==m?m="L":"m"==m&&(m="l"),T.push(i[m].call(null,c.slice(I,I+=w[m.toUpperCase()]).map(parseFloat),P,M))}while(E>I);return T},bbox:function(){return e.parser.draw||e.prepare(),e.parser.path.setAttribute("d",this.toString()),e.parser.path.getBBox()}}),e.Number=e.invent({create:function(c,m){this.value=0,this.unit=m||"","number"==typeof c?this.value=isNaN(c)?0:isFinite(c)?c:c<0?-34e37:34e37:"string"==typeof c?(m=c.match(e.regex.numberAndUnit))&&(this.value=parseFloat(m[1]),"%"==m[5]?this.value/=100:"s"==m[5]&&(this.value*=1e3),this.unit=m[5]):c instanceof e.Number&&(this.value=c.valueOf(),this.unit=c.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(c){return c=new e.Number(c),new e.Number(this+c,this.unit||c.unit)},minus:function(c){return c=new e.Number(c),new e.Number(this-c,this.unit||c.unit)},times:function(c){return c=new e.Number(c),new e.Number(this*c,this.unit||c.unit)},divide:function(c){return c=new e.Number(c),new e.Number(this/c,this.unit||c.unit)},to:function(c){var m=new e.Number(this);return"string"==typeof c&&(m.unit=c),m},morph:function(c){return this.destination=new e.Number(c),c.relative&&(this.destination.value+=this.value),this},at:function(c){return this.destination?new e.Number(this.destination).minus(this).times(c).plus(this):this}}}),e.Element=e.invent({create:function(c){this._stroke=e.defaults.attrs.stroke,this._event=null,this.dom={},(this.node=c)&&(this.type=c.nodeName,this.node.instance=this,this._stroke=c.getAttribute("stroke")||this._stroke)},extend:{x:function(c){return this.attr("x",c)},y:function(c){return this.attr("y",c)},cx:function(c){return null==c?this.x()+this.width()/2:this.x(c-this.width()/2)},cy:function(c){return null==c?this.y()+this.height()/2:this.y(c-this.height()/2)},move:function(c,m){return this.x(c).y(m)},center:function(c,m){return this.cx(c).cy(m)},width:function(c){return this.attr("width",c)},height:function(c){return this.attr("height",c)},size:function(c,m){var w=f(this,c,m);return this.width(new e.Number(w.width)).height(new e.Number(w.height))},clone:function(c){this.writeDataToDom();var m=b(this.node.cloneNode(!0));return c?c.add(m):this.after(m),m},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(c){return this.after(c).remove(),c},addTo:function(c){return c.put(this)},putIn:function(c){return c.add(this)},id:function(c){return this.attr("id",c)},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var c=this.attr("class");return null==c?[]:c.trim().split(e.regex.delimiter)},hasClass:function(c){return-1!=this.classes().indexOf(c)},addClass:function(c){if(!this.hasClass(c)){var m=this.classes();m.push(c),this.attr("class",m.join(" "))}return this},removeClass:function(c){return this.hasClass(c)&&this.attr("class",this.classes().filter(function(m){return m!=c}).join(" ")),this},toggleClass:function(c){return this.hasClass(c)?this.removeClass(c):this.addClass(c)},reference:function(c){return e.get(this.attr(c))},parent:function(c){var m=this;if(!m.node.parentNode)return null;if(m=e.adopt(m.node.parentNode),!c)return m;for(;m&&m.node instanceof A.SVGElement;){if("string"==typeof c?m.matches(c):m instanceof c)return m;if(!m.node.parentNode||"#document"==m.node.parentNode.nodeName)return null;m=e.adopt(m.node.parentNode)}},doc:function(){return this instanceof e.Doc?this:this.parent(e.Doc)},parents:function(c){var m=[],w=this;do{if(!(w=w.parent(c))||!w.node)break;m.push(w)}while(w.parent);return m},matches:function(c){return((m=this.node).matches||m.matchesSelector||m.msMatchesSelector||m.mozMatchesSelector||m.webkitMatchesSelector||m.oMatchesSelector).call(m,c);var m},native:function(){return this.node},svg:function(c){var m=t.createElementNS("http://www.w3.org/2000/svg","svg");if(!(c&&this instanceof e.Parent))return m.appendChild(c=t.createElementNS("http://www.w3.org/2000/svg","svg")),this.writeDataToDom(),c.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");m.innerHTML="<svg>"+c.replace(/\n/,"").replace(/<([\w:-]+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var w=0,T=m.firstChild.childNodes.length;w<T;w++)this.node.appendChild(m.firstChild.firstChild);return this},writeDataToDom:function(){return(this.each||this.lines)&&(this.each?this:this.lines()).each(function(){this.writeDataToDom()}),this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(c){return this.dom=c,this},is:function(c){return this instanceof c}}}),e.easing={"-":function(c){return c},"<>":function(c){return-Math.cos(c*Math.PI)/2+.5},">":function(c){return Math.sin(c*Math.PI/2)},"<":function(c){return 1-Math.cos(c*Math.PI/2)}},e.morph=function(c){return function(m,w){return new e.MorphObj(m,w).at(c)}},e.Situation=e.invent({create:function(c){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new e.Number(c.duration).valueOf(),this.delay=new e.Number(c.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=c.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),e.FX=e.invent({create:function(c){this._target=c,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(c,m,w){"object"===vt(c)&&(m=c.ease,w=c.delay,c=c.duration);var T=new e.Situation({duration:c||1e3,delay:w||0,ease:e.easing[m||"-"]||m});return this.queue(T),this},target:function(c){return c&&c instanceof e.Element?(this._target=c,this):this._target},timeToAbsPos:function(c){return(c-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(c){return this.situation.duration/this._speed*c+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=A.requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){A.cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(c){return("function"==typeof c||c instanceof e.Situation)&&this.situations.push(c),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof e.Situation?this.start():this.situation.call(this)),this},initAnimations:function(){var c,m=this.situation;if(m.init)return this;for(var w in m.animations){c=this.target()[w](),Array.isArray(c)||(c=[c]),Array.isArray(m.animations[w])||(m.animations[w]=[m.animations[w]]);for(var T=c.length;T--;)m.animations[w][T]instanceof e.Number&&(c[T]=new e.Number(c[T])),m.animations[w][T]=c[T].morph(m.animations[w][T])}for(var w in m.attrs)m.attrs[w]=new e.MorphObj(this.target().attr(w),m.attrs[w]);for(var w in m.styles)m.styles[w]=new e.MorphObj(this.target().style(w),m.styles[w]);return m.initialTransformation=this.target().matrixify(),m.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(c,m){var w=this.active;return this.active=!1,m&&this.clearQueue(),c&&this.situation&&(!w&&this.startCurrent(),this.atEnd()),this.stopAnimFrame(),this.clearCurrent()},after:function(c){var m=this.last();return this.target().on("finished.fx",function w(T){T.detail.situation==m&&(c.call(this,m),this.off("finished.fx",w))}),this._callStart()},during:function(c){var m=this.last(),w=function(T){T.detail.situation==m&&c.call(this,T.detail.pos,e.morph(T.detail.pos),T.detail.eased,m)};return this.target().off("during.fx",w).on("during.fx",w),this.after(function(){this.off("during.fx",w)}),this._callStart()},afterAll:function(c){var m=function w(T){c.call(this),this.off("allfinished.fx",w)};return this.target().off("allfinished.fx",m).on("allfinished.fx",m),this._callStart()},last:function(){return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(c,m,w){return this.last()[w||"animations"][c]=m,this._callStart()},step:function(c){var m,w,T;c||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops?(m=Math.max(this.absPos,0),w=Math.floor(m),!0===this.situation.loops||w<this.situation.loops?(this.pos=m-w,T=this.situation.loop,this.situation.loop=w):(this.absPos=this.situation.loops,this.pos=1,T=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-T)%2))):(this.absPos=Math.min(this.absPos,1),this.pos=this.absPos),this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var P=this.situation.ease(this.pos);for(var M in this.situation.once)M>this.lastPos&&M<=P&&(this.situation.once[M].call(this.target(),this.pos,P),delete this.situation.once[M]);return this.active&&this.target().fire("during",{pos:this.pos,eased:P,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.situations.length||(this.target().off(".fx"),this.active=!1)),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=P,this):this},eachAt:function(){var c,m=this,w=this.target(),T=this.situation;for(var P in T.animations)c=[].concat(T.animations[P]).map(function(E){return"string"!=typeof E&&E.at?E.at(T.ease(m.pos),m.pos):E}),w[P].apply(w,c);for(var P in T.attrs)c=[P].concat(T.attrs[P]).map(function(X){return"string"!=typeof X&&X.at?X.at(T.ease(m.pos),m.pos):X}),w.attr.apply(w,c);for(var P in T.styles)c=[P].concat(T.styles[P]).map(function(X){return"string"!=typeof X&&X.at?X.at(T.ease(m.pos),m.pos):X}),w.style.apply(w,c);if(T.transforms.length){c=T.initialTransformation,P=0;for(var M=T.transforms.length;P<M;P++){var I=T.transforms[P];I instanceof e.Matrix?c=I.relative?c.multiply((new e.Matrix).morph(I).at(T.ease(this.pos))):c.morph(I).at(T.ease(this.pos)):(I.relative||I.undo(c.extract()),c=c.multiply(I.at(T.ease(this.pos))))}w.matrix(c)}return this},once:function(c,m,w){var T=this.last();return w||(c=T.ease(c)),T.once[c]=m,this},_callStart:function(){return setTimeout(function(){this.start()}.bind(this),0),this}},parent:e.Element,construct:{animate:function(c,m,w){return(this.fx||(this.fx=new e.FX(this))).animate(c,m,w)},delay:function(c){return(this.fx||(this.fx=new e.FX(this))).delay(c)},stop:function(c,m){return this.fx&&this.fx.stop(c,m),this},finish:function(){return this.fx&&this.fx.finish(),this}}}),e.MorphObj=e.invent({create:function(c,m){return e.Color.isColor(m)?new e.Color(c).morph(m):e.regex.delimiter.test(c)?e.regex.pathLetters.test(c)?new e.PathArray(c).morph(m):new e.Array(c).morph(m):e.regex.numberAndUnit.test(m)?new e.Number(c).morph(m):(this.value=c,void(this.destination=m))},extend:{at:function(c,m){return m<1?this.value:this.destination},valueOf:function(){return this.value}}}),e.extend(e.FX,{attr:function(c,m,w){if("object"===vt(c))for(var T in c)this.attr(T,c[T]);else this.add(c,m,"attrs");return this},plot:function(c,m,w,T){return 4==arguments.length?this.plot([c,m,w,T]):this.add("plot",new(this.target().morphArray)(c))}}),e.Box=e.invent({create:function(c,m,w,T){if(!("object"!==vt(c)||c instanceof e.Element))return e.Box.call(this,null!=c.left?c.left:c.x,null!=c.top?c.top:c.y,c.width,c.height);var P;4==arguments.length&&(this.x=c,this.y=m,this.width=w,this.height=T),null==(P=this).x&&(P.x=0,P.y=0,P.width=0,P.height=0),P.w=P.width,P.h=P.height,P.x2=P.x+P.width,P.y2=P.y+P.height,P.cx=P.x+P.width/2,P.cy=P.y+P.height/2}}),e.BBox=e.invent({create:function(c){if(e.Box.apply(this,[].slice.call(arguments)),c instanceof e.Element){var m;try{if(!t.documentElement.contains){for(var w=c.node;w.parentNode;)w=w.parentNode;if(w!=t)throw new Error("Element not in the dom")}m=c.node.getBBox()}catch{if(c instanceof e.Shape){e.parser.draw||e.prepare();var T=c.clone(e.parser.draw.instance).show();T&&T.node&&"function"==typeof T.node.getBBox&&(m=T.node.getBBox()),T&&"function"==typeof T.remove&&T.remove()}else m={x:c.node.clientLeft,y:c.node.clientTop,width:c.node.clientWidth,height:c.node.clientHeight}}e.Box.call(this,m)}},inherit:e.Box,parent:e.Element,construct:{bbox:function(){return new e.BBox(this)}}}),e.BBox.prototype.constructor=e.BBox,e.Matrix=e.invent({create:function(c){var m=y([1,0,0,1,0,0]);c=null===c?m:c instanceof e.Element?c.matrixify():"string"==typeof c?y(c.split(e.regex.delimiter).map(parseFloat)):6==arguments.length?y([].slice.call(arguments)):Array.isArray(c)?y(c):c&&"object"===vt(c)?c:m;for(var w=S.length-1;w>=0;--w)this[S[w]]=null!=c[S[w]]?c[S[w]]:m[S[w]]},extend:{extract:function(){var c=x(this,0,1);x(this,1,0);var m=180/Math.PI*Math.atan2(c.y,c.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(m*Math.PI/180)+this.f*Math.sin(m*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(m*Math.PI/180)+this.e*Math.sin(-m*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),rotation:m,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new e.Matrix(this)}},clone:function(){return new e.Matrix(this)},morph:function(c){return this.destination=new e.Matrix(c),this},multiply:function(c){return new e.Matrix(this.native().multiply((m=c,m instanceof e.Matrix||(m=new e.Matrix(m)),m).native()));var m},inverse:function(){return new e.Matrix(this.native().inverse())},translate:function(c,m){return new e.Matrix(this.native().translate(c||0,m||0))},native:function(){for(var c=e.parser.native.createSVGMatrix(),m=S.length-1;m>=0;m--)c[S[m]]=this[S[m]];return c},toString:function(){return"matrix("+k(this.a)+","+k(this.b)+","+k(this.c)+","+k(this.d)+","+k(this.e)+","+k(this.f)+")"}},parent:e.Element,construct:{ctm:function(){return new e.Matrix(this.node.getCTM())},screenCTM:function(){if(this instanceof e.Nested){var c=this.rect(1,1),m=c.node.getScreenCTM();return c.remove(),new e.Matrix(m)}return new e.Matrix(this.node.getScreenCTM())}}}),e.Point=e.invent({create:function(c,m){var w;w=Array.isArray(c)?{x:c[0],y:c[1]}:"object"===vt(c)?{x:c.x,y:c.y}:null!=c?{x:c,y:m??c}:{x:0,y:0},this.x=w.x,this.y=w.y},extend:{clone:function(){return new e.Point(this)},morph:function(c,m){return this.destination=new e.Point(c,m),this}}}),e.extend(e.Element,{point:function(c,m){return new e.Point(c,m).transform(this.screenCTM().inverse())}}),e.extend(e.Element,{attr:function(c,m,w){if(null==c){for(c={},w=(m=this.node.attributes).length-1;w>=0;w--)c[m[w].nodeName]=e.regex.isNumber.test(m[w].nodeValue)?parseFloat(m[w].nodeValue):m[w].nodeValue;return c}if("object"===vt(c))for(var T in c)this.attr(T,c[T]);else if(null===m)this.node.removeAttribute(c);else{if(null==m)return null==(m=this.node.getAttribute(c))?e.defaults.attrs[c]:e.regex.isNumber.test(m)?parseFloat(m):m;"stroke-width"==c?this.attr("stroke",parseFloat(m)>0?this._stroke:null):"stroke"==c&&(this._stroke=m),"fill"!=c&&"stroke"!=c||(e.regex.isImage.test(m)&&(m=this.doc().defs().image(m,0,0)),m instanceof e.Image&&(m=this.doc().defs().pattern(0,0,function(){this.add(m)}))),"number"==typeof m?m=new e.Number(m):e.Color.isColor(m)?m=new e.Color(m):Array.isArray(m)&&(m=new e.Array(m)),"leading"==c?this.leading&&this.leading(m):"string"==typeof w?this.node.setAttributeNS(w,c,m.toString()):this.node.setAttribute(c,m.toString()),!this.rebuild||"font-size"!=c&&"x"!=c||this.rebuild(c,m)}return this}}),e.extend(e.Element,{transform:function(c,m){var w;return"object"!==vt(c)?(w=new e.Matrix(this).extract(),"string"==typeof c?w[c]:w):(w=new e.Matrix(this),m=!!m||!!c.relative,null!=c.a&&(w=m?w.multiply(new e.Matrix(c)):new e.Matrix(c)),this.attr("transform",w))}}),e.extend(e.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(e.regex.transforms).slice(0,-1).map(function(c){var m=c.trim().split("(");return[m[0],m[1].split(e.regex.delimiter).map(function(w){return parseFloat(w)})]}).reduce(function(c,m){return"matrix"==m[0]?c.multiply(y(m[1])):c[m[0]].apply(c,m[1])},new e.Matrix)},toParent:function(c){if(this==c)return this;var m=this.screenCTM(),w=c.screenCTM().inverse();return this.addTo(c).untransform().transform(w.multiply(m)),this},toDoc:function(){return this.toParent(this.doc())}}),e.Transformation=e.invent({create:function(c,m){if(arguments.length>1&&"boolean"!=typeof m)return this.constructor.call(this,[].slice.call(arguments));if(Array.isArray(c))for(var w=0,T=this.arguments.length;w<T;++w)this[this.arguments[w]]=c[w];else if(c&&"object"===vt(c))for(w=0,T=this.arguments.length;w<T;++w)this[this.arguments[w]]=c[this.arguments[w]];this.inversed=!1,!0===m&&(this.inversed=!0)}}),e.Translate=e.invent({parent:e.Matrix,inherit:e.Transformation,create:function(c,m){this.constructor.apply(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),e.extend(e.Element,{style:function(c,m){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"===vt(c))for(var w in c)this.style(w,c[w]);else{if(!e.regex.isCss.test(c))return this.node.style[d(c)];for(c=c.split(/\s*;\s*/).filter(function(T){return!!T}).map(function(T){return T.split(/\s*:\s*/)});m=c.pop();)this.style(m[0],m[1])}else this.node.style[d(c)]=null===m||e.regex.isBlank.test(m)?"":m;return this}}),e.Parent=e.invent({create:function(c){this.constructor.call(this,c)},inherit:e.Element,extend:{children:function(){return e.utils.map(e.utils.filterSVGElements(this.node.childNodes),function(c){return e.adopt(c)})},add:function(c,m){return null==m?this.node.appendChild(c.node):c.node!=this.node.childNodes[m]&&this.node.insertBefore(c.node,this.node.childNodes[m]),this},put:function(c,m){return this.add(c,m),c},has:function(c){return this.index(c)>=0},index:function(c){return[].slice.call(this.node.childNodes).indexOf(c.node)},get:function(c){return e.adopt(this.node.childNodes[c])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(c,m){for(var w=this.children(),T=0,P=w.length;T<P;T++)w[T]instanceof e.Element&&c.apply(w[T],[T,w]),m&&w[T]instanceof e.Container&&w[T].each(c,m);return this},removeElement:function(c){return this.node.removeChild(c.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),e.extend(e.Parent,{ungroup:function(c,m){return 0===m||this instanceof e.Defs||this.node==e.parser.draw||(c=c||(this instanceof e.Doc?this:this.parent(e.Parent)),m=m||1/0,this.each(function(){return this instanceof e.Defs?this:this instanceof e.Parent?this.ungroup(c,m-1):this.toParent(c)}),this.node.firstChild||this.remove()),this},flatten:function(c,m){return this.ungroup(c,m)}}),e.Container=e.invent({create:function(c){this.constructor.call(this,c)},inherit:e.Parent}),e.ViewBox=e.invent({parent:e.Container,construct:{}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(c){e.Element.prototype[c]=function(m){return e.on(this.node,c,m),this}}),e.listeners=[],e.handlerMap=[],e.listenerId=0,e.on=function(c,m,w,T,P){var M=w.bind(T||c.instance||c),I=(e.handlerMap.indexOf(c)+1||e.handlerMap.push(c))-1,E=m.split(".")[0],X=m.split(".")[1]||"*";e.listeners[I]=e.listeners[I]||{},e.listeners[I][E]=e.listeners[I][E]||{},e.listeners[I][E][X]=e.listeners[I][E][X]||{},w._svgjsListenerId||(w._svgjsListenerId=++e.listenerId),e.listeners[I][E][X][w._svgjsListenerId]=M,c.addEventListener(E,M,P||{passive:!1})},e.off=function(c,m,w){var T=e.handlerMap.indexOf(c),P=m&&m.split(".")[0],M=m&&m.split(".")[1],I="";if(-1!=T)if(w){if("function"==typeof w&&(w=w._svgjsListenerId),!w)return;e.listeners[T][P]&&e.listeners[T][P][M||"*"]&&(c.removeEventListener(P,e.listeners[T][P][M||"*"][w],!1),delete e.listeners[T][P][M||"*"][w])}else if(M&&P){if(e.listeners[T][P]&&e.listeners[T][P][M]){for(var E in e.listeners[T][P][M])e.off(c,[P,M].join("."),E);delete e.listeners[T][P][M]}}else if(M)for(var X in e.listeners[T])for(var I in e.listeners[T][X])M===I&&e.off(c,[X,M].join("."));else if(P){if(e.listeners[T][P]){for(var I in e.listeners[T][P])e.off(c,[P,I].join("."));delete e.listeners[T][P]}}else{for(var X in e.listeners[T])e.off(c,X);delete e.listeners[T],delete e.handlerMap[T]}},e.extend(e.Element,{on:function(c,m,w,T){return e.on(this.node,c,m,w,T),this},off:function(c,m){return e.off(this.node,c,m),this},fire:function(c,m){return this.node.dispatchEvent(c instanceof A.Event?c:c=new e.CustomEvent(c,{detail:m,cancelable:!0})),this._event=c,this},event:function(){return this._event}}),e.Defs=e.invent({create:"defs",inherit:e.Container}),e.G=e.invent({create:"g",inherit:e.Container,extend:{x:function(c){return null==c?this.transform("x"):this.transform({x:c-this.x()},!0)}},construct:{group:function(){return this.put(new e.G)}}}),e.Doc=e.invent({create:function(c){c&&("svg"==(c="string"==typeof c?t.getElementById(c):c).nodeName?this.constructor.call(this,c):(this.constructor.call(this,e.create("svg")),c.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:e.Container,extend:{namespace:function(){return this.attr({xmlns:e.ns,version:"1.1"}).attr("xmlns:xlink",e.xlink,e.xmlns).attr("xmlns:svgjs",e.svgjs,e.xmlns)},defs:function(){var c;return this._defs||(this._defs=(c=this.node.getElementsByTagName("defs")[0])?e.adopt(c):new e.Defs,this.node.appendChild(this._defs.node)),this._defs},parent:function(){return this.node.parentNode&&"#document"!=this.node.parentNode.nodeName?this.node.parentNode:null},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,e.parser.draw&&!e.parser.draw.parentNode&&this.node.appendChild(e.parser.draw),this},clone:function(c){this.writeDataToDom();var m=this.node,w=b(m.cloneNode(!0));return c?(c.node||c).appendChild(w.node):m.parentNode.insertBefore(w.node,m.nextSibling),w}}}),e.extend(e.Element,{}),e.Gradient=e.invent({create:function(c){this.constructor.call(this,e.create(c+"Gradient")),this.type=c},inherit:e.Container,extend:{at:function(c,m,w){return this.put(new e.Stop).update(c,m,w)},update:function(c){return this.clear(),"function"==typeof c&&c.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(c,m,w){return"transform"==c&&(c="gradientTransform"),e.Container.prototype.attr.call(this,c,m,w)}},construct:{gradient:function(c,m){return this.defs().gradient(c,m)}}}),e.extend(e.Gradient,e.FX,{from:function(c,m){return this.attr("radial"==(this._target||this).type?{fx:new e.Number(c),fy:new e.Number(m)}:{x1:new e.Number(c),y1:new e.Number(m)})},to:function(c,m){return this.attr("radial"==(this._target||this).type?{cx:new e.Number(c),cy:new e.Number(m)}:{x2:new e.Number(c),y2:new e.Number(m)})}}),e.extend(e.Defs,{gradient:function(c,m){return this.put(new e.Gradient(c)).update(m)}}),e.Stop=e.invent({create:"stop",inherit:e.Element,extend:{update:function(c){return("number"==typeof c||c instanceof e.Number)&&(c={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=c.opacity&&this.attr("stop-opacity",c.opacity),null!=c.color&&this.attr("stop-color",c.color),null!=c.offset&&this.attr("offset",new e.Number(c.offset)),this}}}),e.Pattern=e.invent({create:"pattern",inherit:e.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(c){return this.clear(),"function"==typeof c&&c.call(this,this),this},toString:function(){return this.fill()},attr:function(c,m,w){return"transform"==c&&(c="patternTransform"),e.Container.prototype.attr.call(this,c,m,w)}},construct:{pattern:function(c,m,w){return this.defs().pattern(c,m,w)}}}),e.extend(e.Defs,{pattern:function(c,m,w){return this.put(new e.Pattern).update(w).attr({x:0,y:0,width:c,height:m,patternUnits:"userSpaceOnUse"})}}),e.Shape=e.invent({create:function(c){this.constructor.call(this,c)},inherit:e.Element}),e.Symbol=e.invent({create:"symbol",inherit:e.Container,construct:{symbol:function(){return this.put(new e.Symbol)}}}),e.Use=e.invent({create:"use",inherit:e.Shape,extend:{element:function(c,m){return this.attr("href",(m||"")+"#"+c,e.xlink)}},construct:{use:function(c,m){return this.put(new e.Use).element(c,m)}}}),e.Rect=e.invent({create:"rect",inherit:e.Shape,construct:{rect:function(c,m){return this.put(new e.Rect).size(c,m)}}}),e.Circle=e.invent({create:"circle",inherit:e.Shape,construct:{circle:function(c){return this.put(new e.Circle).rx(new e.Number(c).divide(2)).move(0,0)}}}),e.extend(e.Circle,e.FX,{rx:function(c){return this.attr("r",c)},ry:function(c){return this.rx(c)}}),e.Ellipse=e.invent({create:"ellipse",inherit:e.Shape,construct:{ellipse:function(c,m){return this.put(new e.Ellipse).size(c,m).move(0,0)}}}),e.extend(e.Ellipse,e.Rect,e.FX,{rx:function(c){return this.attr("rx",c)},ry:function(c){return this.attr("ry",c)}}),e.extend(e.Circle,e.Ellipse,{x:function(c){return null==c?this.cx()-this.rx():this.cx(c+this.rx())},y:function(c){return null==c?this.cy()-this.ry():this.cy(c+this.ry())},cx:function(c){return null==c?this.attr("cx"):this.attr("cx",c)},cy:function(c){return null==c?this.attr("cy"):this.attr("cy",c)},width:function(c){return null==c?2*this.rx():this.rx(new e.Number(c).divide(2))},height:function(c){return null==c?2*this.ry():this.ry(new e.Number(c).divide(2))},size:function(c,m){var w=f(this,c,m);return this.rx(new e.Number(w.width).divide(2)).ry(new e.Number(w.height).divide(2))}}),e.Line=e.invent({create:"line",inherit:e.Shape,extend:{array:function(){return new e.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(c,m,w,T){return null==c?this.array():(c=void 0!==m?{x1:c,y1:m,x2:w,y2:T}:new e.PointArray(c).toLine(),this.attr(c))},move:function(c,m){return this.attr(this.array().move(c,m).toLine())},size:function(c,m){var w=f(this,c,m);return this.attr(this.array().size(w.width,w.height).toLine())}},construct:{line:function(c,m,w,T){return e.Line.prototype.plot.apply(this.put(new e.Line),null!=c?[c,m,w,T]:[0,0,0,0])}}}),e.Polyline=e.invent({create:"polyline",inherit:e.Shape,construct:{polyline:function(c){return this.put(new e.Polyline).plot(c||new e.PointArray)}}}),e.Polygon=e.invent({create:"polygon",inherit:e.Shape,construct:{polygon:function(c){return this.put(new e.Polygon).plot(c||new e.PointArray)}}}),e.extend(e.Polyline,e.Polygon,{array:function(){return this._array||(this._array=new e.PointArray(this.attr("points")))},plot:function(c){return null==c?this.array():this.clear().attr("points","string"==typeof c?c:this._array=new e.PointArray(c))},clear:function(){return delete this._array,this},move:function(c,m){return this.attr("points",this.array().move(c,m))},size:function(c,m){var w=f(this,c,m);return this.attr("points",this.array().size(w.width,w.height))}}),e.extend(e.Line,e.Polyline,e.Polygon,{morphArray:e.PointArray,x:function(c){return null==c?this.bbox().x:this.move(c,this.bbox().y)},y:function(c){return null==c?this.bbox().y:this.move(this.bbox().x,c)},width:function(c){var m=this.bbox();return null==c?m.width:this.size(c,m.height)},height:function(c){var m=this.bbox();return null==c?m.height:this.size(m.width,c)}}),e.Path=e.invent({create:"path",inherit:e.Shape,extend:{morphArray:e.PathArray,array:function(){return this._array||(this._array=new e.PathArray(this.attr("d")))},plot:function(c){return null==c?this.array():this.clear().attr("d","string"==typeof c?c:this._array=new e.PathArray(c))},clear:function(){return delete this._array,this}},construct:{path:function(c){return this.put(new e.Path).plot(c||new e.PathArray)}}}),e.Image=e.invent({create:"image",inherit:e.Shape,extend:{load:function(c){if(!c)return this;var m=this,w=new A.Image;return e.on(w,"load",function(){e.off(w);var T=m.parent(e.Pattern);null!==T&&(0==m.width()&&0==m.height()&&m.size(w.width,w.height),T&&0==T.width()&&0==T.height()&&T.size(m.width(),m.height()),"function"==typeof m._loaded&&m._loaded.call(m,{width:w.width,height:w.height,ratio:w.width/w.height,url:c}))}),e.on(w,"error",function(T){e.off(w),"function"==typeof m._error&&m._error.call(m,T)}),this.attr("href",w.src=this.src=c,e.xlink)},loaded:function(c){return this._loaded=c,this},error:function(c){return this._error=c,this}},construct:{image:function(c,m,w){return this.put(new e.Image).load(c).size(m||0,w||m||0)}}}),e.Text=e.invent({create:function(){this.constructor.call(this,e.create("text")),this.dom.leading=new e.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",e.defaults.attrs["font-family"])},inherit:e.Shape,extend:{x:function(c){return null==c?this.attr("x"):this.attr("x",c)},text:function(c){if(void 0===c){c="";for(var m=this.node.childNodes,w=0,T=m.length;w<T;++w)0!=w&&3!=m[w].nodeType&&1==e.adopt(m[w]).dom.newLined&&(c+="\n"),c+=m[w].textContent;return c}if(this.clear().build(!0),"function"==typeof c)c.call(this,this);else{w=0;for(var P=(c=c.split("\n")).length;w<P;w++)this.tspan(c[w]).newLine()}return this.build(!1).rebuild()},size:function(c){return this.attr("font-size",c).rebuild()},leading:function(c){return null==c?this.dom.leading:(this.dom.leading=new e.Number(c),this.rebuild())},lines:function(){var c=(this.textPath&&this.textPath()||this).node,m=e.utils.map(e.utils.filterSVGElements(c.childNodes),function(w){return e.adopt(w)});return new e.Set(m)},rebuild:function(c){if("boolean"==typeof c&&(this._rebuild=c),this._rebuild){var m=this,w=0,T=this.dom.leading*new e.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(m.textPath()||this.attr("x",m.attr("x")),"\n"==this.text()?w+=T:(this.attr("dy",T+w),w=0))}),this.fire("rebuild")}return this},build:function(c){return this._build=!!c,this},setData:function(c){return this.dom=c,this.dom.leading=new e.Number(c.leading||1.3),this}},construct:{text:function(c){return this.put(new e.Text).text(c)},plain:function(c){return this.put(new e.Text).plain(c)}}}),e.Tspan=e.invent({create:"tspan",inherit:e.Shape,extend:{text:function(c){return null==c?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof c?c.call(this,this):this.plain(c),this)},dx:function(c){return this.attr("dx",c)},dy:function(c){return this.attr("dy",c)},newLine:function(){var c=this.parent(e.Text);return this.dom.newLined=!0,this.dy(c.dom.leading*c.attr("font-size")).attr("x",c.x())}}}),e.extend(e.Text,e.Tspan,{plain:function(c){return!1===this._build&&this.clear(),this.node.appendChild(t.createTextNode(c)),this},tspan:function(c){var m=(this.textPath&&this.textPath()||this).node,w=new e.Tspan;return!1===this._build&&this.clear(),m.appendChild(w.node),w.text(c)},clear:function(){for(var c=(this.textPath&&this.textPath()||this).node;c.hasChildNodes();)c.removeChild(c.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),e.TextPath=e.invent({create:"textPath",inherit:e.Parent,parent:e.Text,construct:{morphArray:e.PathArray,array:function(){var c=this.track();return c?c.array():null},plot:function(c){var m=this.track(),w=null;return m&&(w=m.plot(c)),null==c?w:this},track:function(){var c=this.textPath();if(c)return c.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return e.adopt(this.node.firstChild)}}}),e.Nested=e.invent({create:function(){this.constructor.call(this,e.create("svg")),this.style("overflow","visible")},inherit:e.Container,construct:{nested:function(){return this.put(new e.Nested)}}});var r={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(c,m){return"color"==m?c:c+"-"+m}};function h(c,m,w,T){return w+T.replace(e.regex.dots," .")}function d(c){return c.toLowerCase().replace(/-(.)/g,function(m,w){return w.toUpperCase()})}function p(c){return c.charAt(0).toUpperCase()+c.slice(1)}function g(c){var m=c.toString(16);return 1==m.length?"0"+m:m}function f(c,m,w){if(null==m||null==w){var T=c.bbox();null==m?m=T.width/T.height*w:null==w&&(w=T.height/T.width*m)}return{width:m,height:w}}function x(c,m,w){return{x:m*c.a+w*c.c+0,y:m*c.b+w*c.d+0}}function y(c){return{a:c[0],b:c[1],c:c[2],d:c[3],e:c[4],f:c[5]}}function b(c){for(var m=c.childNodes.length-1;m>=0;m--)c.childNodes[m]instanceof A.SVGElement&&b(c.childNodes[m]);return e.adopt(c).id(e.eid(c.nodeName))}function k(c){return Math.abs(c)>1e-37?c:0}["fill","stroke"].forEach(function(c){var m={};m[c]=function(w){if(void 0===w)return this;if("string"==typeof w||e.Color.isRgb(w)||w&&"function"==typeof w.fill)this.attr(c,w);else for(var T=r[c].length-1;T>=0;T--)null!=w[r[c][T]]&&this.attr(r.prefix(c,r[c][T]),w[r[c][T]]);return this},e.extend(e.Element,e.FX,m)}),e.extend(e.Element,e.FX,{translate:function(c,m){return this.transform({x:c,y:m})},matrix:function(c){return this.attr("transform",new e.Matrix(6==arguments.length?[].slice.call(arguments):c))},opacity:function(c){return this.attr("opacity",c)},dx:function(c){return this.x(new e.Number(c).plus(this instanceof e.FX?0:this.x()),!0)},dy:function(c){return this.y(new e.Number(c).plus(this instanceof e.FX?0:this.y()),!0)}}),e.extend(e.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(c){return this.node.getPointAtLength(c)}}),e.Set=e.invent({create:function(c){Array.isArray(c)?this.members=c:this.clear()},extend:{add:function(){for(var c=[].slice.call(arguments),m=0,w=c.length;m<w;m++)this.members.push(c[m]);return this},remove:function(c){var m=this.index(c);return m>-1&&this.members.splice(m,1),this},each:function(c){for(var m=0,w=this.members.length;m<w;m++)c.apply(this.members[m],[m,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(c){return this.index(c)>=0},index:function(c){return this.members.indexOf(c)},get:function(c){return this.members[c]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members}},construct:{set:function(c){return new e.Set(c)}}}),e.FX.Set=e.invent({create:function(c){this.set=c}}),e.Set.inherit=function(){var c=[];for(var m in e.Shape.prototype)"function"==typeof e.Shape.prototype[m]&&"function"!=typeof e.Set.prototype[m]&&c.push(m);for(var m in c.forEach(function(T){e.Set.prototype[T]=function(){for(var P=0,M=this.members.length;P<M;P++)this.members[P]&&"function"==typeof this.members[P][T]&&this.members[P][T].apply(this.members[P],arguments);return"animate"==T?this.fx||(this.fx=new e.FX.Set(this)):this}}),c=[],e.FX.prototype)"function"==typeof e.FX.prototype[m]&&"function"!=typeof e.FX.Set.prototype[m]&&c.push(m);c.forEach(function(w){e.FX.Set.prototype[w]=function(){for(var T=0,P=this.set.members.length;T<P;T++)this.set.members[T].fx[w].apply(this.set.members[T].fx,arguments);return this}})},e.extend(e.Element,{}),e.extend(e.Element,{remember:function(c,m){if("object"===vt(arguments[0]))for(var w in c)this.remember(w,c[w]);else{if(1==arguments.length)return this.memory()[c];this.memory()[c]=m}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var c=arguments.length-1;c>=0;c--)delete this.memory()[arguments[c]];return this},memory:function(){return this._memory||(this._memory={})}}),e.get=function(c){var m=t.getElementById(function(w){var T=(w||"").toString().match(e.regex.reference);if(T)return T[1]}(c)||c);return e.adopt(m)},e.select=function(c,m){return new e.Set(e.utils.map((m||t).querySelectorAll(c),function(w){return e.adopt(w)}))},e.extend(e.Parent,{select:function(c){return e.select(c,this.node)}});var S="abcdef".split("");if("function"!=typeof A.CustomEvent){var C=function(c,m){m=m||{bubbles:!1,cancelable:!1,detail:void 0};var w=t.createEvent("CustomEvent");return w.initCustomEvent(c,m.bubbles,m.cancelable,m.detail),w};C.prototype=A.Event.prototype,e.CustomEvent=C}else e.CustomEvent=A.CustomEvent;return e},"function"==typeof define&&define.amd?define(function(){return fe(Gt,Gt.document)}):"object"===(typeof exports>"u"?"undefined":vt(exports))&&typeof module<"u"?module.exports=Gt.document?fe(Gt,Gt.document):function(A){return fe(A,A.document)}:Gt.SVG=fe(Gt,Gt.document),
/*! svg.filter.js - v2.0.2 - 2016-02-24
    * https://github.com/wout/svg.filter.js
    * Copyright (c) 2016 Wout Fierens; Licensed MIT */
function(){SVG.Filter=SVG.invent({create:"filter",inherit:SVG.Parent,extend:{source:"SourceGraphic",sourceAlpha:"SourceAlpha",background:"BackgroundImage",backgroundAlpha:"BackgroundAlpha",fill:"FillPaint",stroke:"StrokePaint",autoSetIn:!0,put:function(o,r){return this.add(o,r),!o.attr("in")&&this.autoSetIn&&o.attr("in",this.source),o.attr("result")||o.attr("result",o),o},blend:function(o,r,h){return this.put(new SVG.BlendEffect(o,r,h))},colorMatrix:function(o,r){return this.put(new SVG.ColorMatrixEffect(o,r))},convolveMatrix:function(o){return this.put(new SVG.ConvolveMatrixEffect(o))},componentTransfer:function(o){return this.put(new SVG.ComponentTransferEffect(o))},composite:function(o,r,h){return this.put(new SVG.CompositeEffect(o,r,h))},flood:function(o,r){return this.put(new SVG.FloodEffect(o,r))},offset:function(o,r){return this.put(new SVG.OffsetEffect(o,r))},image:function(o){return this.put(new SVG.ImageEffect(o))},merge:function(){var o=[void 0];for(var r in arguments)o.push(arguments[r]);return this.put(new(SVG.MergeEffect.bind.apply(SVG.MergeEffect,o)))},gaussianBlur:function(o,r){return this.put(new SVG.GaussianBlurEffect(o,r))},morphology:function(o,r){return this.put(new SVG.MorphologyEffect(o,r))},diffuseLighting:function(o,r,h){return this.put(new SVG.DiffuseLightingEffect(o,r,h))},displacementMap:function(o,r,h,d,p){return this.put(new SVG.DisplacementMapEffect(o,r,h,d,p))},specularLighting:function(o,r,h,d){return this.put(new SVG.SpecularLightingEffect(o,r,h,d))},tile:function(){return this.put(new SVG.TileEffect)},turbulence:function(o,r,h,d,p){return this.put(new SVG.TurbulenceEffect(o,r,h,d,p))},toString:function(){return"url(#"+this.attr("id")+")"}}}),SVG.extend(SVG.Defs,{filter:function(o){var r=this.put(new SVG.Filter);return"function"==typeof o&&o.call(r,r),r}}),SVG.extend(SVG.Container,{filter:function(o){return this.defs().filter(o)}}),SVG.extend(SVG.Element,SVG.G,SVG.Nested,{filter:function(o){return this.filterer=o instanceof SVG.Element?o:this.doc().filter(o),this.doc()&&this.filterer.doc()!==this.doc()&&this.doc().defs().add(this.filterer),this.attr("filter",this.filterer),this.filterer},unfilter:function(o){return this.filterer&&!0===o&&this.filterer.remove(),delete this.filterer,this.attr("filter",null)}}),SVG.Effect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(o){return null==o?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",o)},result:function(o){return null==o?this.attr("result"):this.attr("result",o)},toString:function(){return this.result()}}}),SVG.ParentEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Parent,extend:{in:function(o){return null==o?this.parent()&&this.parent().select('[result="'+this.attr("in")+'"]').get(0)||this.attr("in"):this.attr("in",o)},result:function(o){return null==o?this.attr("result"):this.attr("result",o)},toString:function(){return this.result()}}});var A={blend:function(o,r){return this.parent()&&this.parent().blend(this,o,r)},colorMatrix:function(o,r){return this.parent()&&this.parent().colorMatrix(o,r).in(this)},convolveMatrix:function(o){return this.parent()&&this.parent().convolveMatrix(o).in(this)},componentTransfer:function(o){return this.parent()&&this.parent().componentTransfer(o).in(this)},composite:function(o,r){return this.parent()&&this.parent().composite(this,o,r)},flood:function(o,r){return this.parent()&&this.parent().flood(o,r)},offset:function(o,r){return this.parent()&&this.parent().offset(o,r).in(this)},image:function(o){return this.parent()&&this.parent().image(o)},merge:function(){return this.parent()&&this.parent().merge.apply(this.parent(),[this].concat(arguments))},gaussianBlur:function(o,r){return this.parent()&&this.parent().gaussianBlur(o,r).in(this)},morphology:function(o,r){return this.parent()&&this.parent().morphology(o,r).in(this)},diffuseLighting:function(o,r,h){return this.parent()&&this.parent().diffuseLighting(o,r,h).in(this)},displacementMap:function(o,r,h,d){return this.parent()&&this.parent().displacementMap(this,o,r,h,d)},specularLighting:function(o,r,h,d){return this.parent()&&this.parent().specularLighting(o,r,h,d).in(this)},tile:function(){return this.parent()&&this.parent().tile().in(this)},turbulence:function(o,r,h,d,p){return this.parent()&&this.parent().turbulence(o,r,h,d,p).in(this)}};SVG.extend(SVG.Effect,A),SVG.extend(SVG.ParentEffect,A),SVG.ChildEffect=SVG.invent({create:function(){this.constructor.call(this)},inherit:SVG.Element,extend:{in:function(o){this.attr("in",o)}}});var t={blend:function(o,r,h){this.attr({in:o,in2:r,mode:h||"normal"})},colorMatrix:function(o,r){"matrix"==o&&(r=a(r)),this.attr({type:o,values:void 0===r?null:r})},convolveMatrix:function(o){o=a(o),this.attr({order:Math.sqrt(o.split(" ").length),kernelMatrix:o})},composite:function(o,r,h){this.attr({in:o,in2:r,operator:h})},flood:function(o,r){this.attr("flood-color",o),null!=r&&this.attr("flood-opacity",r)},offset:function(o,r){this.attr({dx:o,dy:r})},image:function(o){this.attr("href",o,SVG.xlink)},displacementMap:function(o,r,h,d,p){this.attr({in:o,in2:r,scale:h,xChannelSelector:d,yChannelSelector:p})},gaussianBlur:function(o,r){this.attr("stdDeviation",null!=o||null!=r?function(h){if(!Array.isArray(h))return h;for(var d=0,p=h.length,g=[];d<p;d++)g.push(h[d]);return g.join(" ")}(Array.prototype.slice.call(arguments)):"0 0")},morphology:function(o,r){this.attr({operator:o,radius:r})},tile:function(){},turbulence:function(o,r,h,d,p){this.attr({numOctaves:r,seed:h,stitchTiles:d,baseFrequency:o,type:p})}},e={merge:function(){var o;if(arguments[0]instanceof SVG.Set){var r=this;arguments[0].each(function(d){this instanceof SVG.MergeNode?r.put(this):(this instanceof SVG.Effect||this instanceof SVG.ParentEffect)&&r.put(new SVG.MergeNode(this))})}else{o=Array.isArray(arguments[0])?arguments[0]:arguments;for(var h=0;h<o.length;h++)o[h]instanceof SVG.MergeNode?this.put(o[h]):this.put(new SVG.MergeNode(o[h]))}},componentTransfer:function(o){if(this.rgb=new SVG.Set,["r","g","b","a"].forEach(function(h){this[h]=new(SVG["Func"+h.toUpperCase()])("identity"),this.rgb.add(this[h]),this.node.appendChild(this[h].node)}.bind(this)),o)for(var r in o.rgb&&(["r","g","b"].forEach(function(h){this[h].attr(o.rgb)}.bind(this)),delete o.rgb),o)this[r].attr(o[r])},diffuseLighting:function(o,r,h){this.attr({surfaceScale:o,diffuseConstant:r,kernelUnitLength:h})},specularLighting:function(o,r,h,d){this.attr({surfaceScale:o,diffuseConstant:r,specularExponent:h,kernelUnitLength:d})}},i={distantLight:function(o,r){this.attr({azimuth:o,elevation:r})},pointLight:function(o,r,h){this.attr({x:o,y:r,z:h})},spotLight:function(o,r,h,d,p,g){this.attr({x:o,y:r,z:h,pointsAtX:d,pointsAtY:p,pointsAtZ:g})},mergeNode:function(o){this.attr("in",o)}};function a(o){return Array.isArray(o)&&(o=new SVG.Array(o)),o.toString().replace(/^\s+/,"").replace(/\s+$/,"").replace(/\s+/g," ")}function n(){var o=function(){};for(var r in"function"==typeof arguments[arguments.length-1]&&(o=arguments[arguments.length-1],Array.prototype.splice.call(arguments,arguments.length-1,1)),arguments)for(var h in arguments[r])o(arguments[r][h],h,arguments[r])}["r","g","b","a"].forEach(function(o){i["Func"+o.toUpperCase()]=function(r){switch(this.attr("type",r),r){case"table":this.attr("tableValues",arguments[1]);break;case"linear":this.attr("slope",arguments[1]),this.attr("intercept",arguments[2]);break;case"gamma":this.attr("amplitude",arguments[1]),this.attr("exponent",arguments[2]),this.attr("offset",arguments[2])}}}),n(t,function(o,r){var h=r.charAt(0).toUpperCase()+r.slice(1);SVG[h+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+h)),o.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.Effect,extend:{}})}),n(e,function(o,r){var h=r.charAt(0).toUpperCase()+r.slice(1);SVG[h+"Effect"]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+h)),o.apply(this,arguments),this.result(this.attr("id")+"Out")},inherit:SVG.ParentEffect,extend:{}})}),n(i,function(o,r){var h=r.charAt(0).toUpperCase()+r.slice(1);SVG[h]=SVG.invent({create:function(){this.constructor.call(this,SVG.create("fe"+h)),o.apply(this,arguments)},inherit:SVG.ChildEffect,extend:{}})}),SVG.extend(SVG.MergeEffect,{in:function(o){return o instanceof SVG.MergeNode?this.add(o,0):this.add(new SVG.MergeNode(o),0),this}}),SVG.extend(SVG.CompositeEffect,SVG.BlendEffect,SVG.DisplacementMapEffect,{in2:function(o){return null==o?this.parent()&&this.parent().select('[result="'+this.attr("in2")+'"]').get(0)||this.attr("in2"):this.attr("in2",o)}}),SVG.filter={sepiatone:[.343,.669,.119,0,0,.249,.626,.13,0,0,.172,.334,.111,0,0,0,0,0,1,0]}}.call(void 0),function(){function A(n,o,r,h,d,p,g){for(var f=n.slice(o,r||g),x=h.slice(d,p||g),y=0,b={pos:[0,0],start:[0,0]},k={pos:[0,0],start:[0,0]};f[y]=t.call(b,f[y]),x[y]=t.call(k,x[y]),f[y][0]!=x[y][0]||"M"==f[y][0]||"A"==f[y][0]&&(f[y][4]!=x[y][4]||f[y][5]!=x[y][5])?(Array.prototype.splice.apply(f,[y,1].concat(i.call(b,f[y]))),Array.prototype.splice.apply(x,[y,1].concat(i.call(k,x[y])))):(f[y]=e.call(b,f[y]),x[y]=e.call(k,x[y])),++y!=f.length||y!=x.length;)y==f.length&&f.push(["C",b.pos[0],b.pos[1],b.pos[0],b.pos[1],b.pos[0],b.pos[1]]),y==x.length&&x.push(["C",k.pos[0],k.pos[1],k.pos[0],k.pos[1],k.pos[0],k.pos[1]]);return{start:f,dest:x}}function t(n){switch(n[0]){case"z":case"Z":n[0]="L",n[1]=this.start[0],n[2]=this.start[1];break;case"H":n[0]="L",n[2]=this.pos[1];break;case"V":n[0]="L",n[2]=n[1],n[1]=this.pos[0];break;case"T":n[0]="Q",n[3]=n[1],n[4]=n[2],n[1]=this.reflection[1],n[2]=this.reflection[0];break;case"S":n[0]="C",n[6]=n[4],n[5]=n[3],n[4]=n[2],n[3]=n[1],n[2]=this.reflection[1],n[1]=this.reflection[0]}return n}function e(n){var o=n.length;return this.pos=[n[o-2],n[o-1]],-1!="SCQT".indexOf(n[0])&&(this.reflection=[2*this.pos[0]-n[o-4],2*this.pos[1]-n[o-3]]),n}function i(n){var o=[n];switch(n[0]){case"M":return this.pos=this.start=[n[1],n[2]],o;case"L":n[5]=n[3]=n[1],n[6]=n[4]=n[2],n[1]=this.pos[0],n[2]=this.pos[1];break;case"Q":n[6]=n[4],n[5]=n[3],n[4]=1*n[4]/3+2*n[2]/3,n[3]=1*n[3]/3+2*n[1]/3,n[2]=1*this.pos[1]/3+2*n[2]/3,n[1]=1*this.pos[0]/3+2*n[1]/3;break;case"A":n=(o=function(r,h){var d,p,g,f,x,y,b,k,S,C,c,m,w,T,P,M,I,E,X,F,D,Y,G,$,K,Q,it=Math.abs(h[1]),et=Math.abs(h[2]),ot=h[3]%360,St=h[4],yt=h[5],xt=h[6],Vt=h[7],ft=new SVG.Point(r),gt=new SVG.Point(xt,Vt),dt=[];if(0===it||0===et||ft.x===gt.x&&ft.y===gt.y)return[["C",ft.x,ft.y,gt.x,gt.y,gt.x,gt.y]];for((p=(d=new SVG.Point((ft.x-gt.x)/2,(ft.y-gt.y)/2).transform((new SVG.Matrix).rotate(ot))).x*d.x/(it*it)+d.y*d.y/(et*et))>1&&(it*=p=Math.sqrt(p),et*=p),g=(new SVG.Matrix).rotate(ot).scale(1/it,1/et).rotate(-ot),ft=ft.transform(g),y=(f=[(gt=gt.transform(g)).x-ft.x,gt.y-ft.y])[0]*f[0]+f[1]*f[1],x=Math.sqrt(y),f[0]/=x,f[1]/=x,b=y<4?Math.sqrt(1-y/4):0,St===yt&&(b*=-1),k=new SVG.Point((gt.x+ft.x)/2+b*-f[1],(gt.y+ft.y)/2+b*f[0]),S=new SVG.Point(ft.x-k.x,ft.y-k.y),C=new SVG.Point(gt.x-k.x,gt.y-k.y),c=Math.acos(S.x/Math.sqrt(S.x*S.x+S.y*S.y)),S.y<0&&(c*=-1),m=Math.acos(C.x/Math.sqrt(C.x*C.x+C.y*C.y)),C.y<0&&(m*=-1),yt&&c>m&&(m+=2*Math.PI),!yt&&c<m&&(m-=2*Math.PI),M=[],I=c,w=(m-c)/(T=Math.ceil(2*Math.abs(c-m)/Math.PI)),P=4*Math.tan(w/4)/3,D=0;D<=T;D++)X=Math.cos(I),E=Math.sin(I),F=new SVG.Point(k.x+X,k.y+E),M[D]=[new SVG.Point(F.x+P*E,F.y-P*X),F,new SVG.Point(F.x-P*E,F.y+P*X)],I+=w;for(M[0][0]=M[0][1].clone(),M[M.length-1][2]=M[M.length-1][1].clone(),g=(new SVG.Matrix).rotate(ot).scale(it,et).rotate(-ot),D=0,Y=M.length;D<Y;D++)M[D][0]=M[D][0].transform(g),M[D][1]=M[D][1].transform(g),M[D][2]=M[D][2].transform(g);for(D=1,Y=M.length;D<Y;D++)G=(F=M[D-1][2]).x,$=F.y,K=(F=M[D][0]).x,Q=F.y,xt=(F=M[D][1]).x,dt.push(["C",G,$,K,Q,xt,Vt=F.y]);return dt}(this.pos,n))[0]}return n[0]="C",this.pos=[n[5],n[6]],this.reflection=[2*n[5]-n[3],2*n[6]-n[4]],o}function a(n,o){if(!1===o)return!1;for(var r=o,h=n.length;r<h;++r)if("M"==n[r][0])return r;return!1}SVG.extend(SVG.PathArray,{morph:function(n){for(var o=this.value,r=this.parse(n),h=0,d=0,p=!1,g=!1;!1!==h||!1!==d;){var f;p=a(o,!1!==h&&h+1),g=a(r,!1!==d&&d+1),!1===h&&(h=0==(f=new SVG.PathArray(x.start).bbox()).height||0==f.width?o.push(o[0])-1:o.push(["M",f.x+f.width/2,f.y+f.height/2])-1),!1===d&&(d=0==(f=new SVG.PathArray(x.dest).bbox()).height||0==f.width?r.push(r[0])-1:r.push(["M",f.x+f.width/2,f.y+f.height/2])-1);var x=A(o,h,p,r,d,g);o=o.slice(0,h).concat(x.start,!1===p?[]:o.slice(p)),r=r.slice(0,d).concat(x.dest,!1===g?[]:r.slice(g)),h=!1!==p&&h+x.start.length,d=!1!==g&&d+x.dest.length}return this.value=o,this.destination=new SVG.PathArray,this.destination.value=r,this}})}(),
/*! svg.draggable.js - v2.2.2 - 2019-01-08
    * https://github.com/svgdotjs/svg.draggable.js
    * Copyright (c) 2019 Wout Fierens; Licensed MIT */
function(){function A(t){t.remember("_draggable",this),this.el=t}A.prototype.init=function(t,e){var i=this;this.constraint=t,this.value=e,this.el.on("mousedown.drag",function(a){i.start(a)}),this.el.on("touchstart.drag",function(a){i.start(a)})},A.prototype.transformPoint=function(t,e){var i=(t=t||window.event).changedTouches&&t.changedTouches[0]||t;return this.p.x=i.clientX-(e||0),this.p.y=i.clientY,this.p.matrixTransform(this.m)},A.prototype.getBBox=function(){var t=this.el.bbox();return this.el instanceof SVG.Nested&&(t=this.el.rbox()),(this.el instanceof SVG.G||this.el instanceof SVG.Use||this.el instanceof SVG.Nested)&&(t.x=this.el.x(),t.y=this.el.y()),t},A.prototype.start=function(t){if("click"!=t.type&&"mousedown"!=t.type&&"mousemove"!=t.type||1==(t.which||t.buttons)){var e=this;if(this.el.fire("beforedrag",{event:t,handler:this}),!this.el.event().defaultPrevented){t.preventDefault(),t.stopPropagation(),this.parent=this.parent||this.el.parent(SVG.Nested)||this.el.parent(SVG.Doc),this.p=this.parent.node.createSVGPoint(),this.m=this.el.node.getScreenCTM().inverse();var i,a=this.getBBox();if(this.el instanceof SVG.Text)switch(i=this.el.node.getComputedTextLength(),this.el.attr("text-anchor")){case"middle":i/=2;break;case"start":i=0}this.startPoints={point:this.transformPoint(t,i),box:a,transform:this.el.transform()},SVG.on(window,"mousemove.drag",function(n){e.drag(n)}),SVG.on(window,"touchmove.drag",function(n){e.drag(n)}),SVG.on(window,"mouseup.drag",function(n){e.end(n)}),SVG.on(window,"touchend.drag",function(n){e.end(n)}),this.el.fire("dragstart",{event:t,p:this.startPoints.point,m:this.m,handler:this})}}},A.prototype.drag=function(t){var e=this.getBBox(),i=this.transformPoint(t),a=this.startPoints.box.x+i.x-this.startPoints.point.x,n=this.startPoints.box.y+i.y-this.startPoints.point.y,o=this.constraint,r=i.x-this.startPoints.point.x,h=i.y-this.startPoints.point.y;if(this.el.fire("dragmove",{event:t,p:i,m:this.m,handler:this}),this.el.event().defaultPrevented)return i;if("function"==typeof o){var d=o.call(this.el,a,n,this.m);"boolean"==typeof d&&(d={x:d,y:d}),!0===d.x?this.el.x(a):!1!==d.x&&this.el.x(d.x),!0===d.y?this.el.y(n):!1!==d.y&&this.el.y(d.y)}else"object"==typeof o&&(null!=o.minX&&a<o.minX?r=(a=o.minX)-this.startPoints.box.x:null!=o.maxX&&a>o.maxX-e.width&&(r=(a=o.maxX-e.width)-this.startPoints.box.x),null!=o.minY&&n<o.minY?h=(n=o.minY)-this.startPoints.box.y:null!=o.maxY&&n>o.maxY-e.height&&(h=(n=o.maxY-e.height)-this.startPoints.box.y),null!=o.snapToGrid&&(a-=a%o.snapToGrid,n-=n%o.snapToGrid,r-=r%o.snapToGrid,h-=h%o.snapToGrid),this.el instanceof SVG.G?this.el.matrix(this.startPoints.transform).transform({x:r,y:h},!0):this.el.move(a,n));return i},A.prototype.end=function(t){var e=this.drag(t);this.el.fire("dragend",{event:t,p:e,m:this.m,handler:this}),SVG.off(window,"mousemove.drag"),SVG.off(window,"touchmove.drag"),SVG.off(window,"mouseup.drag"),SVG.off(window,"touchend.drag")},SVG.extend(SVG.Element,{draggable:function(t,e){"function"!=typeof t&&"object"!=typeof t||(e=t,t=!0);var i=this.remember("_draggable")||new A(this);return(t=void 0===t||t)?i.init(e||{},t):(this.off("mousedown.drag"),this.off("touchstart.drag")),this}})}.call(void 0),function(){function A(t){this.el=t,t.remember("_selectHandler",this),this.pointSelection={isSelected:!1},this.rectSelection={isSelected:!1},this.pointsList={lt:[0,0],rt:["width",0],rb:["width","height"],lb:[0,"height"],t:["width",0],r:["width","height"],b:["width","height"],l:[0,"height"]},this.pointCoord=function(e,i,a){var n="string"!=typeof e?e:i[e];return a?n/2:n},this.pointCoords=function(e,i){var a=this.pointsList[e];return{x:this.pointCoord(a[0],i,"t"===e||"b"===e),y:this.pointCoord(a[1],i,"r"===e||"l"===e)}}}A.prototype.init=function(t,e){var i=this.el.bbox();this.options={};var a=this.el.selectize.defaults.points;for(var n in this.el.selectize.defaults)this.options[n]=this.el.selectize.defaults[n],void 0!==e[n]&&(this.options[n]=e[n]);var o=["points","pointsExclude"];for(var n in o){var r=this.options[o[n]];"string"==typeof r?r=r.length>0?r.split(/\s*,\s*/i):[]:"boolean"==typeof r&&"points"===o[n]&&(r=r?a:[]),this.options[o[n]]=r}this.options.points=[a,this.options.points].reduce(function(h,d){return h.filter(function(p){return d.indexOf(p)>-1})}),this.options.points=[this.options.points,this.options.pointsExclude].reduce(function(h,d){return h.filter(function(p){return d.indexOf(p)<0})}),this.parent=this.el.parent(),this.nested=this.nested||this.parent.group(),this.nested.matrix(new SVG.Matrix(this.el).translate(i.x,i.y)),this.options.deepSelect&&-1!==["line","polyline","polygon"].indexOf(this.el.type)?this.selectPoints(t):this.selectRect(t),this.observe(),this.cleanup()},A.prototype.selectPoints=function(t){return this.pointSelection.isSelected=t,this.pointSelection.set||(this.pointSelection.set=this.parent.set(),this.drawPoints()),this},A.prototype.getPointArray=function(){var t=this.el.bbox();return this.el.array().valueOf().map(function(e){return[e[0]-t.x,e[1]-t.y]})},A.prototype.drawPoints=function(){for(var t=this,e=this.getPointArray(),i=0,a=e.length;i<a;++i){var n=function(r){return function(h){(h=h||window.event).preventDefault?h.preventDefault():h.returnValue=!1,h.stopPropagation(),t.el.fire("point",{x:h.pageX||h.touches[0].pageX,y:h.pageY||h.touches[0].pageY,i:r,event:h})}}(i),o=this.drawPoint(e[i][0],e[i][1]).addClass(this.options.classPoints).addClass(this.options.classPoints+"_point").on("touchstart",n).on("mousedown",n);this.pointSelection.set.add(o)}},A.prototype.drawPoint=function(t,e){var i=this.options.pointType;switch(i){case"circle":return this.drawCircle(t,e);case"rect":return this.drawRect(t,e);default:if("function"==typeof i)return i.call(this,t,e);throw new Error("Unknown "+i+" point type!")}},A.prototype.drawCircle=function(t,e){return this.nested.circle(this.options.pointSize).center(t,e)},A.prototype.drawRect=function(t,e){return this.nested.rect(this.options.pointSize,this.options.pointSize).center(t,e)},A.prototype.updatePointSelection=function(){var t=this.getPointArray();this.pointSelection.set.each(function(e){this.cx()===t[e][0]&&this.cy()===t[e][1]||this.center(t[e][0],t[e][1])})},A.prototype.updateRectSelection=function(){var t=this,e=this.el.bbox();if(this.rectSelection.set.get(0).attr({width:e.width,height:e.height}),this.options.points.length&&this.options.points.map(function(a,n){var o=t.pointCoords(a,e);t.rectSelection.set.get(n+1).center(o.x,o.y)}),this.options.rotationPoint){var i=this.rectSelection.set.length();this.rectSelection.set.get(i-1).center(e.width/2,20)}},A.prototype.selectRect=function(t){var e=this,i=this.el.bbox();function a(r){return function(h){(h=h||window.event).preventDefault?h.preventDefault():h.returnValue=!1,h.stopPropagation(),e.el.fire(r,{x:h.pageX||h.touches[0].pageX,y:h.pageY||h.touches[0].pageY,event:h})}}if(this.rectSelection.isSelected=t,this.rectSelection.set=this.rectSelection.set||this.parent.set(),this.rectSelection.set.get(0)||this.rectSelection.set.add(this.nested.rect(i.width,i.height).addClass(this.options.classRect)),this.options.points.length&&this.rectSelection.set.length()<2&&(this.options.points.map(function(r,h){var d=e.pointCoords(r,i),p=e.drawPoint(d.x,d.y).attr("class",e.options.classPoints+"_"+r).on("mousedown",a(r)).on("touchstart",a(r));e.rectSelection.set.add(p)}),this.rectSelection.set.each(function(){this.addClass(e.options.classPoints)})),this.options.rotationPoint&&(this.options.points&&!this.rectSelection.set.get(9)||!this.options.points&&!this.rectSelection.set.get(1))){var n=function(r){(r=r||window.event).preventDefault?r.preventDefault():r.returnValue=!1,r.stopPropagation(),e.el.fire("rot",{x:r.pageX||r.touches[0].pageX,y:r.pageY||r.touches[0].pageY,event:r})},o=this.drawPoint(i.width/2,20).attr("class",this.options.classPoints+"_rot").on("touchstart",n).on("mousedown",n);this.rectSelection.set.add(o)}},A.prototype.handler=function(){var t=this.el.bbox();this.nested.matrix(new SVG.Matrix(this.el).translate(t.x,t.y)),this.rectSelection.isSelected&&this.updateRectSelection(),this.pointSelection.isSelected&&this.updatePointSelection()},A.prototype.observe=function(){var t=this;if(MutationObserver)if(this.rectSelection.isSelected||this.pointSelection.isSelected)this.observerInst=this.observerInst||new MutationObserver(function(){t.handler()}),this.observerInst.observe(this.el.node,{attributes:!0});else try{this.observerInst.disconnect(),delete this.observerInst}catch{}else this.el.off("DOMAttrModified.select"),(this.rectSelection.isSelected||this.pointSelection.isSelected)&&this.el.on("DOMAttrModified.select",function(){t.handler()})},A.prototype.cleanup=function(){!this.rectSelection.isSelected&&this.rectSelection.set&&(this.rectSelection.set.each(function(){this.remove()}),this.rectSelection.set.clear(),delete this.rectSelection.set),!this.pointSelection.isSelected&&this.pointSelection.set&&(this.pointSelection.set.each(function(){this.remove()}),this.pointSelection.set.clear(),delete this.pointSelection.set),this.pointSelection.isSelected||this.rectSelection.isSelected||(this.nested.remove(),delete this.nested)},SVG.extend(SVG.Element,{selectize:function(t,e){return"object"==typeof t&&(e=t,t=!0),(this.remember("_selectHandler")||new A(this)).init(void 0===t||t,e||{}),this}}),SVG.Element.prototype.selectize.defaults={points:["lt","rt","rb","lb","t","r","b","l"],pointsExclude:[],classRect:"svg_select_boundingRect",classPoints:"svg_select_points",pointSize:7,rotationPoint:!0,deepSelect:!1,pointType:"circle"}}(),function(){(function(){function A(t){t.remember("_resizeHandler",this),this.el=t,this.parameters={},this.lastUpdateCall=null,this.p=t.doc().node.createSVGPoint()}A.prototype.transformPoint=function(t,e,i){return this.p.x=t-(this.offset.x-window.pageXOffset),this.p.y=e-(this.offset.y-window.pageYOffset),this.p.matrixTransform(i||this.m)},A.prototype._extractPosition=function(t){return{x:null!=t.clientX?t.clientX:t.touches[0].clientX,y:null!=t.clientY?t.clientY:t.touches[0].clientY}},A.prototype.init=function(t){var e=this;if(this.stop(),"stop"!==t){for(var i in this.options={},this.el.resize.defaults)this.options[i]=this.el.resize.defaults[i],void 0!==t[i]&&(this.options[i]=t[i]);this.el.on("lt.resize",function(a){e.resize(a||window.event)}),this.el.on("rt.resize",function(a){e.resize(a||window.event)}),this.el.on("rb.resize",function(a){e.resize(a||window.event)}),this.el.on("lb.resize",function(a){e.resize(a||window.event)}),this.el.on("t.resize",function(a){e.resize(a||window.event)}),this.el.on("r.resize",function(a){e.resize(a||window.event)}),this.el.on("b.resize",function(a){e.resize(a||window.event)}),this.el.on("l.resize",function(a){e.resize(a||window.event)}),this.el.on("rot.resize",function(a){e.resize(a||window.event)}),this.el.on("point.resize",function(a){e.resize(a||window.event)}),this.update()}},A.prototype.stop=function(){return this.el.off("lt.resize"),this.el.off("rt.resize"),this.el.off("rb.resize"),this.el.off("lb.resize"),this.el.off("t.resize"),this.el.off("r.resize"),this.el.off("b.resize"),this.el.off("l.resize"),this.el.off("rot.resize"),this.el.off("point.resize"),this},A.prototype.resize=function(t){var e=this;this.m=this.el.node.getScreenCTM().inverse(),this.offset={x:window.pageXOffset,y:window.pageYOffset};var i=this._extractPosition(t.detail.event);if(this.parameters={type:this.el.type,p:this.transformPoint(i.x,i.y),x:t.detail.x,y:t.detail.y,box:this.el.bbox(),rotation:this.el.transform().rotation},"text"===this.el.type&&(this.parameters.fontSize=this.el.attr()["font-size"]),void 0!==t.detail.i){var a=this.el.array().valueOf();this.parameters.i=t.detail.i,this.parameters.pointCoords=[a[t.detail.i][0],a[t.detail.i][1]]}switch(t.type){case"lt":this.calc=function(n,o){var r=this.snapToGrid(n,o);if(this.parameters.box.width-r[0]>0&&this.parameters.box.height-r[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+r[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-r[0]);r=this.checkAspectRatio(r),this.el.move(this.parameters.box.x+r[0],this.parameters.box.y+r[1]).size(this.parameters.box.width-r[0],this.parameters.box.height-r[1])}};break;case"rt":this.calc=function(n,o){var r=this.snapToGrid(n,o,2);if(this.parameters.box.width+r[0]>0&&this.parameters.box.height-r[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-r[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+r[0]);r=this.checkAspectRatio(r,!0),this.el.move(this.parameters.box.x,this.parameters.box.y+r[1]).size(this.parameters.box.width+r[0],this.parameters.box.height-r[1])}};break;case"rb":this.calc=function(n,o){var r=this.snapToGrid(n,o,0);if(this.parameters.box.width+r[0]>0&&this.parameters.box.height+r[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x-r[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize+r[0]);r=this.checkAspectRatio(r),this.el.move(this.parameters.box.x,this.parameters.box.y).size(this.parameters.box.width+r[0],this.parameters.box.height+r[1])}};break;case"lb":this.calc=function(n,o){var r=this.snapToGrid(n,o,1);if(this.parameters.box.width-r[0]>0&&this.parameters.box.height+r[1]>0){if("text"===this.parameters.type)return this.el.move(this.parameters.box.x+r[0],this.parameters.box.y),void this.el.attr("font-size",this.parameters.fontSize-r[0]);r=this.checkAspectRatio(r,!0),this.el.move(this.parameters.box.x+r[0],this.parameters.box.y).size(this.parameters.box.width-r[0],this.parameters.box.height+r[1])}};break;case"t":this.calc=function(n,o){var r=this.snapToGrid(n,o,2);if(this.parameters.box.height-r[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y+r[1]).height(this.parameters.box.height-r[1])}};break;case"r":this.calc=function(n,o){var r=this.snapToGrid(n,o,0);if(this.parameters.box.width+r[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).width(this.parameters.box.width+r[0])}};break;case"b":this.calc=function(n,o){var r=this.snapToGrid(n,o,0);if(this.parameters.box.height+r[1]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x,this.parameters.box.y).height(this.parameters.box.height+r[1])}};break;case"l":this.calc=function(n,o){var r=this.snapToGrid(n,o,1);if(this.parameters.box.width-r[0]>0){if("text"===this.parameters.type)return;this.el.move(this.parameters.box.x+r[0],this.parameters.box.y).width(this.parameters.box.width-r[0])}};break;case"rot":this.calc=function(n,o){var r=n+this.parameters.p.x,h=o+this.parameters.p.y,d=Math.atan2(this.parameters.p.y-this.parameters.box.y-this.parameters.box.height/2,this.parameters.p.x-this.parameters.box.x-this.parameters.box.width/2),p=Math.atan2(h-this.parameters.box.y-this.parameters.box.height/2,r-this.parameters.box.x-this.parameters.box.width/2),g=this.parameters.rotation+180*(p-d)/Math.PI+this.options.snapToAngle/2;this.el.center(this.parameters.box.cx,this.parameters.box.cy).rotate(g-g%this.options.snapToAngle,this.parameters.box.cx,this.parameters.box.cy)};break;case"point":this.calc=function(n,o){var r=this.snapToGrid(n,o,this.parameters.pointCoords[0],this.parameters.pointCoords[1]),h=this.el.array().valueOf();h[this.parameters.i][0]=this.parameters.pointCoords[0]+r[0],h[this.parameters.i][1]=this.parameters.pointCoords[1]+r[1],this.el.plot(h)}}this.el.fire("resizestart",{dx:this.parameters.x,dy:this.parameters.y,event:t}),SVG.on(window,"touchmove.resize",function(n){e.update(n||window.event)}),SVG.on(window,"touchend.resize",function(){e.done()}),SVG.on(window,"mousemove.resize",function(n){e.update(n||window.event)}),SVG.on(window,"mouseup.resize",function(){e.done()})},A.prototype.update=function(t){if(t){var e=this._extractPosition(t),i=this.transformPoint(e.x,e.y),a=i.x-this.parameters.p.x,n=i.y-this.parameters.p.y;this.lastUpdateCall=[a,n],this.calc(a,n),this.el.fire("resizing",{dx:a,dy:n,event:t})}else this.lastUpdateCall&&this.calc(this.lastUpdateCall[0],this.lastUpdateCall[1])},A.prototype.done=function(){this.lastUpdateCall=null,SVG.off(window,"mousemove.resize"),SVG.off(window,"mouseup.resize"),SVG.off(window,"touchmove.resize"),SVG.off(window,"touchend.resize"),this.el.fire("resizedone")},A.prototype.snapToGrid=function(t,e,i,a){var n;return n=void 0!==a?[(i+t)%this.options.snapToGrid,(a+e)%this.options.snapToGrid]:[(this.parameters.box.x+t+(1&(i=i??3)?0:this.parameters.box.width))%this.options.snapToGrid,(this.parameters.box.y+e+(2&i?0:this.parameters.box.height))%this.options.snapToGrid],t<0&&(n[0]-=this.options.snapToGrid),e<0&&(n[1]-=this.options.snapToGrid),t-=Math.abs(n[0])<this.options.snapToGrid/2?n[0]:n[0]-(t<0?-this.options.snapToGrid:this.options.snapToGrid),e-=Math.abs(n[1])<this.options.snapToGrid/2?n[1]:n[1]-(e<0?-this.options.snapToGrid:this.options.snapToGrid),this.constraintToBox(t,e,i,a)},A.prototype.constraintToBox=function(t,e,i,a){var n,o,r=this.options.constraint||{};return void 0!==a?(n=i,o=a):(n=this.parameters.box.x+(1&i?0:this.parameters.box.width),o=this.parameters.box.y+(2&i?0:this.parameters.box.height)),void 0!==r.minX&&n+t<r.minX&&(t=r.minX-n),void 0!==r.maxX&&n+t>r.maxX&&(t=r.maxX-n),void 0!==r.minY&&o+e<r.minY&&(e=r.minY-o),void 0!==r.maxY&&o+e>r.maxY&&(e=r.maxY-o),[t,e]},A.prototype.checkAspectRatio=function(t,e){if(!this.options.saveAspectRatio)return t;var i=t.slice(),a=this.parameters.box.width/this.parameters.box.height,n=this.parameters.box.width+t[0],o=this.parameters.box.height-t[1],r=n/o;return r<a?(i[1]=n/a-this.parameters.box.height,e&&(i[1]=-i[1])):r>a&&(i[0]=this.parameters.box.width-o*a,e&&(i[0]=-i[0])),i},SVG.extend(SVG.Element,{resize:function(t){return(this.remember("_resizeHandler")||new A(this)).init(t||{}),this}}),SVG.Element.prototype.resize.defaults={snapToAngle:.1,snapToGrid:1,constraint:{},saveAspectRatio:!1}}).call(this)}(),void 0===window.Apex&&(window.Apex={});var ce=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w}return W(A,[{key:"initModules",value:function(){this.ctx.publicMethods=["updateOptions","updateSeries","appendData","appendSeries","isSeriesHidden","highlightSeries","toggleSeries","showSeries","hideSeries","setLocale","resetSeries","zoomX","toggleDataPointSelection","dataURI","exportToCSV","addXaxisAnnotation","addYaxisAnnotation","addPointAnnotation","clearAnnotations","removeAnnotation","paper","destroy"],this.ctx.eventList=["click","mousedown","mousemove","mouseleave","touchstart","touchmove","touchleave","mouseup","touchend"],this.ctx.animations=new ne(this.ctx),this.ctx.axes=new Vi(this.ctx),this.ctx.core=new qt(this.ctx.el,this.ctx),this.ctx.config=new Ct({}),this.ctx.data=new ue(this.ctx),this.ctx.grid=new si(this.ctx),this.ctx.graphics=new H(this.ctx),this.ctx.coreUtils=new Lt(this.ctx),this.ctx.crosshairs=new ni(this.ctx),this.ctx.events=new ki(this.ctx),this.ctx.exports=new He(this.ctx),this.ctx.fill=new Et(this.ctx),this.ctx.localization=new Gi(this.ctx),this.ctx.options=new oe,this.ctx.responsive=new Zi(this.ctx),this.ctx.series=new Nt(this.ctx),this.ctx.theme=new ji(this.ctx),this.ctx.formatters=new Re(this.ctx),this.ctx.titleSubtitle=new Ui(this.ctx),this.ctx.legend=new ri(this.ctx),this.ctx.toolbar=new li(this.ctx),this.ctx.tooltip=new ui(this.ctx),this.ctx.dimensions=new Xe(this.ctx),this.ctx.updateHelpers=new qe(this.ctx),this.ctx.zoomPanSelection=new hi(this.ctx),this.ctx.w.globals.tooltip=new ui(this.ctx)}}]),A}(),zt=function(){function A(t){q(this,A),this.ctx=t,this.w=t.w}return W(A,[{key:"clear",value:function(t){var e=t.isUpdating;this.ctx.zoomPanSelection&&this.ctx.zoomPanSelection.destroy(),this.ctx.toolbar&&this.ctx.toolbar.destroy(),this.ctx.animations=null,this.ctx.axes=null,this.ctx.annotations=null,this.ctx.core=null,this.ctx.data=null,this.ctx.grid=null,this.ctx.series=null,this.ctx.responsive=null,this.ctx.theme=null,this.ctx.formatters=null,this.ctx.titleSubtitle=null,this.ctx.legend=null,this.ctx.dimensions=null,this.ctx.options=null,this.ctx.crosshairs=null,this.ctx.zoomPanSelection=null,this.ctx.updateHelpers=null,this.ctx.toolbar=null,this.ctx.localization=null,this.ctx.w.globals.tooltip=null,this.clearDomElements({isUpdating:e})}},{key:"killSVG",value:function(t){t.each(function(){this.removeClass("*"),this.off(),this.stop()},!0),t.ungroup(),t.clear()}},{key:"clearDomElements",value:function(t){var e=this,a=this.w.globals.dom.Paper.node;a.parentNode&&a.parentNode.parentNode&&!t.isUpdating&&(a.parentNode.parentNode.style.minHeight="unset");var n=this.w.globals.dom.baseEl;n&&this.ctx.eventList.forEach(function(r){n.removeEventListener(r,e.ctx.events.documentEvent)});var o=this.w.globals.dom;if(null!==this.ctx.el)for(;this.ctx.el.firstChild;)this.ctx.el.removeChild(this.ctx.el.firstChild);this.killSVG(o.Paper),o.Paper.remove(),o.elWrap=null,o.elGraphical=null,o.elLegendWrap=null,o.elLegendForeign=null,o.baseEl=null,o.elGridRect=null,o.elGridRectMask=null,o.elGridRectBarMask=null,o.elGridRectMarkerMask=null,o.elForecastMask=null,o.elNonForecastMask=null,o.elDefs=null}}]),A}(),ae=new WeakMap,fi=function(){function A(t,e){q(this,A),this.opts=e,this.ctx=this,this.w=new ut(e).init(),this.el=t,this.w.globals.cuid=R.randomId(),this.w.globals.chartID=this.w.config.chart.id?R.escapeString(this.w.config.chart.id):this.w.globals.cuid,new ce(this).initModules(),this.create=R.bind(this.create,this),this.windowResizeHandler=this._windowResizeHandler.bind(this),this.parentResizeHandler=this._parentResizeCallback.bind(this)}return W(A,[{key:"render",value:function(){var t=this;return new Promise(function(e,i){if(null!==t.el){void 0===Apex._chartInstances&&(Apex._chartInstances=[]),t.w.config.chart.id&&Apex._chartInstances.push({id:t.w.globals.chartID,group:t.w.config.chart.group,chart:t}),t.setLocale(t.w.config.chart.defaultLocale);var a=t.w.config.chart.events.beforeMount;"function"==typeof a&&a(t,t.w),t.events.fireEvent("beforeMount",[t,t.w]),window.addEventListener("resize",t.windowResizeHandler),function(f,x){var y=!1;if(f.nodeType!==Node.DOCUMENT_FRAGMENT_NODE){var b=f.getBoundingClientRect();"none"!==f.style.display&&0!==b.width||(y=!0)}var k=new ResizeObserver(function(S){y&&x.call(f,S),y=!0});f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Array.from(f.children).forEach(function(S){return k.observe(S)}):k.observe(f),ae.set(x,k)}(t.el.parentNode,t.parentResizeHandler);var n=t.el.getRootNode&&t.el.getRootNode(),o=R.is("ShadowRoot",n),r=t.el.ownerDocument,h=o?n.getElementById("apexcharts-css"):r.getElementById("apexcharts-css");if(!h){var d;(h=document.createElement("style")).id="apexcharts-css",h.textContent='@keyframes opaque {\n  0% {\n    opacity: 0\n  }\n\n  to {\n    opacity: 1\n  }\n}\n\n@keyframes resizeanim {\n\n  0%,\n  to {\n    opacity: 0\n  }\n}\n\n.apexcharts-canvas {\n  position: relative;\n  direction: ltr !important;\n  user-select: none\n}\n\n.apexcharts-canvas ::-webkit-scrollbar {\n  -webkit-appearance: none;\n  width: 6px\n}\n\n.apexcharts-canvas ::-webkit-scrollbar-thumb {\n  border-radius: 4px;\n  background-color: rgba(0, 0, 0, .5);\n  box-shadow: 0 0 1px rgba(255, 255, 255, .5);\n  -webkit-box-shadow: 0 0 1px rgba(255, 255, 255, .5)\n}\n\n.apexcharts-inner {\n  position: relative\n}\n\n.apexcharts-text tspan {\n  font-family: inherit\n}\n\nrect.legend-mouseover-inactive,\n.legend-mouseover-inactive rect,\n.legend-mouseover-inactive path,\n.legend-mouseover-inactive circle,\n.legend-mouseover-inactive line,\n.legend-mouseover-inactive text.apexcharts-yaxis-title-text,\n.legend-mouseover-inactive text.apexcharts-yaxis-label {\n  transition: .15s ease all;\n  opacity: .2\n}\n\n.apexcharts-legend-text {\n  padding-left: 15px;\n  margin-left: -15px;\n}\n\n.apexcharts-series-collapsed {\n  opacity: 0\n}\n\n.apexcharts-tooltip {\n  border-radius: 5px;\n  box-shadow: 2px 2px 6px -4px #999;\n  cursor: default;\n  font-size: 14px;\n  left: 62px;\n  opacity: 0;\n  pointer-events: none;\n  position: absolute;\n  top: 20px;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  white-space: nowrap;\n  z-index: 12;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-tooltip.apexcharts-theme-light {\n  border: 1px solid #e3e3e3;\n  background: rgba(255, 255, 255, .96)\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark {\n  color: #fff;\n  background: rgba(30, 30, 30, .8)\n}\n\n.apexcharts-tooltip * {\n  font-family: inherit\n}\n\n.apexcharts-tooltip-title {\n  padding: 6px;\n  font-size: 15px;\n  margin-bottom: 4px\n}\n\n.apexcharts-tooltip.apexcharts-theme-light .apexcharts-tooltip-title {\n  background: #eceff1;\n  border-bottom: 1px solid #ddd\n}\n\n.apexcharts-tooltip.apexcharts-theme-dark .apexcharts-tooltip-title {\n  background: rgba(0, 0, 0, .7);\n  border-bottom: 1px solid #333\n}\n\n.apexcharts-tooltip-text-goals-value,\n.apexcharts-tooltip-text-y-value,\n.apexcharts-tooltip-text-z-value {\n  display: inline-block;\n  margin-left: 5px;\n  font-weight: 600\n}\n\n.apexcharts-tooltip-text-goals-label:empty,\n.apexcharts-tooltip-text-goals-value:empty,\n.apexcharts-tooltip-text-y-label:empty,\n.apexcharts-tooltip-text-y-value:empty,\n.apexcharts-tooltip-text-z-value:empty,\n.apexcharts-tooltip-title:empty {\n  display: none\n}\n\n.apexcharts-tooltip-text-goals-label,\n.apexcharts-tooltip-text-goals-value {\n  padding: 6px 0 5px\n}\n\n.apexcharts-tooltip-goals-group,\n.apexcharts-tooltip-text-goals-label,\n.apexcharts-tooltip-text-goals-value {\n  display: flex\n}\n\n.apexcharts-tooltip-text-goals-label:not(:empty),\n.apexcharts-tooltip-text-goals-value:not(:empty) {\n  margin-top: -6px\n}\n\n.apexcharts-tooltip-marker {\n  width: 12px;\n  height: 12px;\n  position: relative;\n  top: 0;\n  margin-right: 10px;\n  border-radius: 50%\n}\n\n.apexcharts-tooltip-series-group {\n  padding: 0 10px;\n  display: none;\n  text-align: left;\n  justify-content: left;\n  align-items: center\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active .apexcharts-tooltip-marker {\n  opacity: 1\n}\n\n.apexcharts-tooltip-series-group.apexcharts-active,\n.apexcharts-tooltip-series-group:last-child {\n  padding-bottom: 4px\n}\n\n.apexcharts-tooltip-y-group {\n  padding: 6px 0 5px\n}\n\n.apexcharts-custom-tooltip,\n.apexcharts-tooltip-box {\n  padding: 4px 8px\n}\n\n.apexcharts-tooltip-boxPlot {\n  display: flex;\n  flex-direction: column-reverse\n}\n\n.apexcharts-tooltip-box>div {\n  margin: 4px 0\n}\n\n.apexcharts-tooltip-box span.value {\n  font-weight: 700\n}\n\n.apexcharts-tooltip-rangebar {\n  padding: 5px 8px\n}\n\n.apexcharts-tooltip-rangebar .category {\n  font-weight: 600;\n  color: #777\n}\n\n.apexcharts-tooltip-rangebar .series-name {\n  font-weight: 700;\n  display: block;\n  margin-bottom: 5px\n}\n\n.apexcharts-xaxistooltip,\n.apexcharts-yaxistooltip {\n  opacity: 0;\n  pointer-events: none;\n  color: #373d3f;\n  font-size: 13px;\n  text-align: center;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n  background: #eceff1;\n  border: 1px solid #90a4ae\n}\n\n.apexcharts-xaxistooltip {\n  padding: 9px 10px;\n  transition: .15s ease all\n}\n\n.apexcharts-xaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, .7);\n  border: 1px solid rgba(0, 0, 0, .5);\n  color: #fff\n}\n\n.apexcharts-xaxistooltip:after,\n.apexcharts-xaxistooltip:before {\n  left: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-xaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-left: -6px\n}\n\n.apexcharts-xaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-left: -7px\n}\n\n.apexcharts-xaxistooltip-bottom:after,\n.apexcharts-xaxistooltip-bottom:before {\n  bottom: 100%\n}\n\n.apexcharts-xaxistooltip-top:after,\n.apexcharts-xaxistooltip-top:before {\n  top: 100%\n}\n\n.apexcharts-xaxistooltip-bottom:after {\n  border-bottom-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-bottom:before {\n  border-bottom-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:after,\n.apexcharts-xaxistooltip-bottom.apexcharts-theme-dark:before {\n  border-bottom-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-xaxistooltip-top:after {\n  border-top-color: #eceff1\n}\n\n.apexcharts-xaxistooltip-top:before {\n  border-top-color: #90a4ae\n}\n\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:after,\n.apexcharts-xaxistooltip-top.apexcharts-theme-dark:before {\n  border-top-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-xaxistooltip.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-yaxistooltip {\n  padding: 4px 10px\n}\n\n.apexcharts-yaxistooltip.apexcharts-theme-dark {\n  background: rgba(0, 0, 0, .7);\n  border: 1px solid rgba(0, 0, 0, .5);\n  color: #fff\n}\n\n.apexcharts-yaxistooltip:after,\n.apexcharts-yaxistooltip:before {\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none\n}\n\n.apexcharts-yaxistooltip:after {\n  border-color: transparent;\n  border-width: 6px;\n  margin-top: -6px\n}\n\n.apexcharts-yaxistooltip:before {\n  border-color: transparent;\n  border-width: 7px;\n  margin-top: -7px\n}\n\n.apexcharts-yaxistooltip-left:after,\n.apexcharts-yaxistooltip-left:before {\n  left: 100%\n}\n\n.apexcharts-yaxistooltip-right:after,\n.apexcharts-yaxistooltip-right:before {\n  right: 100%\n}\n\n.apexcharts-yaxistooltip-left:after {\n  border-left-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-left:before {\n  border-left-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:after,\n.apexcharts-yaxistooltip-left.apexcharts-theme-dark:before {\n  border-left-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-yaxistooltip-right:after {\n  border-right-color: #eceff1\n}\n\n.apexcharts-yaxistooltip-right:before {\n  border-right-color: #90a4ae\n}\n\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:after,\n.apexcharts-yaxistooltip-right.apexcharts-theme-dark:before {\n  border-right-color: rgba(0, 0, 0, .5)\n}\n\n.apexcharts-yaxistooltip.apexcharts-active {\n  opacity: 1\n}\n\n.apexcharts-yaxistooltip-hidden {\n  display: none\n}\n\n.apexcharts-xcrosshairs,\n.apexcharts-ycrosshairs {\n  pointer-events: none;\n  opacity: 0;\n  transition: .15s ease all\n}\n\n.apexcharts-xcrosshairs.apexcharts-active,\n.apexcharts-ycrosshairs.apexcharts-active {\n  opacity: 1;\n  transition: .15s ease all\n}\n\n.apexcharts-ycrosshairs-hidden {\n  opacity: 0\n}\n\n.apexcharts-selection-rect {\n  cursor: move\n}\n\n.svg_select_boundingRect,\n.svg_select_points_rot {\n  pointer-events: none;\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_boundingRect,\n.apexcharts-selection-rect+g .svg_select_points_rot {\n  opacity: 0;\n  visibility: hidden\n}\n\n.apexcharts-selection-rect+g .svg_select_points_l,\n.apexcharts-selection-rect+g .svg_select_points_r {\n  cursor: ew-resize;\n  opacity: 1;\n  visibility: visible\n}\n\n.svg_select_points {\n  fill: #efefef;\n  stroke: #333;\n  rx: 2\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-zoom {\n  cursor: crosshair\n}\n\n.apexcharts-svg.apexcharts-zoomable.hovering-pan {\n  cursor: move\n}\n\n.apexcharts-menu-icon,\n.apexcharts-pan-icon,\n.apexcharts-reset-icon,\n.apexcharts-selection-icon,\n.apexcharts-toolbar-custom-icon,\n.apexcharts-zoom-icon,\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  cursor: pointer;\n  width: 20px;\n  height: 20px;\n  line-height: 24px;\n  color: #6e8192;\n  text-align: center\n}\n\n.apexcharts-menu-icon svg,\n.apexcharts-reset-icon svg,\n.apexcharts-zoom-icon svg,\n.apexcharts-zoomin-icon svg,\n.apexcharts-zoomout-icon svg {\n  fill: #6e8192\n}\n\n.apexcharts-selection-icon svg {\n  fill: #444;\n  transform: scale(.76)\n}\n\n.apexcharts-theme-dark .apexcharts-menu-icon svg,\n.apexcharts-theme-dark .apexcharts-pan-icon svg,\n.apexcharts-theme-dark .apexcharts-reset-icon svg,\n.apexcharts-theme-dark .apexcharts-selection-icon svg,\n.apexcharts-theme-dark .apexcharts-toolbar-custom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoom-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomin-icon svg,\n.apexcharts-theme-dark .apexcharts-zoomout-icon svg {\n  fill: #f3f4f5\n}\n\n.apexcharts-canvas .apexcharts-reset-zoom-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-selection-icon.apexcharts-selected svg,\n.apexcharts-canvas .apexcharts-zoom-icon.apexcharts-selected svg {\n  fill: #008ffb\n}\n\n.apexcharts-theme-light .apexcharts-menu-icon:hover svg,\n.apexcharts-theme-light .apexcharts-reset-icon:hover svg,\n.apexcharts-theme-light .apexcharts-selection-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoom-icon:not(.apexcharts-selected):hover svg,\n.apexcharts-theme-light .apexcharts-zoomin-icon:hover svg,\n.apexcharts-theme-light .apexcharts-zoomout-icon:hover svg {\n  fill: #333\n}\n\n.apexcharts-menu-icon,\n.apexcharts-selection-icon {\n  position: relative\n}\n\n.apexcharts-reset-icon {\n  margin-left: 5px\n}\n\n.apexcharts-menu-icon,\n.apexcharts-reset-icon,\n.apexcharts-zoom-icon {\n  transform: scale(.85)\n}\n\n.apexcharts-zoomin-icon,\n.apexcharts-zoomout-icon {\n  transform: scale(.7)\n}\n\n.apexcharts-zoomout-icon {\n  margin-right: 3px\n}\n\n.apexcharts-pan-icon {\n  transform: scale(.62);\n  position: relative;\n  left: 1px;\n  top: 0\n}\n\n.apexcharts-pan-icon svg {\n  fill: #fff;\n  stroke: #6e8192;\n  stroke-width: 2\n}\n\n.apexcharts-pan-icon.apexcharts-selected svg {\n  stroke: #008ffb\n}\n\n.apexcharts-pan-icon:not(.apexcharts-selected):hover svg {\n  stroke: #333\n}\n\n.apexcharts-toolbar {\n  position: absolute;\n  z-index: 11;\n  max-width: 176px;\n  text-align: right;\n  border-radius: 3px;\n  padding: 0 6px 2px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center\n}\n\n.apexcharts-menu {\n  background: #fff;\n  position: absolute;\n  top: 100%;\n  border: 1px solid #ddd;\n  border-radius: 3px;\n  padding: 3px;\n  right: 10px;\n  opacity: 0;\n  min-width: 110px;\n  transition: .15s ease all;\n  pointer-events: none\n}\n\n.apexcharts-menu.apexcharts-menu-open {\n  opacity: 1;\n  pointer-events: all;\n  transition: .15s ease all\n}\n\n.apexcharts-menu-item {\n  padding: 6px 7px;\n  font-size: 12px;\n  cursor: pointer\n}\n\n.apexcharts-theme-light .apexcharts-menu-item:hover {\n  background: #eee\n}\n\n.apexcharts-theme-dark .apexcharts-menu {\n  background: rgba(0, 0, 0, .7);\n  color: #fff\n}\n\n@media screen and (min-width:768px) {\n  .apexcharts-canvas:hover .apexcharts-toolbar {\n    opacity: 1\n  }\n}\n\n.apexcharts-canvas .apexcharts-element-hidden,\n.apexcharts-datalabel.apexcharts-element-hidden,\n.apexcharts-hide .apexcharts-series-points {\n  opacity: 0;\n}\n\n.apexcharts-hidden-element-shown {\n  opacity: 1;\n  transition: 0.25s ease all;\n}\n\n.apexcharts-datalabel,\n.apexcharts-datalabel-label,\n.apexcharts-datalabel-value,\n.apexcharts-datalabels,\n.apexcharts-pie-label {\n  cursor: default;\n  pointer-events: none\n}\n\n.apexcharts-pie-label-delay {\n  opacity: 0;\n  animation-name: opaque;\n  animation-duration: .3s;\n  animation-fill-mode: forwards;\n  animation-timing-function: ease\n}\n\n.apexcharts-radialbar-label {\n  cursor: pointer;\n}\n\n.apexcharts-annotation-rect,\n.apexcharts-area-series .apexcharts-area,\n.apexcharts-area-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-gridline,\n.apexcharts-line,\n.apexcharts-line-series .apexcharts-series-markers .apexcharts-marker.no-pointer-events,\n.apexcharts-point-annotation-label,\n.apexcharts-radar-series path:not(.apexcharts-marker),\n.apexcharts-radar-series polygon,\n.apexcharts-toolbar svg,\n.apexcharts-tooltip .apexcharts-marker,\n.apexcharts-xaxis-annotation-label,\n.apexcharts-yaxis-annotation-label,\n.apexcharts-zoom-rect {\n  pointer-events: none\n}\n\n.apexcharts-tooltip-active .apexcharts-marker {\n  transition: .15s ease all\n}\n\n.resize-triggers {\n  animation: 1ms resizeanim;\n  visibility: hidden;\n  opacity: 0;\n  height: 100%;\n  width: 100%;\n  overflow: hidden\n}\n\n.contract-trigger:before,\n.resize-triggers,\n.resize-triggers>div {\n  content: " ";\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0\n}\n\n.resize-triggers>div {\n  height: 100%;\n  width: 100%;\n  background: #eee;\n  overflow: auto\n}\n\n.contract-trigger:before {\n  overflow: hidden;\n  width: 200%;\n  height: 200%\n}\n\n.apexcharts-bar-goals-markers {\n  pointer-events: none\n}\n\n.apexcharts-bar-shadows {\n  pointer-events: none\n}\n\n.apexcharts-rangebar-goals-markers {\n  pointer-events: none\n}\n';var p=(null===(d=t.opts.chart)||void 0===d?void 0:d.nonce)||t.w.config.chart.nonce;p&&h.setAttribute("nonce",p),o?n.prepend(h):r.head.appendChild(h)}var g=t.create(t.w.config.series,{});if(!g)return e(t);t.mount(g).then(function(){"function"==typeof t.w.config.chart.events.mounted&&t.w.config.chart.events.mounted(t,t.w),t.events.fireEvent("mounted",[t,t.w]),e(g)}).catch(function(f){i(f)})}else i(new Error("Element not found"))})}},{key:"create",value:function(t,e){var i=this,a=this.w;new ce(this).initModules();var n=this.w.globals;if(n.noData=!1,n.animationEnded=!1,this.responsive.checkResponsiveConfig(e),a.config.xaxis.convertedCatToNumeric&&new Bt(a.config).convertCatToNumericXaxis(a.config,this.ctx),null===this.el||(this.core.setupElements(),"treemap"===a.config.chart.type&&(a.config.grid.show=!1,a.config.yaxis[0].show=!1),0===n.svgWidth))return n.animationEnded=!0,null;var o=t;t.forEach(function(f,x){f.hidden&&(o=i.legend.legendHelpers.getSeriesAfterCollapsing({realIndex:x}))});var r=Lt.checkComboSeries(o,a.config.chart.type);n.comboCharts=r.comboCharts,n.comboBarCount=r.comboBarCount;var h=o.every(function(f){return f.data&&0===f.data.length});(0===o.length||h&&n.collapsedSeries.length<1)&&this.series.handleNoData(),this.events.setupEventHandlers(),this.data.parseData(o),this.theme.init(),new jt(this).setGlobalMarkerSize(),this.formatters.setLabelFormatters(),this.titleSubtitle.draw(),n.noData&&n.collapsedSeries.length!==n.series.length&&!a.config.legend.showForSingleSeries||this.legend.init(),this.series.hasAllSeriesEqualX(),n.axisCharts&&(this.core.coreCalculations(),"category"!==a.config.xaxis.type&&this.formatters.setLabelFormatters(),this.ctx.toolbar.minX=a.globals.minX,this.ctx.toolbar.maxX=a.globals.maxX),this.formatters.heatmapLabelFormatters(),new Lt(this).getLargestMarkerSize(),this.dimensions.plotCoords();var d=this.core.xySettings();this.grid.createGridMask();var p=this.core.plotChartType(o,d),g=new re(this);return g.bringForward(),a.config.dataLabels.background.enabled&&g.dataLabelsBackground(),this.core.shiftGraphPosition(),{elGraph:p,xyRatios:d,dimensions:{plot:{left:a.globals.translateX,top:a.globals.translateY,width:a.globals.gridWidth,height:a.globals.gridHeight}}}}},{key:"mount",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=this,a=i.w;return new Promise(function(n,o){if(null===i.el)return o(new Error("Not enough data to display or target element not found"));(null===e||a.globals.allSeriesCollapsed)&&i.series.handleNoData(),i.grid=new si(i);var r,h,d=i.grid.drawGrid();if(i.annotations=new at(i),i.annotations.drawImageAnnos(),i.annotations.drawTextAnnos(),"back"===a.config.grid.position&&(d&&a.globals.dom.elGraphical.add(d.el),null!=d&&null!==(r=d.elGridBorders)&&void 0!==r&&r.node&&a.globals.dom.elGraphical.add(d.elGridBorders)),Array.isArray(e.elGraph))for(var p=0;p<e.elGraph.length;p++)a.globals.dom.elGraphical.add(e.elGraph[p]);else a.globals.dom.elGraphical.add(e.elGraph);"front"===a.config.grid.position&&(d&&a.globals.dom.elGraphical.add(d.el),null!=d&&null!==(h=d.elGridBorders)&&void 0!==h&&h.node&&a.globals.dom.elGraphical.add(d.elGridBorders)),"front"===a.config.xaxis.crosshairs.position&&i.crosshairs.drawXCrosshairs(),"front"===a.config.yaxis[0].crosshairs.position&&i.crosshairs.drawYCrosshairs(),"treemap"!==a.config.chart.type&&i.axes.drawAxis(a.config.chart.type,d);var g=new _e(t.ctx,d),f=new pe(t.ctx,d);if(null!==d&&(g.xAxisLabelCorrections(d.xAxisTickWidth),f.setYAxisTextAlignments(),a.config.yaxis.map(function(y,b){-1===a.globals.ignoreYAxisIndexes.indexOf(b)&&f.yAxisTitleRotate(b,y.opposite)})),i.annotations.drawAxesAnnotations(),!a.globals.noData){if(a.config.tooltip.enabled&&!a.globals.noData&&i.w.globals.tooltip.drawTooltip(e.xyRatios),a.globals.axisCharts&&(a.globals.isXNumeric||a.config.xaxis.convertedCatToNumeric||a.globals.isRangeBar))(a.config.chart.zoom.enabled||a.config.chart.selection&&a.config.chart.selection.enabled||a.config.chart.pan&&a.config.chart.pan.enabled)&&i.zoomPanSelection.init({xyRatios:e.xyRatios});else{var x=a.config.chart.toolbar.tools;["zoom","zoomin","zoomout","selection","pan","reset"].forEach(function(y){x[y]=!1})}a.config.chart.toolbar.show&&!a.globals.allSeriesCollapsed&&i.toolbar.createToolbar()}a.globals.memory.methodsToExec.length>0&&a.globals.memory.methodsToExec.forEach(function(y){y.method(y.params,!1,y.context)}),a.globals.axisCharts||a.globals.noData||i.core.resizeNonAxisCharts(),n(i)})}},{key:"destroy",value:function(){var t,e;window.removeEventListener("resize",this.windowResizeHandler),(e=ae.get(t=this.parentResizeHandler))&&(e.disconnect(),ae.delete(t));var i=this.w.config.chart.id;i&&Apex._chartInstances.forEach(function(a,n){a.id===R.escapeString(i)&&Apex._chartInstances.splice(n,1)}),new zt(this.ctx).clear({isUpdating:!1})}},{key:"updateOptions",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=this.w;return r.globals.selection=void 0,t.series&&(this.series.resetSeries(!1,!0,!1),t.series.length&&t.series[0].data&&(t.series=t.series.map(function(h,d){return e.updateHelpers._extendSeries(h,d)})),this.updateHelpers.revertDefaultAxisMinMax()),t.xaxis&&(t=this.updateHelpers.forceXAxisUpdate(t)),t.yaxis&&(t=this.updateHelpers.forceYAxisUpdate(t)),r.globals.collapsedSeriesIndices.length>0&&this.series.clearPreviousPaths(),t.theme&&(t=this.theme.updateThemeOptions(t)),this.updateHelpers._updateOptions(t,i,a,n,o)}},{key:"updateSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(t,e,i)}},{key:"appendSeries",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=this.w.config.series.slice();return a.push(t),this.series.resetSeries(!1),this.updateHelpers.revertDefaultAxisMinMax(),this.updateHelpers._updateSeries(a,e,i)}},{key:"appendData",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this;i.w.globals.dataChanged=!0,i.series.getPreviousPaths();for(var a=i.w.config.series.slice(),n=0;n<a.length;n++)if(null!=t[n])for(var o=0;o<t[n].data.length;o++)a[n].data.push(t[n].data[o]);return i.w.config.series=a,e&&(i.w.globals.initialSeries=R.clone(i.w.config.series)),this.update()}},{key:"update",value:function(t){var e=this;return new Promise(function(i,a){new zt(e.ctx).clear({isUpdating:!0});var n=e.create(e.w.config.series,t);if(!n)return i(e);e.mount(n).then(function(){"function"==typeof e.w.config.chart.events.updated&&e.w.config.chart.events.updated(e,e.w),e.events.fireEvent("updated",[e,e.w]),e.w.globals.isDirty=!0,i(e)}).catch(function(o){a(o)})})}},{key:"getSyncedCharts",value:function(){var t=this.getGroupedCharts(),e=[this];return t.length&&(e=[],t.forEach(function(i){e.push(i)})),e}},{key:"getGroupedCharts",value:function(){var t=this;return Apex._chartInstances.filter(function(e){if(e.group)return!0}).map(function(e){return t.w.config.chart.group===e.group?e.chart:t})}},{key:"toggleSeries",value:function(t){return this.series.toggleSeries(t)}},{key:"highlightSeriesOnLegendHover",value:function(t,e){return this.series.toggleSeriesOnHover(t,e)}},{key:"showSeries",value:function(t){this.series.showSeries(t)}},{key:"hideSeries",value:function(t){this.series.hideSeries(t)}},{key:"highlightSeries",value:function(t){this.series.highlightSeries(t)}},{key:"isSeriesHidden",value:function(t){this.series.isSeriesHidden(t)}},{key:"resetSeries",value:function(){this.series.resetSeries(!(arguments.length>0&&void 0!==arguments[0])||arguments[0],!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"addEventListener",value:function(t,e){this.events.addEventListener(t,e)}},{key:"removeEventListener",value:function(t,e){this.events.removeEventListener(t,e)}},{key:"addXaxisAnnotation",value:function(t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=this;i&&(a=i),a.annotations.addXaxisAnnotationExternal(t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a)}},{key:"addYaxisAnnotation",value:function(t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=this;i&&(a=i),a.annotations.addYaxisAnnotationExternal(t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a)}},{key:"addPointAnnotation",value:function(t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=this;i&&(a=i),a.annotations.addPointAnnotationExternal(t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a)}},{key:"clearAnnotations",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=this;t&&(e=t),e.annotations.clearAnnotations(e)}},{key:"removeAnnotation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=this;e&&(i=e),i.annotations.removeAnnotation(i,t)}},{key:"getChartArea",value:function(){return this.w.globals.dom.baseEl.querySelector(".apexcharts-inner")}},{key:"getSeriesTotalXRange",value:function(t,e){return this.coreUtils.getSeriesTotalsXRange(t,e)}},{key:"getHighestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new ke(this.ctx).getMinYMaxY(t).highestY}},{key:"getLowestValueInSeries",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new ke(this.ctx).getMinYMaxY(t).lowestY}},{key:"getSeriesTotal",value:function(){return this.w.globals.seriesTotals}},{key:"toggleDataPointSelection",value:function(t,e){return this.updateHelpers.toggleDataPointSelection(t,e)}},{key:"zoomX",value:function(t,e){this.ctx.toolbar.zoomUpdateOptions(t,e)}},{key:"setLocale",value:function(t){this.localization.setCurrentLocaleValues(t)}},{key:"dataURI",value:function(t){return new He(this.ctx).dataURI(t)}},{key:"exportToCSV",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new He(this.ctx).exportToCSV(t)}},{key:"paper",value:function(){return this.w.globals.dom.Paper}},{key:"_parentResizeCallback",value:function(){this.w.globals.animationEnded&&this.w.config.chart.redrawOnParentResize&&this._windowResize()}},{key:"_windowResize",value:function(){var t=this;clearTimeout(this.w.globals.resizeTimer),this.w.globals.resizeTimer=window.setTimeout(function(){t.w.globals.resized=!0,t.w.globals.dataChanged=!1,t.ctx.update()},150)}},{key:"_windowResizeHandler",value:function(){var t=this.w.config.chart.redrawOnWindowResize;"function"==typeof t&&(t=t()),t&&this._windowResize()}}],[{key:"getChartByID",value:function(t){var e=R.escapeString(t);if(Apex._chartInstances){var i=Apex._chartInstances.filter(function(a){return a.id===e})[0];return i&&i.chart}}},{key:"initOnLoad",value:function(){for(var t=document.querySelectorAll("[data-apexcharts]"),e=0;e<t.length;e++)new A(t[e],JSON.parse(t[e].getAttribute("data-options"))).render()}},{key:"exec",value:function(t,e){var i=this.getChartByID(t);if(i){i.w.globals.isExecCalled=!0;var a=null;if(-1!==i.publicMethods.indexOf(e)){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];a=i[e].apply(i,o)}return a}}},{key:"merge",value:function(t,e){return R.extend(t,e)}}]),A}();return fi}),function(V,ht){"object"==typeof exports&&typeof module<"u"?ht(exports):"function"==typeof define&&define.amd?define(["exports"],ht):ht((V=typeof globalThis<"u"?globalThis:V||self).leaflet={})}(this,function(V){"use strict";function ht(s){for(var l,u,v=1,_=arguments.length;v<_;v++)for(l in u=arguments[v])s[l]=u[l];return s}var q=Object.create||function(s){return ei.prototype=s,new ei};function ei(){}function W(s,l){var u,v=Array.prototype.slice;return s.bind?s.bind.apply(s,v.call(arguments,1)):(u=v.call(arguments,2),function(){return s.apply(l,u.length?u.concat(v.call(arguments)):arguments)})}var ze=0;function ct(s){return"_leaflet_id"in s||(s._leaflet_id=++ze),s._leaflet_id}function Ie(s,l,u){var v,_,z=function(){v=!1,_&&(B.apply(u,_),_=!1)},B=function(){v?_=arguments:(s.apply(u,arguments),setTimeout(z,l),v=!0)};return B}function se(s,_,u){var v=_[1],z=v-(_=_[0]);return s===v&&u?s:((s-_)%z+z)%z+_}function kt(){return!1}function Kt(s,l){return!1===l?s:(l=Math.pow(10,void 0===l?6:l),Math.round(s*l)/l)}function Ne(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function Z(s){return Ne(s).split(/\s+/)}function _t(s,l){for(var u in Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?q(s.options):{}),l)s.options[u]=l[u];return s.options}function ii(s,l,u){var v,_=[];for(v in s)_.push(encodeURIComponent(u?v.toUpperCase():v)+"="+encodeURIComponent(s[v]));return(l&&-1!==l.indexOf("?")?"&":"?")+_.join("&")}var Rt=/\{ *([\w_ -]+) *\}/g;function ai(s,l){return s.replace(Rt,function(u,v){if(void 0===(v=l[v]))throw new Error("No value provided for variable "+u);return"function"==typeof v?v(l):v})}var vt=Array.isArray||function(s){return"[object Array]"===Object.prototype.toString.call(s)};function Ee(s,l){for(var u=0;u<s.length;u++)if(s[u]===l)return u;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ne(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var Dt=0;function H(s){var l=+new Date,u=Math.max(0,16-(l-Dt));return Dt=l+u,window.setTimeout(s,u)}var Lt=window.requestAnimationFrame||ne("RequestAnimationFrame")||H,Oe=window.cancelAnimationFrame||ne("CancelAnimationFrame")||ne("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function Wt(s,l,u){if(!u||Lt!==H)return Lt.call(window,W(s,l));s.call(l)}function bt(s){s&&Oe.call(window,s)}var Re={__proto__:null,extend:ht,create:q,bind:W,get lastId(){return ze},stamp:ct,throttle:Ie,wrapNum:se,falseFn:kt,formatNum:Kt,trim:Ne,splitWords:Z,setOptions:_t,getParamString:ii,template:ai,isArray:vt,indexOf:Ee,emptyImageUrl:R,requestFn:Lt,cancelFn:Oe,requestAnimFrame:Wt,cancelAnimFrame:bt};function Ft(){}Ft.extend=function(s){function l(){_t(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var u,v=l.__super__=this.prototype,_=q(v);for(u in(_.constructor=l).prototype=_,this)Object.prototype.hasOwnProperty.call(this,u)&&"prototype"!==u&&"__super__"!==u&&(l[u]=this[u]);if(s.statics&&ht(l,s.statics),s.includes){var z=s.includes;if(typeof L<"u"&&L&&L.Mixin){z=vt(z)?z:[z];for(var B=0;B<z.length;B++)z[B]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}ht.apply(null,[_].concat(s.includes))}return ht(_,s),delete _.statics,delete _.includes,_.options&&(_.options=v.options?q(v.options):{},ht(_.options,s.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){v.callInitHooks&&v.callInitHooks.call(this),this._initHooksCalled=!0;for(var O=0,N=_._initHooks.length;O<N;O++)_._initHooks[O].call(this)}},l},Ft.include=function(s){var l=this.prototype.options;return ht(this.prototype,s),s.options&&(this.prototype.options=l,this.mergeOptions(s.options)),this},Ft.mergeOptions=function(s){return ht(this.prototype.options,s),this},Ft.addInitHook=function(s){var l=Array.prototype.slice.call(arguments,1),u="function"==typeof s?s:function(){this[s].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};var Zt={on:function(s,l,u){if("object"==typeof s)for(var v in s)this._on(v,s[v],l);else for(var _=0,z=(s=Z(s)).length;_<z;_++)this._on(s[_],l,u);return this},off:function(s,l,u){if(arguments.length)if("object"==typeof s)for(var v in s)this._off(v,s[v],l);else{s=Z(s);for(var _=1===arguments.length,z=0,B=s.length;z<B;z++)_?this._off(s[z]):this._off(s[z],l,u)}else delete this._events;return this},_on:function(s,l,u,v){"function"!=typeof l?console.warn("wrong listener type: "+typeof l):!1===this._listens(s,l,u)&&(l={fn:l,ctx:u=u===this?void 0:u},v&&(l.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(l))},_off:function(s,l,u){var v,_,z;if(this._events&&(v=this._events[s]))if(1===arguments.length){if(this._firingCount)for(_=0,z=v.length;_<z;_++)v[_].fn=kt;delete this._events[s]}else"function"!=typeof l?console.warn("wrong listener type: "+typeof l):!1!==(l=this._listens(s,l,u))&&(u=v[l],this._firingCount&&(u.fn=kt,this._events[s]=v=v.slice()),v.splice(l,1))},fire:function(s,l,u){if(this.listens(s,u)){var v=ht({},l,{type:s,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var _=this._events[s];if(_){this._firingCount=this._firingCount+1||1;for(var z=0,B=_.length;z<B;z++){var O=_[z],N=O.fn;O.once&&this.off(s,N,O.ctx),N.call(O.ctx||this,v)}this._firingCount--}}u&&this._propagateEvent(v)}return this},listens:function(s,l,u,v){"string"!=typeof s&&console.warn('"string" type argument expected');var _=l,z=("function"!=typeof l&&(v=!!l,u=_=void 0),this._events&&this._events[s]);if(z&&z.length&&!1!==this._listens(s,_,u))return!0;if(v)for(var B in this._eventParents)if(this._eventParents[B].listens(s,l,u,v))return!0;return!1},_listens:function(s,l,u){if(this._events){var v=this._events[s]||[];if(!l)return!!v.length;u===this&&(u=void 0);for(var _=0,z=v.length;_<z;_++)if(v[_].fn===l&&v[_].ctx===u)return _}return!1},once:function(s,l,u){if("object"==typeof s)for(var v in s)this._on(v,s[v],l,!0);else for(var _=0,z=(s=Z(s)).length;_<z;_++)this._on(s[_],l,u,!0);return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[ct(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[ct(s)],this},_propagateEvent:function(s){for(var l in this._eventParents)this._eventParents[l].fire(s.type,ht({layer:s.target,propagatedFrom:s.target},s),!0)}},Be=(Zt.addEventListener=Zt.on,Zt.removeEventListener=Zt.clearAllEventListeners=Zt.off,Zt.addOneTimeEventListener=Zt.once,Zt.fireEvent=Zt.fire,Zt.hasEventListeners=Zt.listens,Ft.extend(Zt));function st(s,l,u){this.x=u?Math.round(s):s,this.y=u?Math.round(l):l}var oe=Math.trunc||function(s){return 0<s?Math.floor(s):Math.ceil(s)};function at(s,l,u){return s instanceof st?s:vt(s)?new st(s[0],s[1]):null==s?s:"object"==typeof s&&"x"in s&&"y"in s?new st(s.x,s.y):new st(s,l,u)}function At(s,l){if(s)for(var u=l?[s,l]:s,v=0,_=u.length;v<_;v++)this.extend(u[v])}function Yt(s,l){return!s||s instanceof At?s:new At(s,l)}function Bt(s,l){if(s)for(var u=l?[s,l]:s,v=0,_=u.length;v<_;v++)this.extend(u[v])}function Ct(s,l){return s instanceof Bt?s:new Bt(s,l)}function mt(s,l,u){if(isNaN(s)||isNaN(l))throw new Error("Invalid LatLng object: ("+s+", "+l+")");this.lat=+s,this.lng=+l,void 0!==u&&(this.alt=+u)}function ut(s,l,u){return s instanceof mt?s:vt(s)&&"object"!=typeof s[0]?3===s.length?new mt(s[0],s[1],s[2]):2===s.length?new mt(s[0],s[1]):null:null==s?s:"object"==typeof s&&"lat"in s?new mt(s.lat,"lng"in s?s.lng:s.lon,s.alt):void 0===l?null:new mt(s,l,u)}st.prototype={clone:function(){return new st(this.x,this.y)},add:function(s){return this.clone()._add(at(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(at(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new st(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new st(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=oe(this.x),this.y=oe(this.y),this},distanceTo:function(u){var l=(u=at(u)).x-this.x;return u=u.y-this.y,Math.sqrt(l*l+u*u)},equals:function(s){return(s=at(s)).x===this.x&&s.y===this.y},contains:function(s){return s=at(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+Kt(this.x)+", "+Kt(this.y)+")"}},At.prototype={extend:function(s){var l,u;if(s){if(s instanceof st||"number"==typeof s[0]||"x"in s)l=u=at(s);else if(l=(s=Yt(s)).min,u=s.max,!l||!u)return this;this.min||this.max?(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)):(this.min=l.clone(),this.max=u.clone())}return this},getCenter:function(s){return at((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return at(this.min.x,this.max.y)},getTopRight:function(){return at(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var l,u;return(s=("number"==typeof s[0]||s instanceof st?at:Yt)(s))instanceof At?(l=s.min,u=s.max):l=u=s,l.x>=this.min.x&&u.x<=this.max.x&&l.y>=this.min.y&&u.y<=this.max.y},intersects:function(z){z=Yt(z);var l=this.min,u=this.max,v=z.min,_=(z=z.max).x>=l.x&&v.x<=u.x;return z=z.y>=l.y&&v.y<=u.y,_&&z},overlaps:function(z){z=Yt(z);var l=this.min,u=this.max,v=z.min,_=(z=z.max).x>l.x&&v.x<u.x;return z=z.y>l.y&&v.y<u.y,_&&z},isValid:function(){return!(!this.min||!this.max)},pad:function(_){var l=this.min,u=this.max,v=Math.abs(l.x-u.x)*_;return _=Math.abs(l.y-u.y)*_,Yt(at(l.x-v,l.y-_),at(u.x+v,u.y+_))},equals:function(s){return!!s&&(s=Yt(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight()))}},Bt.prototype={extend:function(s){var l,u,v=this._southWest,_=this._northEast;if(s instanceof mt)u=l=s;else{if(!(s instanceof Bt))return s?this.extend(ut(s)||Ct(s)):this;if(u=s._northEast,!(l=s._southWest)||!u)return this}return v||_?(v.lat=Math.min(l.lat,v.lat),v.lng=Math.min(l.lng,v.lng),_.lat=Math.max(u.lat,_.lat),_.lng=Math.max(u.lng,_.lng)):(this._southWest=new mt(l.lat,l.lng),this._northEast=new mt(u.lat,u.lng)),this},pad:function(_){var l=this._southWest,u=this._northEast,v=Math.abs(l.lat-u.lat)*_;return _=Math.abs(l.lng-u.lng)*_,new Bt(new mt(l.lat-v,l.lng-_),new mt(u.lat+v,u.lng+_))},getCenter:function(){return new mt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new mt(this.getNorth(),this.getWest())},getSouthEast:function(){return new mt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){s=("number"==typeof s[0]||s instanceof mt||"lat"in s?ut:Ct)(s);var l,u,v=this._southWest,_=this._northEast;return s instanceof Bt?(l=s.getSouthWest(),u=s.getNorthEast()):l=u=s,l.lat>=v.lat&&u.lat<=_.lat&&l.lng>=v.lng&&u.lng<=_.lng},intersects:function(z){z=Ct(z);var l=this._southWest,u=this._northEast,v=z.getSouthWest(),_=(z=z.getNorthEast()).lat>=l.lat&&v.lat<=u.lat;return z=z.lng>=l.lng&&v.lng<=u.lng,_&&z},overlaps:function(z){z=Ct(z);var l=this._southWest,u=this._northEast,v=z.getSouthWest(),_=(z=z.getNorthEast()).lat>l.lat&&v.lat<u.lat;return z=z.lng>l.lng&&v.lng<u.lng,_&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,l){return!!s&&(s=Ct(s),this._southWest.equals(s.getSouthWest(),l)&&this._northEast.equals(s.getNorthEast(),l))},isValid:function(){return!(!this._southWest||!this._northEast)}};var Et={latLngToPoint:function(s,l){return s=this.projection.project(s),l=this.scale(l),this.transformation._transform(s,l)},pointToLatLng:function(s,l){return l=this.scale(l),s=this.transformation.untransform(s,l),this.projection.unproject(s)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){var l;return this.infinite?null:(l=this.projection.bounds,s=this.scale(s),new At(this.transformation.transform(l.min,s),this.transformation.transform(l.max,s)))},infinite:!(mt.prototype={equals:function(s,l){return!!s&&(s=ut(s),Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng))<=(void 0===l?1e-9:l))},toString:function(s){return"LatLng("+Kt(this.lat,s)+", "+Kt(this.lng,s)+")"},distanceTo:function(s){return jt.distance(this,ut(s))},wrap:function(){return jt.wrapLatLng(this)},toBounds:function(l){var u=(l=180*l/40075017)/Math.cos(Math.PI/180*this.lat);return Ct([this.lat-l,this.lng-u],[this.lat+l,this.lng+u])},clone:function(){return new mt(this.lat,this.lng,this.alt)}}),wrapLatLng:function(s){var l=this.wrapLng?se(s.lng,this.wrapLng,!0):s.lng;return new mt(this.wrapLat?se(s.lat,this.wrapLat,!0):s.lat,l,s.alt)},wrapLatLngBounds:function(s){var v=s.getCenter(),l=this.wrapLatLng(v),u=v.lat-l.lat;return v=v.lng-l.lng,0==u&&0==v?s:(l=s.getSouthWest(),s=s.getNorthEast(),new Bt(new mt(l.lat-u,l.lng-v),new mt(s.lat-u,s.lng-v)))}},jt=ht({},Et,{wrapLng:[-180,180],R:6371e3,distance:function(B,z){var O=Math.PI/180,u=B.lat*O,v=z.lat*O,_=Math.sin((z.lat-B.lat)*O/2);return z=Math.sin((z.lng-B.lng)*O/2),B=_*_+Math.cos(u)*Math.cos(v)*z*z,O=2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B)),this.R*O}}),Jt={R:Jt=6378137,MAX_LATITUDE:85.0511287798,project:function(s){var l=Math.PI/180,u=this.MAX_LATITUDE;return u=Math.max(Math.min(u,s.lat),-u),u=Math.sin(u*l),new st(this.R*s.lng*l,this.R*Math.log((1+u)/(1-u))/2)},unproject:function(s){var l=180/Math.PI;return new mt((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*l,s.x*l/this.R)},bounds:new At([-(Jt*=Math.PI),-Jt],[Jt,Jt])};function re(s,l,u,v){vt(s)?(this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3]):(this._a=s,this._b=l,this._c=u,this._d=v)}function Nt(s,l,u,v){return new re(s,l,u,v)}re.prototype={transform:function(s,l){return this._transform(s.clone(),l)},_transform:function(s,l){return s.x=(l=l||1)*(this._a*s.x+this._b),s.y=l*(this._c*s.y+this._d),s},untransform:function(s,l){return new st((s.x/(l=l||1)-this._b)/this._a,(s.y/l-this._d)/this._c)}};var ue=ht({},jt,{code:"EPSG:3857",projection:Jt,transformation:Nt(ue=.5/(Math.PI*Jt.R),.5,-ue,.5)}),He=ht({},ue,{code:"EPSG:900913"});function _e(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function si(s,l){for(var u,v,_,z,B="",O=0,N=s.length;O<N;O++){for(u=0,v=(_=s[O]).length;u<v;u++)B+=(u?"L":"M")+(z=_[u]).x+" "+z.y;B+=l?tt.svg?"z":"x":""}return B||"M0 0"}var we=document.documentElement.style,ge="ActiveXObject"in window,T=ge&&!document.addEventListener,G="msLaunchUri"in navigator&&!("documentMode"in document),$=ie("webkit"),yt=ie("android"),Xt=ie("android 2")||ie("android 3"),Ht=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),me=(Ht=yt&&ie("Google")&&Ht<537&&!("AudioNode"in window),!!window.opera),Li=!G&&ie("chrome"),ke=ie("gecko")&&!$&&!me&&!ge,Qi=!Li&&ie("safari"),Pi=ie("phantom"),$t="OTransition"in we,pe=0===navigator.platform.indexOf("Win"),Ri=ge&&"transition"in we,bi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Xt,Yi=(we="MozPerspective"in we,!window.L_DISABLE_3D&&(Ri||bi||we)&&!$t&&!Pi),Ni=(Te=typeof orientation<"u"||ie("mobile"))&&$,Hi=Te&&bi,wi=!window.PointerEvent&&window.MSPointerEvent,_i=!(!window.PointerEvent&&!wi),ki="ontouchstart"in window||!!window.TouchEvent,Gi=!window.L_NO_TOUCH&&(ki||_i),Vi=Te&&me,ni=Te&&ke,Zi=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),ji=function(){var s=!1;try{var l=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",kt,l),window.removeEventListener("testPassiveEventSupport",kt,l)}catch{}return s}(),Ui=!!document.createElement("canvas").getContext,oi=!(!document.createElementNS||!_e("svg").createSVGRect),We=!!oi&&((We=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(We.firstChild&&We.firstChild.namespaceURI));function ie(s){return 0<=navigator.userAgent.toLowerCase().indexOf(s)}var tt={ie:ge,ielt9:T,edge:G,webkit:$,android:yt,android23:Xt,androidStock:Ht,opera:me,chrome:Li,gecko:ke,safari:Qi,phantom:Pi,opera12:$t,win:pe,ie3d:Ri,webkit3d:bi,gecko3d:we,any3d:Yi,mobile:Te,mobileWebkit:Ni,mobileWebkit3d:Hi,msPointer:wi,pointer:_i,touch:Gi,touchNative:ki,mobileOpera:Vi,mobileGecko:ni,retina:Zi,passiveEvents:ji,canvas:Ui,svg:oi,vml:!oi&&function(){try{var s=document.createElement("div"),l=(s.innerHTML='<v:shape adj="1"/>',s.firstChild);return l.style.behavior="url(#default#VML)",l&&"object"==typeof l.adj}catch{return!1}}(),inlineSvg:We,mac:0===navigator.platform.indexOf("Mac"),linux:0===navigator.platform.indexOf("Linux")},Xe=tt.msPointer?"MSPointerDown":"pointerdown",Ai=tt.msPointer?"MSPointerMove":"pointermove",ri=tt.msPointer?"MSPointerUp":"pointerup",li=tt.msPointer?"MSPointerCancel":"pointercancel",hi={touchstart:Xe,touchmove:Ai,touchend:ri,touchcancel:li},ci={touchstart:function(s,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&b(l),Ge(s,l)},touchmove:Ge,touchend:Ge,touchcancel:Ge},Ae={},di=!1;function $i(s){Ae[s.pointerId]=s}function Ki(s){Ae[s.pointerId]&&(Ae[s.pointerId]=s)}function ui(s){delete Ae[s.pointerId]}function Ge(s,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){for(var u in l.touches=[],Ae)l.touches.push(Ae[u]);l.changedTouches=[l],s(l)}}var Ve,le,Ce,Ze,De,je,Ji=200,gi=qe(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Fe=qe(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Si="webkitTransition"===Fe||"OTransition"===Fe?Fe+"End":"transitionend";function Ci(s){return"string"==typeof s?document.getElementById(s):s}function Ye(s,l){var u=s.style[l]||s.currentStyle&&s.currentStyle[l];return"auto"===(u=u&&"auto"!==u||!document.defaultView?u:(s=document.defaultView.getComputedStyle(s,null))?s[l]:null)?null:u}function pt(s,l,u){return(s=document.createElement(s)).className=l||"",u&&u.appendChild(s),s}function Pt(s){var l=s.parentNode;l&&l.removeChild(s)}function Le(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function he(s){var l=s.parentNode;l&&l.lastChild!==s&&l.appendChild(s)}function Gt(s){var l=s.parentNode;l&&l.firstChild!==s&&l.insertBefore(s,l.firstChild)}function fe(s,l){return void 0!==s.classList?s.classList.contains(l):0<(s=Ue(s)).length&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(s)}function nt(s,l){var u;if(void 0!==s.classList)for(var v=Z(l),_=0,z=v.length;_<z;_++)s.classList.add(v[_]);else fe(s,l)||pi(s,((u=Ue(s))?u+" ":"")+l)}function Mt(s,l){void 0!==s.classList?s.classList.remove(l):pi(s,Ne((" "+Ue(s)+" ").replace(" "+l+" "," ")))}function pi(s,l){void 0===s.className.baseVal?s.className=l:s.className.baseVal=l}function Ue(s){return void 0===(s=s.correspondingElement?s.correspondingElement:s).className.baseVal?s.className:s.className.baseVal}function qt(s,l){if("opacity"in s.style)s.style.opacity=l;else if("filter"in s.style){var u=!1,v="DXImageTransform.Microsoft.Alpha";try{u=s.filters.item(v)}catch{if(1===l)return}l=Math.round(100*l),u?(u.Enabled=100!==l,u.Opacity=l):s.style.filter+=" progid:"+v+"(opacity="+l+")"}}function qe(s){for(var l=document.documentElement.style,u=0;u<s.length;u++)if(s[u]in l)return s[u];return!1}function ce(s,l,u){l=l||new st(0,0),s.style[gi]=(tt.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(u?" scale("+u+")":"")}function zt(s,l){s._leaflet_pos=l,tt.any3d?ce(s,l):(s.style.left=l.x+"px",s.style.top=l.y+"px")}function ae(s){return s._leaflet_pos||new st(0,0)}function fi(){n(window,"dragstart",b)}function A(){r(window,"dragstart",b)}function t(s){for(;-1===s.tabIndex;)s=s.parentNode;s.style&&(e(),je=(De=s).style.outlineStyle,s.style.outlineStyle="none",n(window,"keydown",e))}function e(){De&&(De.style.outlineStyle=je,je=De=void 0,r(window,"keydown",e))}function i(s){for(;!((s=s.parentNode).offsetWidth&&s.offsetHeight||s===document.body););return s}function a(s){var l=s.getBoundingClientRect();return{x:l.width/s.offsetWidth||1,y:l.height/s.offsetHeight||1,boundingClientRect:l}}function n(s,l,u,v){if(l&&"object"==typeof l)for(var _ in l)p(s,_,l[_],u);else for(var z=0,B=(l=Z(l)).length;z<B;z++)p(s,l[z],u,v);return this}Ze="onselectstart"in document?(Ce=function(){n(window,"selectstart",b)},function(){r(window,"selectstart",b)}):(le=qe(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),Ce=function(){var s;le&&(s=document.documentElement.style,Ve=s[le],s[le]="none")},function(){le&&(document.documentElement.style[le]=Ve,Ve=void 0)}),ge={__proto__:null,TRANSFORM:gi,TRANSITION:Fe,TRANSITION_END:Si,get:Ci,getStyle:Ye,create:pt,remove:Pt,empty:Le,toFront:he,toBack:Gt,hasClass:fe,addClass:nt,removeClass:Mt,setClass:pi,getClass:Ue,setOpacity:qt,testProp:qe,setTransform:ce,setPosition:zt,getPosition:ae,get disableTextSelection(){return Ce},get enableTextSelection(){return Ze},disableImageDrag:fi,enableImageDrag:A,preventOutline:t,restoreOutline:e,getSizedParentNode:i,getScale:a};var o="_leaflet_events";function r(s,l,u,v){if(1===arguments.length)h(s),delete s[o];else if(l&&"object"==typeof l)for(var _ in l)g(s,_,l[_],u);else if(l=Z(l),2===arguments.length)h(s,function(O){return-1!==Ee(l,O)});else for(var z=0,B=l.length;z<B;z++)g(s,l[z],u,v);return this}function h(s,l){for(var u in s[o]){var v=u.split(/\d/)[0];l&&!l(v)||g(s,v,null,null,u)}}var d={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function p(s,l,u,v){var _,z,B=l+ct(u)+(v?"_"+ct(v):"");s[o]&&s[o][B]||(z=_=function(O){return u.call(v||s,O||window.event)},!tt.touchNative&&tt.pointer&&0===l.indexOf("touch")?_=function qi(s,l,u){return"touchstart"!==l||di||(document.addEventListener(Xe,$i,!0),document.addEventListener(Ai,Ki,!0),document.addEventListener(ri,ui,!0),document.addEventListener(li,ui,!0),di=!0),ci[l]?(u=ci[l].bind(this,u),s.addEventListener(hi[l],u,!1),u):(console.warn("wrong event specified:",l),kt)}(s,l,_):tt.touch&&"dblclick"===l?_=function Se(s,l){s.addEventListener("dblclick",l);var u,v=0;function _(z){var B;1!==z.detail?u=z.detail:"mouse"===z.pointerType||z.sourceCapabilities&&!z.sourceCapabilities.firesTouchEvents||(B=S(z)).some(function(O){return O instanceof HTMLLabelElement&&O.attributes.for})&&!B.some(function(O){return O instanceof HTMLInputElement||O instanceof HTMLSelectElement})||((B=Date.now())-v<=Ji?2==++u&&l(function(O){var N,U,J={};for(U in O)J[U]=(N=O[U])&&N.bind?N.bind(O):N;return(O=J).type="dblclick",J.detail=2,J.isTrusted=!1,J._simulated=!0,J}(z)):u=1,v=B)}return s.addEventListener("click",_),{dblclick:l,simDblclick:_}}(s,_):"addEventListener"in s?"touchstart"===l||"touchmove"===l||"wheel"===l||"mousewheel"===l?s.addEventListener(d[l]||l,_,!!tt.passiveEvents&&{passive:!1}):"mouseenter"===l||"mouseleave"===l?s.addEventListener(d[l],_=function(O){O=O||window.event,w(s,O)&&z(O)},!1):s.addEventListener(l,z,!1):s.attachEvent("on"+l,_),s[o]=s[o]||{},s[o][B]=_)}function g(s,l,O,v,_){var z,B;_=_||l+ct(O)+(v?"_"+ct(v):""),(O=s[o]&&s[o][_])&&(!tt.touchNative&&tt.pointer&&0===l.indexOf("touch")?(v=s,B=O,hi[z=l]?v.removeEventListener(hi[z],B,!1):console.warn("wrong event specified:",z)):tt.touch&&"dblclick"===l?((B=s).removeEventListener("dblclick",(v=O).dblclick),B.removeEventListener("click",v.simDblclick)):"removeEventListener"in s?s.removeEventListener(d[l]||l,O,!1):s.detachEvent("on"+l,O),s[o][_]=null)}function f(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function x(s){return p(s,"wheel",f),this}function y(s){return n(s,"mousedown touchstart dblclick contextmenu",f),s._leaflet_disable_click=!0,this}function b(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function k(s){return b(s),f(s),this}function S(s){if(s.composedPath)return s.composedPath();for(var l=[],u=s.target;u;)l.push(u),u=u.parentNode;return l}function C(s,l){var u,v;return l?(v=(u=a(l)).boundingClientRect,new st((s.clientX-v.left)/u.x-l.clientLeft,(s.clientY-v.top)/u.y-l.clientTop)):new st(s.clientX,s.clientY)}var c=tt.linux&&tt.chrome?window.devicePixelRatio:tt.mac?3*window.devicePixelRatio:0<window.devicePixelRatio?2*window.devicePixelRatio:1;function m(s){return tt.edge?s.wheelDeltaY/2:s.deltaY&&0===s.deltaMode?-s.deltaY/c:s.deltaY&&1===s.deltaMode?20*-s.deltaY:s.deltaY&&2===s.deltaMode?60*-s.deltaY:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?20*-s.detail:s.detail?s.detail/-32765*60:0}function w(s,l){var u=l.relatedTarget;if(!u)return!0;try{for(;u&&u!==s;)u=u.parentNode}catch{return!1}return u!==s}T={__proto__:null,on:n,off:r,stopPropagation:f,disableScrollPropagation:x,disableClickPropagation:y,preventDefault:b,stop:k,getPropagationPath:S,getMousePosition:C,getWheelDelta:m,isExternalTarget:w,addListener:n,removeListener:r};var P=Be.extend({run:function(s,l,u,v){this.stop(),this._el=s,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=ae(s),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Wt(this._animate,this),this._step()},_step:function(s){var l=+new Date-this._startTime,u=1e3*this._duration;l<u?this._runFrame(this._easeOut(l/u),s):(this._runFrame(1),this._complete())},_runFrame:function(s,l){s=this._startPos.add(this._offset.multiplyBy(s)),l&&s._round(),zt(this._el,s),this.fire("step")},_complete:function(){bt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),M=Be.extend({options:{crs:ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,l){l=_t(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=W(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),void 0!==l.zoom&&(this._zoom=this._limitZoom(l.zoom)),l.center&&void 0!==l.zoom&&this.setView(ut(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Fe&&tt.any3d&&!tt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),n(this._proxy,Si,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,l,u){return l=void 0===l?this._zoom:this._limitZoom(l),s=this._limitCenter(ut(s),l,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&!0!==u&&(void 0!==u.animate&&(u.zoom=ht({animate:u.animate},u.zoom),u.pan=ht({animate:u.animate,duration:u.duration},u.pan)),this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,l,u.zoom):this._tryAnimatedPan(s,u.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(s,l,u.pan&&u.pan.noMoveStart),this)},setZoom:function(s,l){return this._loaded?this.setView(this.getCenter(),s,{zoom:l}):(this._zoom=s,this)},zoomIn:function(s,l){return this.setZoom(this._zoom+(s=s||(tt.any3d?this.options.zoomDelta:1)),l)},zoomOut:function(s,l){return this.setZoom(this._zoom-(s=s||(tt.any3d?this.options.zoomDelta:1)),l)},setZoomAround:function(_,l,u){var z=this.getZoomScale(l),v=this.getSize().divideBy(2);return _=(_ instanceof st?_:this.latLngToContainerPoint(_)).subtract(v).multiplyBy(1-1/z),z=this.containerPointToLatLng(v.add(_)),this.setView(z,l,{zoom:u})},_getBoundsCenterZoom:function(s,l){l=l||{},s=s.getBounds?s.getBounds():Ct(s);var u=at(l.paddingTopLeft||l.padding||[0,0]),v=at(l.paddingBottomRight||l.padding||[0,0]),_=this.getBoundsZoom(s,!1,u.add(v));return(_="number"==typeof l.maxZoom?Math.min(l.maxZoom,_):_)===1/0?{center:s.getCenter(),zoom:_}:(l=v.subtract(u).divideBy(2),v=this.project(s.getSouthWest(),_),u=this.project(s.getNorthEast(),_),{center:this.unproject(v.add(u).divideBy(2).add(l),_),zoom:_})},fitBounds:function(s,l){if((s=Ct(s)).isValid())return s=this._getBoundsCenterZoom(s,l),this.setView(s.center,s.zoom,l);throw new Error("Bounds are not valid.")},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,l){return this.setView(s,this._zoom,{pan:l})},panBy:function(s,l){var u;return l=l||{},(s=at(s).round()).x||s.y?(!0===l.animate||this.getSize().contains(s)?(this._panAnim||(this._panAnim=new P,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),!1!==l.animate?(nt(this._mapPane,"leaflet-pan-anim"),u=this._getMapPanePos().subtract(s).round(),this._panAnim.run(this._mapPane,u,l.duration||.25,l.easeLinearity)):(this._rawPanBy(s),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this):this.fire("moveend")},flyTo:function(s,l,u){if(!1===(u=u||{}).animate||!tt.any3d)return this.setView(s,l,u);this._stop();var v=this.project(this.getCenter()),_=this.project(s),z=this.getSize(),B=this._zoom,O=(s=ut(s),l=void 0===l?B:l,Math.max(z.x,z.y)),N=O*this.getZoomScale(B,l),U=_.distanceTo(v)||1,J=1.42,rt=J*J;function lt(Ot){return Ot=(N*N-O*O+(Ot?-1:1)*rt*rt*U*U)/(2*(Ot?N:O)*rt*U),(Ot=Math.sqrt(Ot*Ot+1)-Ot)<1e-9?-18:Math.log(Ot)}function Tt(Ot){return(Math.exp(Ot)-Math.exp(-Ot))/2}function te(Ot){return(Math.exp(Ot)+Math.exp(-Ot))/2}var Ut=lt(0),ba=Date.now(),ma=(lt(1)-Ut)/J,ya=u.duration?1e3*u.duration:1e3*ma*.8;return this._moveStart(!0,u.noMoveStart),function Ot(){var Wi=(Date.now()-ba)/ya,xa=(1-Math.pow(1-Wi,1.5))*ma;Wi<=1?(this._flyToFrame=Wt(Ot,this),this._move(this.unproject(v.add(_.subtract(v).multiplyBy(function ee(Ot){return O*(te(Ut)*(Tt(Ot=Ut+J*Ot)/te(Ot))-Tt(Ut))/rt}(xa)/U)),B),this.getScaleZoom(O/(Wi=xa,O*(te(Ut)/te(Ut+J*Wi))),B),{flyTo:!0})):this._move(s,l)._moveEnd(!0)}.call(this),this},flyToBounds:function(s,l){return s=this._getBoundsCenterZoom(s,l),this.flyTo(s.center,s.zoom,l)},setMaxBounds:function(s){return s=Ct(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var l=this.options.minZoom;return this.options.minZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var l=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&l!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(v,l){this._enforcingBounds=!0;var u=this.getCenter();return v=this._limitCenter(u,this._zoom,Ct(v)),u.equals(v)||this.panTo(v,l),this._enforcingBounds=!1,this},panInside:function(_,l){var z=at((l=l||{}).paddingTopLeft||l.padding||[0,0]),u=at(l.paddingBottomRight||l.padding||[0,0]),v=this.project(this.getCenter()),B=(_=this.project(_),(z=Yt([(B=this.getPixelBounds()).min.add(z),B.max.subtract(u)])).getSize());return z.contains(_)||(this._enforcingBounds=!0,u=_.subtract(z.getCenter()),z=z.extend(_).getSize().subtract(B),v.x+=u.x<0?-z.x:z.x,v.y+=u.y<0?-z.y:z.y,this.panTo(this.unproject(v),l),this._enforcingBounds=!1),this},invalidateSize:function(s){if(!this._loaded)return this;s=ht({animate:!1,pan:!0},!0===s?{animate:!0}:s);var l=this.getSize(),u=(this._sizeChanged=!0,this._lastCenter=null,this.getSize()),_=l.divideBy(2).round(),v=u.divideBy(2).round();return(_=_.subtract(v)).x||_.y?(s.animate&&s.pan?this.panBy(_):(s.pan&&this._rawPanBy(_),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(W(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:u})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){var l,u;return s=this._locateOptions=ht({timeout:1e4,watch:!1},s),"geolocation"in navigator?(l=W(this._handleGeolocationResponse,this),u=W(this._handleGeolocationError,this),s.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,u,s):navigator.geolocation.getCurrentPosition(l,u,s)):this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){var l;this._container._leaflet_id&&(l=s.code,s=s.message||(1===l?"permission denied":2===l?"position unavailable":"timeout"),this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+s+"."}))},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var l,u,v=new mt(s.coords.latitude,s.coords.longitude),_=v.toBounds(2*s.coords.accuracy),z=this._locateOptions,B=(z.setView&&(l=this.getBoundsZoom(_),this.setView(v,z.maxZoom?Math.min(l,z.maxZoom):l)),{latlng:v,bounds:_,timestamp:s.timestamp});for(u in s.coords)"number"==typeof s.coords[u]&&(B[u]=s.coords[u]);this.fire("locationfound",B)}},addHandler:function(s,l){return l&&(l=this[s]=new l(this),this._handlers.push(l),this.options[s]&&l.enable()),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}for(var s in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Pt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(bt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[s].remove();for(s in this._panes)Pt(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,l){return l=pt("div","leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),l||this._mapPane),s&&(this._panes[s]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds();return new Bt(this.unproject(s.getBottomLeft()),this.unproject(s.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(N,l,O){N=Ct(N),O=at(O||[0,0]);var U=this.getZoom()||0,v=this.getMinZoom(),_=this.getMaxZoom(),z=N.getNorthWest(),B=(N=N.getSouthEast(),O=this.getSize().subtract(O),N=Yt(this.project(N,U),this.project(z,U)).getSize(),z=tt.any3d?this.options.zoomSnap:1,O.x/N.x);return O=O.y/N.y,N=l?Math.max(B,O):Math.min(B,O),U=this.getScaleZoom(N,U),z&&(U=Math.round(U/(z/100))*(z/100),U=l?Math.ceil(U/z)*z:Math.floor(U/z)*z),Math.max(v,Math.min(_,U))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new st(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,l){return new At(s=this._getTopLeftPoint(s,l),s.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(void 0===s?this.getZoom():s)},getPane:function(s){return"string"==typeof s?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,l){var u=this.options.crs;return l=void 0===l?this._zoom:l,u.scale(s)/u.scale(l)},getScaleZoom:function(v,l){var u=this.options.crs;return v=u.zoom(v*u.scale(l=void 0===l?this._zoom:l)),isNaN(v)?1/0:v},project:function(s,l){return l=void 0===l?this._zoom:l,this.options.crs.latLngToPoint(ut(s),l)},unproject:function(s,l){return l=void 0===l?this._zoom:l,this.options.crs.pointToLatLng(at(s),l)},layerPointToLatLng:function(s){return s=at(s).add(this.getPixelOrigin()),this.unproject(s)},latLngToLayerPoint:function(s){return this.project(ut(s))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(ut(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(Ct(s))},distance:function(s,l){return this.options.crs.distance(ut(s),ut(l))},containerPointToLayerPoint:function(s){return at(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return at(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){return s=this.containerPointToLayerPoint(at(s)),this.layerPointToLatLng(s)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ut(s)))},mouseEventToContainerPoint:function(s){return C(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){if(!(s=this._container=Ci(s)))throw new Error("Map container not found.");if(s._leaflet_id)throw new Error("Map container is already initialized.");n(s,"scroll",this._onScroll,this),this._containerId=ct(s)},_initLayout:function(){var s=this._container,l=(this._fadeAnimated=this.options.fadeAnimation&&tt.any3d,nt(s,"leaflet-container"+(tt.touch?" leaflet-touch":"")+(tt.retina?" leaflet-retina":"")+(tt.ielt9?" leaflet-oldie":"")+(tt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":"")),Ye(s,"position"));"absolute"!==l&&"relative"!==l&&"fixed"!==l&&"sticky"!==l&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),zt(this._mapPane,new st(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(nt(s.markerPane,"leaflet-zoom-hide"),nt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,l,u){zt(this._mapPane,new st(0,0));var v=!this._loaded,_=(this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset"),this._zoom!==l);this._moveStart(_,u)._move(s,l)._moveEnd(_),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(s,l){return s&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(s,l,u,v){void 0===l&&(l=this._zoom);var _=this._zoom!==l;return this._zoom=l,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),v?u&&u.pinch&&this.fire("zoom",u):((_||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return bt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){zt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={};var l=s?r:n;l((this._targets[ct(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),tt.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){bt(this._resizeRequest),this._resizeRequest=Wt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,l){for(var u,v=[],_="mouseout"===l||"mouseover"===l,z=s.target||s.srcElement,B=!1;z;){if((u=this._targets[ct(z)])&&("click"===l||"preclick"===l)&&this._draggableMoved(u)){B=!0;break}if(u&&u.listens(l,!0)&&(_&&!w(z,s)||(v.push(u),_))||z===this._container)break;z=z.parentNode}return v.length||B||_||!this.listens(l,!0)?v:[this]},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var l,u=s.target||s.srcElement;!this._loaded||u._leaflet_disable_events||"click"===s.type&&this._isClickDisabled(u)||("mousedown"===(l=s.type)&&t(u),this._fireDOMEvent(s,l))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,l,u){"click"===s.type&&((O=ht({},s)).type="preclick",this._fireDOMEvent(O,O.type,u));var v=this._findEventTargets(s,l);if(u){for(var _=[],z=0;z<u.length;z++)u[z].listens(l,!0)&&_.push(u[z]);v=_.concat(v)}if(v.length){"contextmenu"===l&&b(s);var B,O=v[0],N={originalEvent:s};for("keypress"!==s.type&&"keydown"!==s.type&&"keyup"!==s.type&&(N.containerPoint=(B=O.getLatLng&&(!O._radius||O._radius<=10))?this.latLngToContainerPoint(O.getLatLng()):this.mouseEventToContainerPoint(s),N.layerPoint=this.containerPointToLayerPoint(N.containerPoint),N.latlng=B?O.getLatLng():this.layerPointToLatLng(N.layerPoint)),z=0;z<v.length;z++)if(v[z].fire(l,N,!0),N.originalEvent._stopped||!1===v[z].options.bubblingMouseEvents&&-1!==Ee(this._mouseEvents,l))return}},_draggableMoved:function(s){return(s=s.dragging&&s.dragging.enabled()?s:this).dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,l=this._handlers.length;s<l;s++)this._handlers[s].disable()},whenReady:function(s,l){return this._loaded?s.call(l||this,{target:this}):this.on("load",s,l),this},_getMapPanePos:function(){return ae(this._mapPane)||new st(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,l){return(s&&void 0!==l?this._getNewPixelOrigin(s,l):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,l){var u=this.getSize()._divideBy(2);return this.project(s,l)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,l,u){return u=this._getNewPixelOrigin(u,l),this.project(s,l)._subtract(u)},_latLngBoundsToNewLayerBounds:function(s,l,u){return u=this._getNewPixelOrigin(u,l),Yt([this.project(s.getSouthWest(),l)._subtract(u),this.project(s.getNorthWest(),l)._subtract(u),this.project(s.getSouthEast(),l)._subtract(u),this.project(s.getNorthEast(),l)._subtract(u)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,l,u){var v,_;return!u||(v=this.project(s,l),_=this.getSize().divideBy(2),_=new At(v.subtract(_),v.add(_)),_=this._getBoundsOffset(_,u,l),Math.abs(_.x)<=1&&Math.abs(_.y)<=1)?s:this.unproject(v.add(_),l)},_limitOffset:function(s,l){var u;return l?(u=new At((u=this.getPixelBounds()).min.add(s),u.max.add(s)),s.add(this._getBoundsOffset(u,l))):s},_getBoundsOffset:function(s,l,u){return u=(l=Yt(this.project(l.getNorthEast(),u),this.project(l.getSouthWest(),u))).min.subtract(s.min),l=l.max.subtract(s.max),new st(this._rebound(u.x,-l.x),this._rebound(u.y,-l.y))},_rebound:function(s,l){return 0<s+l?Math.round(s-l)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(l))},_limitZoom:function(s){var l=this.getMinZoom(),u=this.getMaxZoom(),v=tt.any3d?this.options.zoomSnap:1;return v&&(s=Math.round(s/v)*v),Math.max(l,Math.min(u,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Mt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,l){return s=this._getCenterOffset(s)._trunc(),!(!0!==(l&&l.animate)&&!this.getSize().contains(s)||(this.panBy(s,l),0))},_createAnimProxy:function(){var s=this._proxy=pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(l){var u=gi,v=this._proxy.style[u];ce(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),v===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Pt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),l=this.getZoom();ce(this._proxy,this.project(s,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(s){this._animatingZoom&&0<=s.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,l,u){if(!this._animatingZoom){if(u=u||{},!this._zoomAnimated||!1===u.animate||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(l);if(v=this._getCenterOffset(s)._divideBy(1-1/v),!0!==u.animate&&!this.getSize().contains(v))return!1;Wt(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(s,l,!0)},this)}return!0},_animateZoom:function(s,l,u,v){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=l,nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:l,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(W(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Mt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function I(s){return new E(s)}var St,E=Ft.extend({options:{position:"topright"},initialize:function(s){_t(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var l=this._map;return l&&l.removeControl(this),this.options.position=s,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(v){this.remove(),this._map=v;var l=this._container=this.onAdd(v),u=this.getPosition();return v=v._controlCorners[u],nt(l,"leaflet-control"),-1!==u.indexOf("bottom")?v.insertBefore(l,v.firstChild):v.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(Pt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(s){this._map&&s&&0<s.screenX&&0<s.screenY&&this._map.getContainer().focus()}}),X=(M.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},l="leaflet-",u=this._controlContainer=pt("div",l+"control-container",this._container);function v(_,z){s[_+z]=pt("div",l+_+" "+l+z,u)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)Pt(this._controlCorners[s]);Pt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}}),E.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,l,u,v){return u<v?-1:v<u?1:0}},initialize:function(s,l,u){for(var v in _t(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1,s)this._addLayer(s[v],v);for(v in l)this._addLayer(l[v],v,!0)},onAdd:function(s){this._initLayout(),this._update(),(this._map=s).on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return E.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,l){return this._addLayer(s,l),this._map?this._update():this},addOverlay:function(s,l){return this._addLayer(s,l,!0),this._map?this._update():this},removeLayer:function(s){return s.off("add remove",this._onLayerChange,this),(s=this._getLayer(ct(s)))&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):Mt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Mt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",l=this._container=pt("div",s),u=this.options.collapsed,v=(l.setAttribute("aria-haspopup",!0),y(l),x(l),this._section=pt("section",s+"-list")),_=(u&&(this._map.on("click",this.collapse,this),n(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this)),this._layersLink=pt("a",s+"-toggle",l));_.href="#",_.title="Layers",_.setAttribute("role","button"),n(_,{keydown:function(z){13===z.keyCode&&this._expandSafely()},click:function(z){b(z),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=pt("div",s+"-base",v),this._separator=pt("div",s+"-separator",v),this._overlaysList=pt("div",s+"-overlays",v),l.appendChild(v)},_getLayer:function(s){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&ct(this._layers[l].layer)===s)return this._layers[l]},_addLayer:function(s,l,u){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:l,overlay:u}),this.options.sortLayers&&this._layers.sort(W(function(v,_){return this.options.sortFunction(v.layer,_.layer,v.name,_.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(this._container){Le(this._baseLayersList),Le(this._overlaysList),this._layerControlInputs=[];for(var s,l,u,v=0,_=0;_<this._layers.length;_++)this._addItem(u=this._layers[_]),l=l||u.overlay,s=s||!u.overlay,v+=u.overlay?0:1;this.options.hideSingleBase&&(this._baseLayersList.style.display=(s=s&&1<v)?"":"none"),this._separator.style.display=l&&s?"":"none"}return this},_onLayerChange:function(u){this._handlingClick||this._update();var l=this._getLayer(ct(u.target));(u=l.overlay?"add"===u.type?"overlayadd":"overlayremove":"add"===u.type?"baselayerchange":null)&&this._map.fire(u,l)},_createRadioElement:function(s,l){return s='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(l?' checked="checked"':"")+"/>",(l=document.createElement("div")).innerHTML=s,l.firstChild},_addItem:function(s){var l,u=document.createElement("label"),v=this._map.hasLayer(s.layer),_=((s.overlay?((l=document.createElement("input")).type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=v):l=this._createRadioElement("leaflet-base-layers_"+ct(this),v),this._layerControlInputs.push(l),l.layerId=ct(s.layer),n(l,"click",this._onInputClick,this),v=document.createElement("span")).innerHTML=" "+s.name,document.createElement("span"));return u.appendChild(_),_.appendChild(l),_.appendChild(v),(s.overlay?this._overlaysList:this._baseLayersList).appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s,l,u=this._layerControlInputs,v=[],_=[];this._handlingClick=!0;for(var z=u.length-1;0<=z;z--)l=this._getLayer((s=u[z]).layerId).layer,s.checked?v.push(l):s.checked||_.push(l);for(z=0;z<_.length;z++)this._map.hasLayer(_[z])&&this._map.removeLayer(_[z]);for(z=0;z<v.length;z++)this._map.hasLayer(v[z])||this._map.addLayer(v[z]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s,l,u=this._layerControlInputs,v=this._map.getZoom(),_=u.length-1;0<=_;_--)l=this._getLayer((s=u[_]).layerId).layer,s.disabled=void 0!==l.options.minZoom&&v<l.options.minZoom||void 0!==l.options.maxZoom&&v>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section,l=(this._preventClick=!0,n(s,"click",b),this.expand(),this);setTimeout(function(){r(s,"click",b),l._preventClick=!1})}})),F=E.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var l="leaflet-control-zoom",u=pt("div",l+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,l+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,l+"-out",u,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,l,u,v,_){return(u=pt("a",u,v)).innerHTML=s,u.href="#",u.title=l,u.setAttribute("role","button"),u.setAttribute("aria-label",l),y(u),n(u,"click",k),n(u,"click",_,this),n(u,"click",this._refocusOnMap,this),u},_updateDisabled:function(){var s=this._map,l="leaflet-disabled";Mt(this._zoomInButton,l),Mt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),!this._disabled&&s._zoom!==s.getMinZoom()||(nt(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),!this._disabled&&s._zoom!==s.getMaxZoom()||(nt(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}}),D=(M.mergeOptions({zoomControl:!0}),M.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new F,this.addControl(this.zoomControl))}),E.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var l="leaflet-control-scale",u=pt("div",l),v=this.options;return this._addScales(v,l+"-line",u),s.on(v.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),u},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,l,u){s.metric&&(this._mScale=pt("div",l,u)),s.imperial&&(this._iScale=pt("div",l,u))},_update:function(){var s=(l=this._map).getSize().y/2,l=l.distance(l.containerPointToLatLng([0,s]),l.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(l)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var l=this._getRoundNum(s);this._updateScale(this._mScale,l<1e3?l+" m":l/1e3+" km",l/s)},_updateImperial:function(v){var l,u;5280<(v*=3.2808399)?(u=this._getRoundNum(l=v/5280),this._updateScale(this._iScale,u+" mi",u/l)):(u=this._getRoundNum(v),this._updateScale(this._iScale,u+" ft",u/v))},_updateScale:function(s,l,u){s.style.width=Math.round(this.options.maxWidth*u)+"px",s.innerHTML=l},_getRoundNum:function(u){var l=Math.pow(10,(Math.floor(u)+"").length-1);return l*(10<=(u/=l)?10:5<=u?5:3<=u?3:2<=u?2:1)}})),Y=E.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(tt.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(s){_t(this,s),this._attributions={}},onAdd:function(s){for(var l in(s.attributionControl=this)._container=pt("div","leaflet-control-attribution"),y(this._container),s._layers)s._layers[l].getAttribution&&this.addAttribution(s._layers[l].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s&&(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update()),this},removeAttribution:function(s){return s&&this._attributions[s]&&(this._attributions[s]--,this._update()),this},_update:function(){if(this._map){var s,l=[];for(s in this._attributions)this._attributions[s]&&l.push(s);var u=[];this.options.prefix&&u.push(this.options.prefix),l.length&&u.push(l.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}}),K=((M.mergeOptions({attributionControl:!0}),M.addInitHook(function(){this.options.attributionControl&&(new Y).addTo(this)}),E.Layers=X,E.Zoom=F,E.Scale=D,E.Attribution=Y,I.layers=function(s,l,u){return new X(s,l,u)},I.zoom=function(s){return new F(s)},I.scale=function(s){return new D(s)},I.attribution=function(s){return new Y(s)},G=Ft.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}})).addTo=function(s,l){return s.addHandler(l,this),this},$={Events:Zt},tt.touch?"touchstart mousedown":"mousedown"),Q=Be.extend({options:{clickTolerance:3},initialize:function(s,l,u,v){_t(this,v),this._element=s,this._dragStartTarget=l||s,this._preventOutline=u},enable:function(){this._enabled||(n(this._dragStartTarget,K,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Q._dragging===this&&this.finishDrag(!0),r(this._dragStartTarget,K,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){var l,u;this._enabled&&(this._moved=!1,fe(this._element,"leaflet-zoom-anim")||(s.touches&&1!==s.touches.length?Q._dragging===this&&this.finishDrag():Q._dragging||s.shiftKey||1!==s.which&&1!==s.button&&!s.touches||((Q._dragging=this)._preventOutline&&t(this._element),fi(),Ce(),this._moving||(this.fire("down"),u=s.touches?s.touches[0]:s,l=i(this._element),this._startPoint=new st(u.clientX,u.clientY),this._startPos=ae(this._element),this._parentScale=a(l),u="mousedown"===s.type,n(document,u?"mousemove":"touchmove",this._onMove,this),n(document,u?"mouseup":"touchend touchcancel",this._onUp,this)))))},_onMove:function(s){var l;this._enabled&&(s.touches&&1<s.touches.length?this._moved=!0:!(l=new st((l=s.touches&&1===s.touches.length?s.touches[0]:s).clientX,l.clientY)._subtract(this._startPoint)).x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,b(s),this._moved||(this.fire("dragstart"),this._moved=!0,nt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=s,this._updatePosition()))},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),zt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){Mt(document.body,"leaflet-dragging"),this._lastTarget&&(Mt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),r(document,"mousemove touchmove",this._onMove,this),r(document,"mouseup touchend touchcancel",this._onUp,this),A(),Ze();var l=this._moved&&this._moving;this._moving=!1,Q._dragging=!1,l&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function it(s,l,u){for(var v,_,z,B,O,N,U,J=[1,4,2,8],rt=0,lt=s.length;rt<lt;rt++)s[rt]._code=dt(s[rt],l);for(z=0;z<4;z++){for(N=J[z],v=[],rt=0,_=(lt=s.length)-1;rt<lt;_=rt++)O=s[_],(B=s[rt])._code&N?O._code&N||((U=gt(O,B,N,l,u))._code=dt(U,l),v.push(U)):(O._code&N&&((U=gt(O,B,N,l,u))._code=dt(U,l),v.push(U)),v.push(B));s=v}return s}function et(s,l){var u,v,_,z,B,O,N;if(!s||0===s.length)throw new Error("latlngs not passed");wt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);for(var U=ut([0,0]),J=Ct(s),rt=(J.getNorthWest().distanceTo(J.getSouthWest())*J.getNorthEast().distanceTo(J.getNorthWest())<1700&&(U=ot(s)),s.length),lt=[],Tt=0;Tt<rt;Tt++){var te=ut(s[Tt]);lt.push(l.project(ut([te.lat-U.lat,te.lng-U.lng])))}for(Tt=B=O=N=0,u=rt-1;Tt<rt;u=Tt++)O+=((v=lt[Tt]).x+(_=lt[u]).x)*(z=v.y*_.x-_.y*v.x),N+=(v.y+_.y)*z,B+=3*z;return ut([(J=l.unproject(at(J=0===B?lt[0]:[O/B,N/B]))).lat+U.lat,J.lng+U.lng])}function ot(s){for(var l=0,u=0,v=0,_=0;_<s.length;_++){var z=ut(s[_]);l+=z.lat,u+=z.lng,v++}return ut([l/v,u/v])}function xt(s,l){if(l&&s.length){var u=s=function(O,N){for(var U=[O[0]],J=1,rt=0,lt=O.length;J<lt;J++)void 0,(Ut=(ee=O[rt]).x-(Tt=O[J]).x)*Ut+(ee=ee.y-Tt.y)*ee>N&&(U.push(O[J]),rt=J);var Tt,ee,Ut;return rt<lt-1&&U.push(O[lt-1]),U}(s,l*=l),v=u.length,_=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(v);_[0]=_[v-1]=1,function O(N,U,J,rt,lt){var Tt,te,Ut,ee=0;for(te=rt+1;te<=lt-1;te++)ee<(Ut=It(N[te],N[rt],N[lt],!0))&&(Tt=te,ee=Ut);J<ee&&(U[Tt]=1,O(N,U,J,rt,Tt),O(N,U,J,Tt,lt))}(u,_,l,0,v-1);var z,B=[];for(z=0;z<v;z++)_[z]&&B.push(u[z]);return B}return s.slice()}function Vt(s,l,u){return Math.sqrt(It(s,l,u,!0))}function ft(s,l,u,v,_){var z,B,O,N=v?St:dt(s,u),U=dt(l,u);for(St=U;;){if(!(N|U))return[s,l];if(N&U)return!1;O=dt(B=gt(s,l,z=N||U,u,_),u),z===N?(s=B,N=O):(l=B,U=O)}}function gt(s,N,u,J,_){var z,B,O=N.x-s.x,U=(N=N.y-s.y,J.min);return J=J.max,8&u?(z=s.x+O*(J.y-s.y)/N,B=J.y):4&u?(z=s.x+O*(U.y-s.y)/N,B=U.y):2&u?(z=J.x,B=s.y+N*(J.x-s.x)/O):1&u&&(z=U.x,B=s.y+N*(U.x-s.x)/O),new st(z,B,_)}function dt(s,l){var u=0;return s.x<l.min.x?u|=1:s.x>l.max.x&&(u|=2),s.y<l.min.y?u|=4:s.y>l.max.y&&(u|=8),u}function It(s,z,u,v){var _=z.x,B=u.x-_,O=u.y-(z=z.y),N=B*B+O*O;return 0<N&&(1<(N=((s.x-_)*B+(s.y-z)*O)/N)?(_=u.x,z=u.y):0<N&&(_+=B*N,z+=O*N)),B=s.x-_,O=s.y-z,v?B*B+O*O:new st(_,z)}function wt(s){return!vt(s[0])||"object"!=typeof s[0][0]&&void 0!==s[0][0]}function Qt(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),wt(s)}function Pe(s,l){var u,v,_,z,B,O;if(!s||0===s.length)throw new Error("latlngs not passed");wt(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);for(var N=ut([0,0]),U=Ct(s),J=(U.getNorthWest().distanceTo(U.getSouthWest())*U.getNorthEast().distanceTo(U.getNorthWest())<1700&&(N=ot(s)),s.length),rt=[],lt=0;lt<J;lt++){var Tt=ut(s[lt]);rt.push(l.project(ut([Tt.lat-N.lat,Tt.lng-N.lng])))}for(u=lt=0;lt<J-1;lt++)u+=rt[lt].distanceTo(rt[lt+1])/2;if(0===u)O=rt[0];else for(v=lt=0;lt<J-1;lt++)if(u<(v+=B=(_=rt[lt]).distanceTo(z=rt[lt+1]))){O=[z.x-(B=(v-u)/B)*(z.x-_.x),z.y-B*(z.y-_.y)];break}return ut([(U=l.unproject(at(O))).lat+N.lat,U.lng+N.lng])}yt={__proto__:null,clipPolygon:it,polygonCenter:et,centroid:ot},Xt={__proto__:null,simplify:xt,pointToSegmentDistance:Vt,closestPointOnSegment:function(s,l,u){return It(s,l,u)},clipSegment:ft,_getEdgeIntersection:gt,_getBitCode:dt,_sqClosestPointOnSegment:It,isFlat:wt,_flat:Qt,polylineCenter:Pe},Li={__proto__:null,LonLat:Ht={project:function(s){return new st(s.lng,s.lat)},unproject:function(s){return new mt(s.y,s.x)},bounds:new At([-180,-90],[180,90])},Mercator:me={R:6378137,R_MINOR:6356752.314245179,bounds:new At([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(s){var l=Math.PI/180,u=this.R,z=s.lat*l,v=this.R_MINOR/u,_=(v=Math.sqrt(1-v*v))*Math.sin(z);return _=Math.tan(Math.PI/4-z/2)/Math.pow((1-_)/(1+_),v/2),z=-u*Math.log(Math.max(_,1e-10)),new st(s.lng*l*u,z)},unproject:function(s){for(var l,u=180/Math.PI,v=this.R,_=this.R_MINOR/v,z=Math.sqrt(1-_*_),B=Math.exp(-s.y/v),O=Math.PI/2-2*Math.atan(B),N=0,U=.1;N<15&&1e-7<Math.abs(U);N++)l=z*Math.sin(O),l=Math.pow((1-l)/(1+l),z/2),O+=U=Math.PI/2-2*Math.atan(B*l)-O;return new mt(O*u,s.x*u/v)}},SphericalMercator:Jt},Qi=ht({},jt,{code:"EPSG:3395",projection:me,transformation:Nt(ke=.5/(Math.PI*me.R),.5,-ke,.5)});var aa=ht({},jt,{code:"EPSG:4326",projection:Ht,transformation:Nt(1/180,1,-1/180,.5)}),$e=(Pi=ht({},Et,{projection:Ht,transformation:Nt(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,v){var u=v.lng-s.lng;return v=v.lat-s.lat,Math.sqrt(u*u+v*v)},infinite:!0}),Et.Earth=jt,Et.EPSG3395=Qi,Et.EPSG3857=ue,Et.EPSG900913=He,Et.EPSG4326=aa,Et.Simple=Pi,$t=Be.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[ct(s)]=this},removeInteractiveTarget:function(s){return delete this._map._targets[ct(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var l,u=s.target;u.hasLayer(this)&&(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents&&(l=this.getEvents(),u.on(l,this),this.once("remove",function(){u.off(l,this)},this)),this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this}))}}),M.include({addLayer:function(s){var l;if(s._layerAdd)return l=ct(s),this._layers[l]||((this._layers[l]=s)._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s)),this;throw new Error("The provided object is not a Layer.")},removeLayer:function(s){var l=ct(s);return this._layers[l]&&(this._loaded&&s.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null),this},hasLayer:function(s){return ct(s)in this._layers},eachLayer:function(s,l){for(var u in this._layers)s.call(l,this._layers[u]);return this},_addLayers:function(s){for(var l=0,u=(s=s?vt(s)?s:[s]:[]).length;l<u;l++)this.addLayer(s[l])},_addZoomLimit:function(s){isNaN(s.options.maxZoom)&&isNaN(s.options.minZoom)||(this._zoomBoundLayers[ct(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){s=ct(s),this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var s,l=1/0,u=-1/0,v=this._getZoomSpan();for(s in this._zoomBoundLayers){var _=this._zoomBoundLayers[s].options;l=void 0===_.minZoom?l:Math.min(l,_.minZoom),u=void 0===_.maxZoom?u:Math.max(u,_.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=l===1/0?void 0:l,v!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}}),$t.extend({initialize:function(s,l){var u,v;if(_t(this,l),this._layers={},s)for(u=0,v=s.length;u<v;u++)this.addLayer(s[u])},addLayer:function(s){var l=this.getLayerId(s);return this._layers[l]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){return s=s in this._layers?s:this.getLayerId(s),this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(s){return("number"==typeof s?s:this.getLayerId(s))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var l,u,v=Array.prototype.slice.call(arguments,1);for(l in this._layers)(u=this._layers[l])[s]&&u[s].apply(u,v);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,l){for(var u in this._layers)s.call(l,this._layers[u]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:ct})),xe=$e.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),$e.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?((s=s in this._layers?this._layers[s]:s).removeEventParent(this),$e.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s,l=new Bt;for(s in this._layers){var u=this._layers[s];l.extend(u.getBounds?u.getBounds():u.getLatLng())}return l}}),Ke=Ft.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){_t(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,l){var u=this._getIconUrl(s);if(u)return u=this._createImg(u,l&&"IMG"===l.tagName?l:null),this._setIconStyles(u,s),!this.options.crossOrigin&&""!==this.options.crossOrigin||(u.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),u;if("icon"===s)throw new Error("iconUrl not set in Icon options (see the docs).");return null},_setIconStyles:function(s,l){var u=this.options,v=at(v="number"==typeof(v=u[l+"Size"])?[v,v]:v),_=at("shadow"===l&&u.shadowAnchor||u.iconAnchor||v&&v.divideBy(2,!0));s.className="leaflet-marker-"+l+" "+(u.className||""),_&&(s.style.marginLeft=-_.x+"px",s.style.marginTop=-_.y+"px"),v&&(s.style.width=v.x+"px",s.style.height=v.y+"px")},_createImg:function(s,l){return(l=l||document.createElement("img")).src=s,l},_getIconUrl:function(s){return tt.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}}),mi=Ke.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return"string"!=typeof mi.imagePath&&(mi.imagePath=this._detectIconPath()),(this.options.imagePath||mi.imagePath)+Ke.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){function l(u,v,_){return(v=v.exec(u))&&v[_]}return(s=l(s,/^url\((['"])?(.+)\1\)$/,2))&&l(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=pt("div","leaflet-default-icon-path",document.body),l=Ye(s,"background-image")||Ye(s,"backgroundImage");return document.body.removeChild(s),(l=this._stripUrl(l))?l:(s=document.querySelector('link[href$="leaflet.css"]'))?s.href.substring(0,s.href.length-11-1):""}}),sa=G.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Q(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),nt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Mt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var l=this._marker,u=l._map,v=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,z=ae(l._icon),B=u.getPixelBounds(),O=u.getPixelOrigin();(O=Yt(B.min._subtract(O).add(_),B.max._subtract(O).subtract(_))).contains(z)||(_=at((Math.max(O.max.x,z.x)-O.max.x)/(B.max.x-O.max.x)-(Math.min(O.min.x,z.x)-O.min.x)/(B.min.x-O.min.x),(Math.max(O.max.y,z.y)-O.max.y)/(B.max.y-O.max.y)-(Math.min(O.min.y,z.y)-O.min.y)/(B.min.y-O.min.y)).multiplyBy(v),u.panBy(_,{animate:!1}),this._draggable._newPos._add(_),this._draggable._startPos._add(_),zt(l._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=Wt(this._adjustPan.bind(this,s)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(bt(this._panRequest),this._panRequest=Wt(this._adjustPan.bind(this,s)))},_onDrag:function(s){var l=this._marker,u=l._shadow,v=ae(l._icon),_=l._map.layerPointToLatLng(v);u&&zt(u,v),l._latlng=_,s.latlng=_,s.oldLatLng=this._oldLatLng,l.fire("move",s).fire("drag",s)},_onDragEnd:function(s){bt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),Mi=$t.extend({options:{icon:new mi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,l){_t(this,l),this._latlng=ut(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var l=this._latlng;return this._latlng=ut(s),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var s;return this._icon&&this._map&&(s=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(s)),this},_initIcon:function(){var v,s=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=!1,_=!1;(v=s.icon.createIcon(this._icon))!==this._icon&&(this._icon&&this._removeIcon(),u=!0,s.title&&(v.title=s.title),"IMG"===v.tagName&&(v.alt=s.alt||"")),nt(v,l),s.keyboard&&(v.tabIndex="0",v.setAttribute("role","button")),this._icon=v,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&n(v,"focus",this._panOnFocus,this),(v=s.icon.createShadow(this._shadow))!==this._shadow&&(this._removeShadow(),_=!0),v&&(nt(v,l),v.alt=""),this._shadow=v,s.opacity<1&&this._updateOpacity(),u&&this.getPane().appendChild(this._icon),this._initInteraction(),v&&_&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&r(this._icon,"focus",this._panOnFocus,this),Pt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Pt(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&zt(this._icon,s),this._shadow&&zt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){s=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round(),this._setPos(s)},_initInteraction:function(){var s;this.options.interactive&&(nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),sa&&(s=this.options.draggable,this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new sa(this),s&&this.dragging.enable()))},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&qt(this._icon,s),this._shadow&&qt(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s,l,u=this._map;u&&(s=(l=this.options.icon.options).iconSize?at(l.iconSize):at(0,0),l=l.iconAnchor?at(l.iconAnchor):at(0,0),u.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:s.subtract(l)}))},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Me=$t.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return _t(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ti=Me.extend({options:{fill:!0,radius:10},initialize:function(s,l){_t(this,l),this._latlng=ut(s),this._radius=this.options.radius},setLatLng:function(s){var l=this._latlng;return this._latlng=ut(s),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var l=s&&s.radius||this._radius;return Me.prototype.setStyle.call(this,s),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var u=this._radius,s=this._radiusY||u,l=this._clickTolerance();this._pxBounds=new At(this._point.subtract(u=[u+l,s+l]),this._point.add(u))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),ta=Ti.extend({initialize:function(s,l,u){if(_t(this,l="number"==typeof l?ht({},u,{radius:l}):l),this._latlng=ut(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new Bt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:Me.prototype.setStyle,_project:function(){var s,l,u,v,_,z=this._latlng.lng,B=this._latlng.lat,O=this._map,N=O.options.crs;N.distance===jt.distance?(v=Math.PI/180,s=O.project([B+(_=this._mRadius/jt.R/v),z]),l=O.project([B-_,z]),l=s.add(l).divideBy(2),u=O.unproject(l).lat,v=Math.acos((Math.cos(_*v)-Math.sin(B*v)*Math.sin(u*v))/(Math.cos(B*v)*Math.cos(u*v)))/v,!isNaN(v)&&0!==v||(v=_/Math.cos(Math.PI/180*B)),this._point=l.subtract(O.getPixelOrigin()),this._radius=isNaN(v)?0:l.x-O.project([u,z-v]).x,this._radiusY=l.y-s.y):(_=N.unproject(N.project(this._latlng).subtract([this._mRadius,0])),this._point=O.latLngToLayerPoint(this._latlng),this._radius=this._point.x-O.latLngToLayerPoint(_).x),this._updateBounds()}}),ve=Me.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,l){_t(this,l),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var l=1/0,u=null,v=It,_=0,z=this._parts.length;_<z;_++)for(var B=this._parts[_],O=1,N=B.length;O<N;O++){var U,J,rt=v(s,U=B[O-1],J=B[O],!0);rt<l&&(l=rt,u=v(s,U,J))}return u&&(u.distance=Math.sqrt(l)),u},getCenter:function(){if(this._map)return Pe(this._defaultShape(),this._map.options.crs);throw new Error("Must add layer to map before using getCenter()")},getBounds:function(){return this._bounds},addLatLng:function(s,l){return l=l||this._defaultShape(),s=ut(s),l.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new Bt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return wt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var l=[],u=wt(s),v=0,_=s.length;v<_;v++)u?(l[v]=ut(s[v]),this._bounds.extend(l[v])):l[v]=this._convertLatLngs(s[v]);return l},_project:function(){var s=new At;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=new st(s=this._clickTolerance(),s);this._rawPxBounds&&(this._pxBounds=new At([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(s,l,u){var v,_,B=s.length;if(s[0]instanceof mt){for(_=[],v=0;v<B;v++)_[v]=this._map.latLngToLayerPoint(s[v]),u.extend(_[v]);l.push(_)}else for(v=0;v<B;v++)this._projectLatlngs(s[v],l,u)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(s))if(this.options.noClip)this._parts=this._rings;else for(var l,u,v,_,z=this._parts,B=0,O=0,N=this._rings.length;B<N;B++)for(l=0,u=(_=this._rings[B]).length;l<u-1;l++)(v=ft(_[l],_[l+1],s,l,!0))&&(z[O]=z[O]||[],z[O].push(v[0]),v[1]===_[l+1]&&l!==u-2||(z[O].push(v[1]),O++))},_simplifyPoints:function(){for(var s=this._parts,l=this.options.smoothFactor,u=0,v=s.length;u<v;u++)s[u]=xt(s[u],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,l){var u,v,_,z,B,O,N=this._clickTolerance();if(this._pxBounds&&this._pxBounds.contains(s))for(u=0,z=this._parts.length;u<z;u++)for(v=0,_=(B=(O=this._parts[u]).length)-1;v<B;_=v++)if((l||0!==v)&&Vt(s,O[_],O[v])<=N)return!0;return!1}});ve._flat=Qt;var Je=ve.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(this._map)return et(this._defaultShape(),this._map.options.crs);throw new Error("Must add layer to map before using getCenter()")},_convertLatLngs:function(l){var u=(l=ve.prototype._convertLatLngs.call(this,l)).length;return 2<=u&&l[0]instanceof mt&&l[0].equals(l[u-1])&&l.pop(),l},_setLatLngs:function(s){ve.prototype._setLatLngs.call(this,s),wt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return(wt(this._latlngs[0])?this._latlngs:this._latlngs[0])[0]},_clipPoints:function(){var l=this._renderer._bounds,s=new st(s=this.options.weight,s);if(l=new At(l.min.subtract(s),l.max.add(s)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(l))if(this.options.noClip)this._parts=this._rings;else for(var u,v=0,_=this._rings.length;v<_;v++)(u=it(this._rings[v],l,!0)).length&&this._parts.push(u)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var l,u,v,_,z,B,O,N,U=!1;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(_=0,O=this._parts.length;_<O;_++)for(z=0,B=(N=(l=this._parts[_]).length)-1;z<N;B=z++)(u=l[z]).y>s.y!=(v=l[B]).y>s.y&&s.x<(v.x-u.x)*(s.y-u.y)/(v.y-u.y)+u.x&&(U=!U);return U||ve.prototype._containsPoint.call(this,s,!0)}}),be=xe.extend({initialize:function(s,l){_t(this,l),this._layers={},s&&this.addData(s)},addData:function(s){var l,u,v,_=vt(s)?s:s.features;if(_){for(l=0,u=_.length;l<u;l++)((v=_[l]).geometries||v.geometry||v.features||v.coordinates)&&this.addData(v);return this}var z,B=this.options;return B.filter&&!B.filter(s)||!(z=zi(s,B))?this:(z.feature=Oi(s),z.defaultOptions=z.options,this.resetStyle(z),B.onEachFeature&&B.onEachFeature(s,z),this.addLayer(z))},resetStyle:function(s){return void 0===s?this.eachLayer(this.resetStyle,this):(s.options=ht({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(l){this._setLayerStyle(l,s)},this)},_setLayerStyle:function(s,l){s.setStyle&&("function"==typeof l&&(l=l(s.feature)),s.setStyle(l))}});function zi(s,l){var u,v,_,z,B="Feature"===s.type?s.geometry:s,O=B?B.coordinates:null,N=[],U=l&&l.pointToLayer,J=l&&l.coordsToLatLng||ea;if(!O&&!B)return null;switch(B.type){case"Point":return na(U,s,u=J(O),l);case"MultiPoint":for(_=0,z=O.length;_<z;_++)u=J(O[_]),N.push(na(U,s,u,l));return new xe(N);case"LineString":case"MultiLineString":return v=Ii(O,"LineString"===B.type?0:1,J),new ve(v,l);case"Polygon":case"MultiPolygon":return v=Ii(O,"Polygon"===B.type?1:2,J),new Je(v,l);case"GeometryCollection":for(_=0,z=B.geometries.length;_<z;_++){var rt=zi({geometry:B.geometries[_],type:"Feature",properties:s.properties},l);rt&&N.push(rt)}return new xe(N);case"FeatureCollection":for(_=0,z=B.features.length;_<z;_++){var lt=zi(B.features[_],l);lt&&N.push(lt)}return new xe(N);default:throw new Error("Invalid GeoJSON object.")}}function na(s,l,u,v){return s?s(l,u):new Mi(u,v&&v.markersInheritOptions&&v)}function ea(s){return new mt(s[1],s[0],s[2])}function Ii(s,l,u){for(var v,_=[],z=0,B=s.length;z<B;z++)v=l?Ii(s[z],l-1,u):(u||ea)(s[z]),_.push(v);return _}function ia(s,l){return void 0!==(s=ut(s)).alt?[Kt(s.lng,l),Kt(s.lat,l),Kt(s.alt,l)]:[Kt(s.lng,l),Kt(s.lat,l)]}function Ei(s,l,u,v){for(var _=[],z=0,B=s.length;z<B;z++)_.push(l?Ei(s[z],wt(s[z])?0:l-1,u,v):ia(s[z],v));return!l&&u&&0<_.length&&_.push(_[0].slice()),_}function Qe(s,l){return s.feature?ht({},s.feature,{geometry:l}):Oi(l)}function Oi(s){return"Feature"===s.type||"FeatureCollection"===s.type?s:{type:"Feature",properties:{},geometry:s}}function oa(s,l){return new be(s,l)}Mi.include(pe={toGeoJSON:function(s){return Qe(this,{type:"Point",coordinates:ia(this.getLatLng(),s)})}}),ta.include(pe),Ti.include(pe),ve.include({toGeoJSON:function(s){var l=!wt(this._latlngs);return Qe(this,{type:(l?"Multi":"")+"LineString",coordinates:Ei(this._latlngs,l?1:0,!1,s)})}}),Je.include({toGeoJSON:function(v){var l=!wt(this._latlngs),u=l&&!wt(this._latlngs[0]);return v=Ei(this._latlngs,u?2:l?1:0,!0,v),Qe(this,{type:(u?"Multi":"")+"Polygon",coordinates:v=l?v:[v]})}}),$e.include({toMultiPoint:function(s){var l=[];return this.eachLayer(function(u){l.push(u.toGeoJSON(s).geometry.coordinates)}),Qe(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(s){var l,u,v=this.feature&&this.feature.geometry&&this.feature.geometry.type;return"MultiPoint"===v?this.toMultiPoint(s):(l="GeometryCollection"===v,u=[],this.eachLayer(function(_){_.toGeoJSON&&(_=_.toGeoJSON(s),l?u.push(_.geometry):"FeatureCollection"===(_=Oi(_)).type?u.push.apply(u,_.features):u.push(_))}),l?Qe(this,{geometries:u,type:"GeometryCollection"}):{type:"FeatureCollection",features:u})}}),Ri=oa;var Bi=$t.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,l,u){this._url=s,this._bounds=Ct(l),_t(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Pt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&he(this._image),this},bringToBack:function(){return this._map&&Gt(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=Ct(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s="IMG"===this._url.tagName,l=this._image=s?this._url:pt("img");nt(l,"leaflet-image-layer"),this._zoomAnimated&&nt(l,"leaflet-zoom-animated"),this.options.className&&nt(l,this.options.className),l.onselectstart=kt,l.onmousemove=kt,l.onload=W(this.fire,this,"load"),l.onerror=W(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(l.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s?this._url=l.src:(l.src=this._url,l.alt=this.options.alt)},_animateZoom:function(u){var l=this._map.getZoomScale(u.zoom);u=this._map._latLngBoundsToNewLayerBounds(this._bounds,u.zoom,u.center).min,ce(this._image,u,l)},_reset:function(){var s=this._image,l=new At(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=l.getSize();zt(s,l.min),s.style.width=u.x+"px",s.style.height=u.y+"px"},_updateOpacity:function(){qt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),ra=Bi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s="VIDEO"===this._url.tagName,l=this._image=s?this._url:pt("video");if(nt(l,"leaflet-image-layer"),this._zoomAnimated&&nt(l,"leaflet-zoom-animated"),this.options.className&&nt(l,this.options.className),l.onselectstart=kt,l.onmousemove=kt,l.onloadeddata=W(this.fire,this,"load"),s){for(var u=l.getElementsByTagName("source"),v=[],_=0;_<u.length;_++)v.push(u[_].src);this._url=0<u.length?v:[l.src]}else{vt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var z=0;z<this._url.length;z++){var B=pt("source");B.src=this._url[z],l.appendChild(B)}}}}),la=Bi.extend({_initImage:function(){var s=this._image=this._url;nt(s,"leaflet-image-layer"),this._zoomAnimated&&nt(s,"leaflet-zoom-animated"),this.options.className&&nt(s,this.options.className),s.onselectstart=kt,s.onmousemove=kt}}),de=$t.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,l){s&&(s instanceof mt||vt(s))?(this._latlng=ut(s),_t(this,l)):(_t(this,s),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(s){return(s=arguments.length?s:this._source._map).hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&qt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&qt(this._container,1),this.bringToFront(),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(qt(this._container,0),this._removeTimeout=setTimeout(W(Pt,void 0,this._container),200)):Pt(this._container),this.options.interactive&&(Mt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=ut(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&he(this._container),this},bringToBack:function(){return this._map&&Gt(this._container),this},_prepareOpen:function(s){if(!(u=this._source)._map)return!1;if(u instanceof xe){var l,u=null,v=this._source._layers;for(l in v)if(v[l]._map){u=v[l];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else{if(!u.getBounds)throw new Error("Unable to get source layer LatLng.");s=u.getBounds().getCenter()}return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,l="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof l)s.innerHTML=l;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){var s,l,u;this._map&&(l=this._map.latLngToLayerPoint(this._latlng),s=at(this.options.offset),u=this._getAnchor(),this._zoomAnimated?zt(this._container,l.add(u)):s=s.add(l).add(u),l=this._containerBottom=-s.y,u=this._containerLeft=-Math.round(this._containerWidth/2)+s.x,this._container.style.bottom=l+"px",this._container.style.left=u+"px")},_getAnchor:function(){return[0,0]}}),Xi=(M.include({_initOverlay:function(s,l,u,v){var _=l;return _ instanceof s||(_=new s(v).setContent(l)),u&&_.setLatLng(u),_}}),$t.include({_initOverlay:function(s,l,u,v){var _=u;return _ instanceof s?(_t(_,v),_._source=this):(_=l&&!v?l:new s(v,this)).setContent(u),_}}),de.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return!(s=arguments.length?s:this._source._map).hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,de.prototype.openOn.call(this,s)},onAdd:function(s){de.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Me||this._source.on("preclick",f))},onRemove:function(s){de.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Me||this._source.off("preclick",f))},getEvents:function(){var s=de.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",l=this._container=pt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=pt("div",s+"-content-wrapper",l);this._contentNode=pt("div",s+"-content",u),y(l),x(this._contentNode),n(l,"contextmenu",f),this._tipContainer=pt("div",s+"-tip-container",l),this._tip=pt("div",s+"-tip",this._tipContainer),this.options.closeButton&&((u=this._closeButton=pt("a",s+"-close-button",l)).setAttribute("role","button"),u.setAttribute("aria-label","Close popup"),u.href="#close",u.innerHTML='<span aria-hidden="true">&#215;</span>',n(u,"click",function(v){b(v),this.close()},this))},_updateLayout:function(){var s=this._contentNode,l=s.style,u=(l.width="",l.whiteSpace="nowrap",s.offsetWidth),v=(u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),l.width=u+1+"px",l.whiteSpace="",l.height="",u=s.offsetHeight,this.options.maxHeight);(v&&v<u?(l.height=v+"px",nt):Mt)(s,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){l=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);var u=this._getAnchor();zt(this._container,l.add(u))},_adjustPan:function(){var s,l,u,v,_,z,B,O;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning?this._autopanning=!1:(s=this._map,l=parseInt(Ye(this._container,"marginBottom"),10)||0,O=this._containerWidth,(u=new st(this._containerLeft,-(l=this._container.offsetHeight+l)-this._containerBottom))._add(ae(this._container)),u=s.layerPointToContainerPoint(u),_=at(this.options.autoPanPadding),v=at(this.options.autoPanPaddingTopLeft||_),_=at(this.options.autoPanPaddingBottomRight||_),z=s.getSize(),B=0,u.x+O+_.x>z.x&&(B=u.x+O-z.x+_.x),u.x-B-v.x<(O=0)&&(B=u.x-v.x),u.y+l+_.y>z.y&&(O=u.y+l-z.y+_.y),u.y-O-v.y<0&&(O=u.y-v.y),(B||O)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([B,O]))))},_getAnchor:function(){return at(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}})),Di=(M.mergeOptions({closePopupOnClick:!0}),M.include({openPopup:function(s,l,u){return this._initOverlay(Xi,s,l,u).openOn(this),this},closePopup:function(s){return(s=arguments.length?s:this._popup)&&s.close(),this}}),$t.include({bindPopup:function(s,l){return this._popup=this._initOverlay(Xi,this._popup,s,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof xe||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){var l;this._popup&&this._map&&(k(s),this._popup._source!==(l=s.layer||s.target)||l instanceof Me?(this._popup._source=l,this.openPopup(s.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng))},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){13===s.originalEvent.keyCode&&this._openPopup(s)}}),de.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){de.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){de.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=de.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){this._contentNode=this._container=pt("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide")),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+ct(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var l,u=this._container,v=(U=this._map).latLngToContainerPoint(U.getCenter()),U=U.layerPointToContainerPoint(s),_=this.options.direction,z=u.offsetWidth,B=u.offsetHeight,O=at(this.options.offset),N=this._getAnchor();U="top"===_?(l=z/2,B):"bottom"===_?(l=z/2,0):(l="center"===_?z/2:"right"===_?0:"left"===_?z:U.x<v.x?(_="right",0):(_="left",z+2*(O.x+N.x)),B/2),s=s.subtract(at(l,U,!0)).add(O).add(N),Mt(u,"leaflet-tooltip-right"),Mt(u,"leaflet-tooltip-left"),Mt(u,"leaflet-tooltip-top"),Mt(u,"leaflet-tooltip-bottom"),nt(u,"leaflet-tooltip-"+_),zt(u,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&qt(this._container,s)},_animateZoom:function(s){s=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),this._setPosition(s)},_getAnchor:function(){return at(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}})),ha=(M.include({openTooltip:function(s,l,u){return this._initOverlay(Di,s,l,u).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),$t.include({bindTooltip:function(s,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Di,this._tooltip,s,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){var l,u;!s&&this._tooltipHandlersAdded||(l=s?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[l](u),this._tooltipHandlersAdded=!s)},openTooltip:function(s){return this._tooltip&&(this instanceof xe||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var l="function"==typeof s.getElement&&s.getElement();l&&(n(l,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),n(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){(s="function"==typeof s.getElement&&s.getElement())&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){var l;this._tooltip&&this._map&&(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag?(this._openOnceFlag=!0,(l=this)._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(s)})):(this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)))},_moveTooltip:function(s){var l=s.latlng;this._tooltip.options.sticky&&s.originalEvent&&(s=this._map.mouseEventToContainerPoint(s.originalEvent),s=this._map.containerPointToLayerPoint(s),l=this._map.layerPointToLatLng(s)),this._tooltip.setLatLng(l)}}),Ke.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){l=l&&"DIV"===l.tagName?l:document.createElement("div");var u=this.options;return u.html instanceof Element?(Le(l),l.appendChild(u.html)):l.innerHTML=!1!==u.html?u.html:"",u.bgPos&&(u=at(u.bgPos),l.style.backgroundPosition=-u.x+"px "+-u.y+"px"),this._setIconStyles(l,"icon"),l},createShadow:function(){return null}}));Ke.Default=mi;var xi=$t.extend({options:{tileSize:256,opacity:1,updateWhenIdle:tt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){_t(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),Pt(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(he(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){var s;return this._map&&(this._removeAllTiles(),(s=this._clampZoom(this._map.getZoom()))!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()),this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Ie(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof st?s:new st(s,s)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var l,u=this.getPane().children,v=-s(-1/0,1/0),_=0,z=u.length;_<z;_++)l=u[_].style.zIndex,u[_]!==this._container&&l&&(v=s(v,+l));isFinite(v)&&(this.options.zIndex=v+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!tt.ielt9){qt(this._container,this.options.opacity);var s,l=+new Date,u=!1,v=!1;for(s in this._tiles){var _,z=this._tiles[s];z.current&&z.loaded&&(_=Math.min(1,(l-z.loaded)/200),qt(z.el,_),_<1?u=!0:(z.active?v=!0:this._onOpaqueTile(z),z.active=!0))}v&&!this._noPrune&&this._pruneTiles(),u&&(bt(this._fadeFrame),this._fadeFrame=Wt(this._updateOpacity,this))}},_onOpaqueTile:kt,_initContainer:function(){this._container||(this._container=pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,l=this.options.maxZoom;if(void 0!==s){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===s?(this._levels[u].el.style.zIndex=l-Math.abs(s-u),this._onUpdateLevel(u)):(Pt(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var v=this._levels[s],_=this._map;return v||((v=this._levels[s]={}).el=pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=l,v.origin=_.project(_.unproject(_.getPixelOrigin()),s).round(),v.zoom=s,this._setZoomTransform(v,_.getCenter(),_.getZoom()),this._onCreateLevel(v)),this._level=v}},_onUpdateLevel:kt,_onRemoveLevel:kt,_onCreateLevel:kt,_pruneTiles:function(){if(this._map){var s,l,u,v=this._map.getZoom();if(v>this.options.maxZoom||v<this.options.minZoom)this._removeAllTiles();else{for(s in this._tiles)(u=this._tiles[s]).retain=u.current;for(s in this._tiles)(u=this._tiles[s]).current&&!u.active&&(this._retainParent((l=u.coords).x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2));for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}}},_removeTilesAtZoom:function(s){for(var l in this._tiles)this._tiles[l].coords.z===s&&this._removeTile(l)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)Pt(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(_,z,B,v){B-=1;var O=((O=new st(+(_=Math.floor(_/2)),+(z=Math.floor(z/2)))).z=B,this._tileCoordsToKey(O));return(O=this._tiles[O])&&O.active?O.retain=!0:(O&&O.loaded&&(O.retain=!0),v<B&&this._retainParent(_,z,B,v))},_retainChildren:function(s,l,u,v){for(var _=2*s;_<2*s+2;_++)for(var z=2*l;z<2*l+2;z++){var B=((B=new st(_,z)).z=u+1,this._tileCoordsToKey(B));(B=this._tiles[B])&&B.active?B.retain=!0:(B&&B.loaded&&(B.retain=!0),u+1<v&&this._retainChildren(_,z,u+1,v))}},_resetView:function(s){s=s&&(s.pinch||s.flyTo),this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var l=this.options;return void 0!==l.minNativeZoom&&s<l.minNativeZoom?l.minNativeZoom:void 0!==l.maxNativeZoom&&l.maxNativeZoom<s?l.maxNativeZoom:s},_setView:function(s,l,u,v){var _=Math.round(l);_=void 0!==this.options.maxZoom&&_>this.options.maxZoom||void 0!==this.options.minZoom&&_<this.options.minZoom?void 0:this._clampZoom(_),v&&!(this.options.updateWhenZooming&&_!==this._tileZoom)||(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==_&&this._update(s),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(s,l)},_setZoomTransforms:function(s,l){for(var u in this._levels)this._setZoomTransform(this._levels[u],s,l)},_setZoomTransform:function(s,_,u){var v=this._map.getZoomScale(u,s.zoom);_=s.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(_,u)).round(),tt.any3d?ce(s.el,_,v):zt(s.el,_)},_resetGrid:function(){var s=this._map,l=s.options.crs,u=this._tileSize=this.getTileSize(),v=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,l.wrapLng[0]],v).x/u.x),Math.ceil(s.project([0,l.wrapLng[1]],v).x/u.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([l.wrapLat[0],0],v).y/u.x),Math.ceil(s.project([l.wrapLat[1],0],v).y/u.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(u){var l=(v=this._map)._animatingZoom?Math.max(v._animateToZoom,v.getZoom()):v.getZoom(),v=(l=v.getZoomScale(l,this._tileZoom),u=v.project(u,this._tileZoom).floor(),v.getSize().divideBy(2*l));return new At(u.subtract(v),u.add(v))},_update:function(s){if(l=this._map){var u=this._clampZoom(l.getZoom());if(void 0===s&&(s=l.getCenter()),void 0!==this._tileZoom){var v,l=this._getTiledPixelBounds(s),_=this._pxBoundsToTileRange(l),z=_.getCenter(),B=[],O=(l=this.options.keepBuffer,new At(_.getBottomLeft().subtract([l,-l]),_.getTopRight().add([l,-l])));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(v in this._tiles){var N=this._tiles[v].coords;N.z===this._tileZoom&&O.contains(new st(N.x,N.y))||(this._tiles[v].current=!1)}if(1<Math.abs(u-this._tileZoom))this._setView(s,u);else{for(var U=_.min.y;U<=_.max.y;U++)for(var J=_.min.x;J<=_.max.x;J++){var rt,lt=new st(J,U);lt.z=this._tileZoom,this._isValidTile(lt)&&((rt=this._tiles[this._tileCoordsToKey(lt)])?rt.current=!0:B.push(lt))}if(B.sort(function(Ut,ee){return Ut.distanceTo(z)-ee.distanceTo(z)}),0!==B.length){this._loading||(this._loading=!0,this.fire("loading"));var Tt=document.createDocumentFragment();for(J=0;J<B.length;J++)this._addTile(B[J],Tt);this._level.el.appendChild(Tt)}}}}},_isValidTile:function(s){var l=this._map.options.crs;if(!l.infinite){var u=this._globalTileRange;if(!l.wrapLng&&(s.x<u.min.x||s.x>u.max.x)||!l.wrapLat&&(s.y<u.min.y||s.y>u.max.y))return!1}return!this.options.bounds||(l=this._tileCoordsToBounds(s),Ct(this.options.bounds).overlaps(l))},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var l=this._map,v=this.getTileSize(),u=s.scaleBy(v);return v=u.add(v),[l.unproject(u,s.z),l.unproject(v,s.z)]},_tileCoordsToBounds:function(s){return s=new Bt((s=this._tileCoordsToNwSe(s))[0],s[1]),this.options.noWrap?s:this._map.wrapLatLngBounds(s)},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(l){var u=new st(+(l=l.split(":"))[0],+l[1]);return u.z=+l[2],u},_removeTile:function(s){var l=this._tiles[s];l&&(Pt(l.el),delete this._tiles[s],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){nt(s,"leaflet-tile");var l=this.getTileSize();s.style.width=l.x+"px",s.style.height=l.y+"px",s.onselectstart=kt,s.onmousemove=kt,tt.ielt9&&this.options.opacity<1&&qt(s,this.options.opacity)},_addTile:function(s,l){var u=this._getTilePos(s),v=this._tileCoordsToKey(s),_=this.createTile(this._wrapCoords(s),W(this._tileReady,this,s));this._initTile(_),this.createTile.length<2&&Wt(W(this._tileReady,this,s,null,_)),zt(_,u),this._tiles[v]={el:_,coords:s,current:!0},l.appendChild(_),this.fire("tileloadstart",{tile:_,coords:s})},_tileReady:function(s,l,u){l&&this.fire("tileerror",{error:l,tile:u,coords:s});var v=this._tileCoordsToKey(s);(u=this._tiles[v])&&(u.loaded=+new Date,this._map._fadeAnimated?(qt(u.el,0),bt(this._fadeFrame),this._fadeFrame=Wt(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),l||(nt(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),tt.ielt9||!this._map._fadeAnimated?Wt(this._pruneTiles,this):setTimeout(W(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var l=new st(this._wrapX?se(s.x,this._wrapX):s.x,this._wrapY?se(s.y,this._wrapY):s.y);return l.z=s.z,l},_pxBoundsToTileRange:function(s){var l=this.getTileSize();return new At(s.min.unscaleBy(l).floor(),s.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}}),ti=xi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,l){this._url=s,(l=_t(this,l)).detectRetina&&tt.retina&&0<l.maxZoom?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),"string"==typeof l.subdomains&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,l){return this._url===s&&void 0===l&&(l=!0),this._url=s,l||this.redraw(),this},createTile:function(s,l){var u=document.createElement("img");return n(u,"load",W(this._tileOnLoad,this,l,u)),n(u,"error",W(this._tileOnError,this,l,u)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(u.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(s),u},getTileUrl:function(s){var l={r:tt.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(s=this._globalTileRange.max.y-s.y,this.options.tms&&(l.y=s),l["-y"]=s),ai(this._url,ht(l,this.options))},_tileOnLoad:function(s,l){tt.ielt9?setTimeout(W(s,this,null,l),0):s(null,l)},_tileOnError:function(s,l,u){var v=this.options.errorTileUrl;v&&l.getAttribute("src")!==v&&(l.src=v),s(u,l)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom;return(s=this.options.zoomReverse?this.options.maxZoom-s:s)+this.options.zoomOffset},_getSubdomain:function(s){return s=Math.abs(s.x+s.y)%this.options.subdomains.length,this.options.subdomains[s]},_abortLoading:function(){var s,l,u;for(s in this._tiles)this._tiles[s].coords.z!==this._tileZoom&&((u=this._tiles[s].el).onload=kt,u.onerror=kt,u.complete||(u.src=R,l=this._tiles[s].coords,Pt(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:l})))},_removeTile:function(s){var l=this._tiles[s];if(l)return l.el.setAttribute("src",R),xi.prototype._removeTile.call(this,s)},_tileReady:function(s,l,u){if(this._map&&(!u||u.getAttribute("src")!==R))return xi.prototype._tileReady.call(this,s,l,u)}});function ca(s,l){return new ti(s,l)}var da=ti.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(_,l){this._url=_;var u,v=ht({},this.defaultWmsParams);for(u in l)u in this.options||(v[u]=l[u]);_=(l=_t(this,l)).detectRetina&&tt.retina?2:1;var z=this.getTileSize();v.width=z.x*_,v.height=z.y*_,this.wmsParams=v},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code,ti.prototype.onAdd.call(this,s)},getTileUrl:function(s){var l=this._tileCoordsToNwSe(s),u=(l=(u=Yt((u=this._crs).project(l[0]),u.project(l[1]))).min,u.max);return l=(1.3<=this._wmsVersion&&this._crs===aa?[l.y,l.x,u.y,u.x]:[l.x,l.y,u.x,u.y]).join(","),(u=ti.prototype.getTileUrl.call(this,s))+ii(this.wmsParams,u,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+l},setParams:function(s,l){return ht(this.wmsParams,s),l||this.redraw(),this}});ti.WMS=da,ca.wms=function(s,l){return new da(s,l)};var ye=$t.extend({options:{padding:.1},initialize:function(s){_t(this,s),ct(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,l){var u=this._map.getZoomScale(l,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),v=this._map.project(this._center,l);_=_.multiplyBy(-u).add(v).subtract(this._map._getNewPixelOrigin(s,l)),tt.any3d?ce(this._container,_,u):zt(this._container,_)},_reset:function(){for(var s in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,l=this._map.getSize(),u=this._map.containerPointToLayerPoint(l.multiplyBy(-s)).round();this._bounds=new At(u,u.add(l.multiplyBy(1+2*s)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ua=ye.extend({options:{tolerance:0},getEvents:function(){var s=ye.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ye.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");n(s,"mousemove",this._onMouseMove,this),n(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),n(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){bt(this._redrawRequest),delete this._ctx,Pt(this._container),r(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var s in this._redrawBounds=null,this._layers)this._layers[s]._update();this._redraw()}},_update:function(){var s,l,u,v;this._map._animatingZoom&&this._bounds||(ye.prototype._update.call(this),l=this._container,u=(s=this._bounds).getSize(),v=tt.retina?2:1,zt(l,s.min),l.width=v*u.x,l.height=v*u.y,l.style.width=u.x+"px",l.style.height=u.y+"px",tt.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update"))},_reset:function(){ye.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),s=(this._layers[ct(s)]=s)._order={layer:s,prev:this._drawLast,next:null},this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var l=(u=s._order).next,u=u.prev;l?l.prev=u:this._drawLast=u,u?u.next=l:this._drawFirst=l,delete s._order,delete this._layers[ct(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if("string"==typeof s.options.dashArray){for(var l,u=s.options.dashArray.split(/[, ]+/),v=[],_=0;_<u.length;_++){if(l=Number(u[_]),isNaN(l))return;v.push(l)}s.options._dashArray=v}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||Wt(this._redraw,this))},_extendRedrawBounds:function(s){var l;s._pxBounds&&(l=(s.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new At,this._redrawBounds.extend(s._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(s._pxBounds.max.add([l,l])))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s,l=this._redrawBounds;l?(s=l.getSize(),this._ctx.clearRect(l.min.x,l.min.y,s.x,s.y)):(this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore())},_draw:function(){var s,l,u=this._redrawBounds;this._ctx.save(),u&&(l=u.getSize(),this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,l.x,l.y),this._ctx.clip()),this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)s=v.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,l){if(this._drawing){var u,v,_,z,B=s._parts,O=B.length,N=this._ctx;if(O){for(N.beginPath(),u=0;u<O;u++){for(v=0,_=B[u].length;v<_;v++)N[v?"lineTo":"moveTo"]((z=B[u][v]).x,z.y);l&&N.closePath()}this._fillStroke(N,s)}}},_updateCircle:function(s){var l,u,v,_;this._drawing&&!s._empty()&&(l=s._point,u=this._ctx,v=Math.max(Math.round(s._radius),1),1!=(_=(Math.max(Math.round(s._radiusY),1)||v)/v)&&(u.save(),u.scale(1,_)),u.beginPath(),u.arc(l.x,l.y/_,v,0,2*Math.PI,!1),1!=_&&u.restore(),this._fillStroke(u,s))},_fillStroke:function(s,l){var u=l.options;u.fill&&(s.globalAlpha=u.fillOpacity,s.fillStyle=u.fillColor||u.color,s.fill(u.fillRule||"evenodd")),u.stroke&&0!==u.weight&&(s.setLineDash&&s.setLineDash(l.options&&l.options._dashArray||[]),s.globalAlpha=u.opacity,s.lineWidth=u.weight,s.strokeStyle=u.color,s.lineCap=u.lineCap,s.lineJoin=u.lineJoin,s.stroke())},_onClick:function(s){for(var l,u,v=this._map.mouseEventToLayerPoint(s),_=this._drawFirst;_;_=_.next)(l=_.layer).options.interactive&&l._containsPoint(v)&&(("click"===s.type||"preclick"===s.type)&&this._map._draggableMoved(l)||(u=l));this._fireEvent(!!u&&[u],s)},_onMouseMove:function(s){var l;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(l=this._map.mouseEventToLayerPoint(s),this._handleMouseHover(s,l))},_handleMouseOut:function(s){var l=this._hoveredLayer;l&&(Mt(this._container,"leaflet-interactive"),this._fireEvent([l],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,l){if(!this._mouseHoverThrottled){for(var u,v,_=this._drawFirst;_;_=_.next)(u=_.layer).options.interactive&&u._containsPoint(l)&&(v=u);v!==this._hoveredLayer&&(this._handleMouseOut(s),v&&(nt(this._container,"leaflet-interactive"),this._fireEvent([v],s,"mouseover"),this._hoveredLayer=v)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],s),this._mouseHoverThrottled=!0,setTimeout(W(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,l,u){this._map._fireDOMEvent(l,u||l.type,s)},_bringToFront:function(s){var l,u,v=s._order;v&&(u=v.prev,(l=v.next)&&((l.prev=u)?u.next=l:l&&(this._drawFirst=l),v.prev=this._drawLast,(this._drawLast.next=v).next=null,this._drawLast=v,this._requestRedraw(s)))},_bringToBack:function(s){var l,u,v=s._order;v&&(l=v.next,(u=v.prev)&&((u.next=l)?l.prev=u:u&&(this._drawLast=u),v.prev=null,v.next=this._drawFirst,this._drawFirst.prev=v,this._drawFirst=v,this._requestRedraw(s)))}});function ga(s){return tt.canvas?new ua(s):null}var vi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Fi=(bi={_initContainer:function(){this._container=pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ye.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var l=s._container=vi("shape");nt(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",s._path=vi("path"),l.appendChild(s._path),this._updateStyle(s),this._layers[ct(s)]=s},_addPath:function(s){var l=s._container;this._container.appendChild(l),s.options.interactive&&s.addInteractiveTarget(l)},_removePath:function(s){var l=s._container;Pt(l),s.removeInteractiveTarget(l),delete this._layers[ct(s)]},_updateStyle:function(s){var l=s._stroke,u=s._fill,v=s.options,_=s._container;_.stroked=!!v.stroke,_.filled=!!v.fill,v.stroke?(l=l||(s._stroke=vi("stroke")),_.appendChild(l),l.weight=v.weight+"px",l.color=v.color,l.opacity=v.opacity,l.dashStyle=v.dashArray?vt(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):"",l.endcap=v.lineCap.replace("butt","flat"),l.joinstyle=v.lineJoin):l&&(_.removeChild(l),s._stroke=null),v.fill?(u=u||(s._fill=vi("fill")),_.appendChild(u),u.color=v.fillColor||v.color,u.opacity=v.fillOpacity):u&&(_.removeChild(u),s._fill=null)},_updateCircle:function(s){var l=s._point.round(),u=Math.round(s._radius),v=Math.round(s._radiusY||u);this._setPath(s,s._empty()?"M0 0":"AL "+l.x+","+l.y+" "+u+","+v+" 0,23592600")},_setPath:function(s,l){s._path.v=l},_bringToFront:function(s){he(s._container)},_bringToBack:function(s){Gt(s._container)}},tt.vml?vi:_e),yi=ye.extend({_initContainer:function(){this._container=Fi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Fi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Pt(this._container),r(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){var s,l,u;this._map._animatingZoom&&this._bounds||(ye.prototype._update.call(this),l=(s=this._bounds).getSize(),u=this._container,this._svgSize&&this._svgSize.equals(l)||(this._svgSize=l,u.setAttribute("width",l.x),u.setAttribute("height",l.y)),zt(u,s.min),u.setAttribute("viewBox",[s.min.x,s.min.y,l.x,l.y].join(" ")),this.fire("update"))},_initPath:function(s){var l=s._path=Fi("path");s.options.className&&nt(l,s.options.className),s.options.interactive&&nt(l,"leaflet-interactive"),this._updateStyle(s),this._layers[ct(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){Pt(s._path),s.removeInteractiveTarget(s._path),delete this._layers[ct(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(u){var l=u._path;u=u.options,l&&(u.stroke?(l.setAttribute("stroke",u.color),l.setAttribute("stroke-opacity",u.opacity),l.setAttribute("stroke-width",u.weight),l.setAttribute("stroke-linecap",u.lineCap),l.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?l.setAttribute("stroke-dasharray",u.dashArray):l.removeAttribute("stroke-dasharray"),u.dashOffset?l.setAttribute("stroke-dashoffset",u.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),u.fill?(l.setAttribute("fill",u.fillColor||u.color),l.setAttribute("fill-opacity",u.fillOpacity),l.setAttribute("fill-rule",u.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(s,l){this._setPath(s,si(s._parts,l))},_updateCircle:function(s){var v=s._point,l=Math.max(Math.round(s._radius),1),u="a"+l+","+(Math.max(Math.round(s._radiusY),1)||l)+" 0 1,0 ";v=s._empty()?"M0 0":"M"+(v.x-l)+","+v.y+u+2*l+",0 "+u+2*-l+",0 ",this._setPath(s,v)},_setPath:function(s,l){s._path.setAttribute("d",l)},_bringToFront:function(s){he(s._path)},_bringToBack:function(s){Gt(s._path)}});function pa(s){return tt.svg||tt.vml?new yi(s):null}tt.vml&&yi.include(bi),M.include({getRenderer:function(s){return s=(s=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer)||(this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(s){var l;return"overlayPane"!==s&&void 0!==s&&(void 0===(l=this._paneRenderers[s])&&(l=this._createRenderer({pane:s}),this._paneRenderers[s]=l),l)},_createRenderer:function(s){return this.options.preferCanvas&&ga(s)||pa(s)}});var fa=Je.extend({initialize:function(s,l){Je.prototype.initialize.call(this,this._boundsToLatLngs(s),l)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return[(s=Ct(s)).getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});yi.create=Fi,yi.pointsToPath=si,be.geometryToLayer=zi,be.coordsToLatLng=ea,be.coordsToLatLngs=Ii,be.latLngToCoords=ia,be.latLngsToCoords=Ei,be.getFeature=Qe,be.asFeature=Oi,M.mergeOptions({boxZoom:!0}),we=G.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){n(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){r(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Pt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||1!==s.which&&1!==s.button)return!1;this._clearDeferredResetState(),this._resetState(),Ce(),fi(),this._startPoint=this._map.mouseEventToContainerPoint(s),n(document,{contextmenu:k,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=pt("div","leaflet-zoom-box",this._container),nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var u=(l=new At(this._point,this._startPoint)).getSize();zt(this._box,l.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Pt(this._box),Mt(this._container,"leaflet-crosshair")),Ze(),A(),r(document,{contextmenu:k,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){1!==s.which&&1!==s.button||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(W(this._resetState,this),0),s=new Bt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})))},_onKeyDown:function(s){27===s.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}}),M.addInitHook("addHandler","boxZoom",we),M.mergeOptions({doubleClickZoom:!0}),Yi=G.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var l=this._map,v=l.getZoom(),u=l.options.zoomDelta;v=s.originalEvent.shiftKey?v-u:v+u,"center"===l.options.doubleClickZoom?l.setZoom(v):l.setZoomAround(s.containerPoint,v)}});var Te=(M.addInitHook("addHandler","doubleClickZoom",Yi),M.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),G.extend({addHooks:function(){var s;this._draggable||(this._draggable=new Q((s=this._map)._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))),nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Mt(this._map._container,"leaflet-grab"),Mt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s,l=this._map;l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(s=Ct(this._map.options.maxBounds),this._offsetLimit=Yt(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null,l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){var l,u;this._map.options.inertia&&(l=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(u),this._times.push(l),this._prunePositions(l)),this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;1<this._positions.length&&50<s-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,l){return s-(s-l)*this._viscosity},_onPreDragLimit:function(){var s,l;this._viscosity&&this._offsetLimit&&((s=this._draggable._newPos.subtract(this._draggable._startPos)).x<(l=this._offsetLimit).min.x&&(s.x=this._viscousLimit(s.x,l.min.x)),s.y<l.min.y&&(s.y=this._viscousLimit(s.y,l.min.y)),s.x>l.max.x&&(s.x=this._viscousLimit(s.x,l.max.x)),s.y>l.max.y&&(s.y=this._viscousLimit(s.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(s))},_onPreDragWrap:function(){var _=this._worldWidth,s=Math.round(_/2),l=this._initialWorldOffset,u=((v=this._draggable._newPos.x)-s+l)%_+s-l,v=(v+s+l)%_-s-l;_=Math.abs(u+l)<Math.abs(v+l)?u:v,this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=_},_onDragEnd:function(s){var l,u,v,_,z=this._map,B=z.options,O=!B.inertia||s.noInertia||this._times.length<2;z.fire("dragend",s),!O&&(this._prunePositions(+new Date),O=(s=(s=this._lastPos.subtract(this._positions[0])).multiplyBy((l=B.easeLinearity)/(O=(this._lastTime-this._times[0])/1e3))).distanceTo([0,0]),u=Math.min(B.inertiaMaxSpeed,O),s=s.multiplyBy(u/O),(_=s.multiplyBy(-(v=u/(B.inertiaDeceleration*l))/2).round()).x||_.y)?(_=z._limitOffset(_,z.options.maxBounds),Wt(function(){z.panBy(_,{duration:v,easeLinearity:l,noMoveStart:!0,animate:!0})})):z.fire("moveend")}})),va=(M.addInitHook("addHandler","dragging",Te),M.mergeOptions({keyboard:!0,keyboardPanDelta:80}),Ni=G.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),n(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),r(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var s,l,u;this._focused||(u=document.body,s=document.documentElement,l=u.scrollTop||s.scrollTop,u=u.scrollLeft||s.scrollLeft,this._map._container.focus(),window.scrollTo(u,l))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){for(var l=this._panKeys={},u=this.keyCodes,v=0,_=u.left.length;v<_;v++)l[u.left[v]]=[-1*s,0];for(v=0,_=u.right.length;v<_;v++)l[u.right[v]]=[s,0];for(v=0,_=u.down.length;v<_;v++)l[u.down[v]]=[0,s];for(v=0,_=u.up.length;v<_;v++)l[u.up[v]]=[0,-1*s]},_setZoomDelta:function(s){for(var l=this._zoomKeys={},u=this.keyCodes,v=0,_=u.zoomIn.length;v<_;v++)l[u.zoomIn[v]]=s;for(v=0,_=u.zoomOut.length;v<_;v++)l[u.zoomOut[v]]=-s},_addHooks:function(){n(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){r(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var l,u,v=s.keyCode,_=this._map;if(v in this._panKeys)_._panAnim&&_._panAnim._inProgress||(u=this._panKeys[v],s.shiftKey&&(u=at(u).multiplyBy(3)),_.options.maxBounds&&(u=_._limitOffset(at(u),_.options.maxBounds)),_.options.worldCopyJump?(l=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(u))),_.panTo(l)):_.panBy(u));else if(v in this._zoomKeys)_.setZoom(_.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[v]);else{if(27!==v||!_._popup||!_._popup.options.closeOnEscapeKey)return;_.closePopup()}k(s)}}}),M.addInitHook("addHandler","keyboard",Ni),M.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),Hi=G.extend({addHooks:function(){n(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){r(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=m(s),l=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date),u=Math.max(l-(+new Date-this._startTime),0),clearTimeout(this._timer),this._timer=setTimeout(W(this._performZoom,this),u),k(s)},_performZoom:function(){var s=this._map,l=s.getZoom(),u=this._map.options.zoomSnap||0,v=(s._stop(),this._delta/(4*this._map.options.wheelPxPerZoomLevel));v=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,u=u?Math.ceil(v/u)*u:v,v=s._limitZoom(l+(0<this._delta?u:-u))-l,this._delta=0,this._startTime=null,v&&("center"===s.options.scrollWheelZoom?s.setZoom(l+v):s.setZoomAround(this._lastMousePos,l+v))}}),M.addInitHook("addHandler","scrollWheelZoom",Hi),M.mergeOptions({tapHold:tt.touchNative&&tt.safari&&tt.mobile,tapTolerance:15}),wi=G.extend({addHooks:function(){n(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){r(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){var l;clearTimeout(this._holdTimeout),1===s.touches.length&&(this._startPos=this._newPos=new st((l=s.touches[0]).clientX,l.clientY),this._holdTimeout=setTimeout(W(function(){this._cancel(),this._isTapValid()&&(n(document,"touchend",b),n(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),600),n(document,"touchend touchcancel contextmenu",this._cancel,this),n(document,"touchmove",this._onMove,this))},_cancelClickPrevent:function s(){r(document,"touchend",b),r(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),r(document,"touchend touchcancel contextmenu",this._cancel,this),r(document,"touchmove",this._onMove,this)},_onMove:function(s){this._newPos=new st((s=s.touches[0]).clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,l){(s=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY}))._simulated=!0,l.target.dispatchEvent(s)}}),M.addInitHook("addHandler","tapHold",wi),M.mergeOptions({touchZoom:tt.touch,bounceAtZoomLimits:!0}),_i=G.extend({addHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),n(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Mt(this._map._container,"leaflet-touch-zoom"),r(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var l,u,v=this._map;!s.touches||2!==s.touches.length||v._animatingZoom||this._zooming||(l=v.mouseEventToContainerPoint(s.touches[0]),u=v.mouseEventToContainerPoint(s.touches[1]),this._centerPoint=v.getSize()._divideBy(2),this._startLatLng=v.containerPointToLatLng(this._centerPoint),"center"!==v.options.touchZoom&&(this._pinchStartLatLng=v.containerPointToLatLng(l.add(u)._divideBy(2))),this._startDist=l.distanceTo(u),this._startZoom=v.getZoom(),this._moved=!1,this._zooming=!0,v._stop(),n(document,"touchmove",this._onTouchMove,this),n(document,"touchend touchcancel",this._onTouchEnd,this),b(s))},_onTouchMove:function(s){if(s.touches&&2===s.touches.length&&this._zooming){var l=this._map,u=l.mouseEventToContainerPoint(s.touches[0]),v=l.mouseEventToContainerPoint(s.touches[1]),_=u.distanceTo(v)/this._startDist;if(this._zoom=l.getScaleZoom(_,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&_<1||this._zoom>l.getMaxZoom()&&1<_)&&(this._zoom=l._limitZoom(this._zoom)),"center"===l.options.touchZoom){if(this._center=this._startLatLng,1==_)return}else{if(u=u._add(v)._divideBy(2)._subtract(this._centerPoint),1==_&&0===u.x&&0===u.y)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(u),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),bt(this._animRequest),v=W(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0),this._animRequest=Wt(v,this,!0),b(s)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,bt(this._animRequest),r(document,"touchmove",this._onTouchMove,this),r(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}}),M.addInitHook("addHandler","touchZoom",_i),M.BoxZoom=we,M.DoubleClickZoom=Yi,M.Drag=Te,M.Keyboard=Ni,M.ScrollWheelZoom=Hi,M.TapHold=wi,M.TouchZoom=_i,V.Bounds=At,V.Browser=tt,V.CRS=Et,V.Canvas=ua,V.Circle=ta,V.CircleMarker=Ti,V.Class=Ft,V.Control=E,V.DivIcon=ha,V.DivOverlay=de,V.DomEvent=T,V.DomUtil=ge,V.Draggable=Q,V.Evented=Be,V.FeatureGroup=xe,V.GeoJSON=be,V.GridLayer=xi,V.Handler=G,V.Icon=Ke,V.ImageOverlay=Bi,V.LatLng=mt,V.LatLngBounds=Bt,V.Layer=$t,V.LayerGroup=$e,V.LineUtil=Xt,V.Map=M,V.Marker=Mi,V.Mixin=$,V.Path=Me,V.Point=st,V.PolyUtil=yt,V.Polygon=Je,V.Polyline=ve,V.Popup=Xi,V.PosAnimation=P,V.Projection=Li,V.Rectangle=fa,V.Renderer=ye,V.SVG=yi,V.SVGOverlay=la,V.TileLayer=ti,V.Tooltip=Di,V.Transformation=re,V.Util=Re,V.VideoOverlay=ra,V.bind=W,V.bounds=Yt,V.canvas=ga,V.circle=function(s,l,u){return new ta(s,l,u)},V.circleMarker=function(s,l){return new Ti(s,l)},V.control=I,V.divIcon=function(s){return new ha(s)},V.extend=ht,V.featureGroup=function(s,l){return new xe(s,l)},V.geoJSON=oa,V.geoJson=Ri,V.gridLayer=function(s){return new xi(s)},V.icon=function(s){return new Ke(s)},V.imageOverlay=function(s,l,u){return new Bi(s,l,u)},V.latLng=ut,V.latLngBounds=Ct,V.layerGroup=function(s,l){return new $e(s,l)},V.map=function(s,l){return new M(s,l)},V.marker=function(s,l){return new Mi(s,l)},V.point=at,V.polygon=function(s,l){return new Je(s,l)},V.polyline=function(s,l){return new ve(s,l)},V.popup=function(s,l){return new Xi(s,l)},V.rectangle=function(s,l){return new fa(s,l)},V.setOptions=_t,V.stamp=ct,V.svg=pa,V.svgOverlay=function(s,l,u){return new la(s,l,u)},V.tileLayer=ca,V.tooltip=function(s,l){return new Di(s,l)},V.transformation=Nt,V.version="1.9.4",V.videoOverlay=function(s,l,u){return new ra(s,l,u)},window.L);V.noConflict=function(){return window.L=va,this},window.L=V});